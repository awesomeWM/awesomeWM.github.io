commit 58fed31d88677a643cdf3365c759c295c3f10b01
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Dec 20 22:36:39 2016 -0500

    change codename

commit 69915fb6585ec483844635d02992d7c75cc6fc25
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Dec 25 13:13:33 2016 +0100

    Travis: fix "Testing previous commits"
    
    Fixes/massages TRAVIS_COMMIT_RANGE.
    
    Ref: https://github.com/awesomeWM/awesome/pull/1298#pullrequestreview-14364986

commit 88cca77fdb0a34f2b69eb0fecdec142ff89b218a
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Dec 25 15:26:09 2016 +0100

    Travis: use travis_fold function for folds
    
    Ref: https://github.com/travis-ci/travis-build/blob/7cac7d393c7487497bf8164f74892aedf15633c5/lib/travis/shell/generator/bash.rb#L109-L116

commit 3f9da4269d430667c32a05059617018e83cdb53e
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Dec 25 15:47:09 2016 +0100

    Fix test in test-spawn.lua (#1298)
    
    Copy-paste-y I was checking for the wrong result. Another unrelated
    problem with the test runner caused me to miss this. Sorry!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4abd820051d3e4b09de701de5c2ea33497132997
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Dec 25 15:13:22 2016 +0100

    tests: fix incrementing errors (#1297)

commit 59cd409517012b9bfe4e97668dae93ed671f12ec
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 25 14:46:57 2016 +0100

    Small cleanup to test-spawn.lua
    
    This removes a duplicate test and moves some "spawn with empty string as
    argument" up to the long list of similar tests (and adds error
    checking).
    
    I do not see the point of the assert(#client.get() == 0) and so it was
    just dropped.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 461da9ea4b96a94fb16055dd0c75c4832f081b75
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 25 13:38:49 2016 +0100

    Fix error handling in awesome.spawn()
    
    Commit 5e6a893 broke error handling in awesome.spawn(): Instead of
    returning an error message, it would just return its last argument.
    
    This commit fixes that, removes some not-so-helpful warnings, and adds
    lots of tests for this code.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1281
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 40c653c4b68102094164ded5ed4ba76b087876cc
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 25 13:05:26 2016 +0100

    Fix luacheck warnings in wibox.drawable
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fb874122ba1ac06a3af29c39c5abe6415e77bbf8
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Dec 25 03:46:28 2016 +0100

    tests/run.sh: SHELL=/bin/sh, HOME=/dev/null (#1291)

commit da415e0f9afe262a1a09bb3e8fc1ca314f373627
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Dec 25 03:43:24 2016 +0100

    Fix tests/test-awesomerc.lua (#1289)
    
    Locally I got this, where only two xterms were opened.
    
    ```
    % tests/run.sh test-awesomerc.lua
    awesome_log: /tmp/tmp.ToAKs6Gw4J/_awesome_test.log
    == Running test-awesomerc.lua ==
    Error: timeout waiting for signal in step 1/11 (@20).
    ===> ERROR running test-awesomerc.lua! <===
    Error: timeout waiting for signal in step 1/11 (@20).
    There were 1 errors!
    ```

commit 58067834ad3a72c4aac605ffb2dde0c472305ccf
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Dec 25 03:43:03 2016 +0100

    tests: remove TEST_QUIT_ON_TIMEOUT/quit_awesome_on_timeout (#1288)
    
    It was set to 1 unconditionally anyway, and does not make sense to parametrize after all.

commit 8c9a1b549137027317d7cda17f6a706424ecd445
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Dec 25 03:09:43 2016 +0100

    fixup! tests/run.sh: shellcheck and other fixes

commit a944636c0281314ef66c4e5803496c37add0acfb
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Dec 25 03:08:35 2016 +0100

    tests/run.sh: shellcheck and other fixes

commit fd1a622b5f3c6f39741f727d5df3afbedd18919a
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Fri Dec 23 19:13:25 2016 +0100

    Sign release tarballs (#1286)
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1254
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 52e31367a794865715e4833557410b9e86419e5c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Dec 20 21:59:07 2016 -0500

    doc: Add a porting guide.

commit a93084947a1533878ee9d406113aabfaeb361cda
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 19 21:23:54 2016 -0500

    doc: Add a virtual screen example

commit 2b462cb2e35f42271843cb98f9bfd6206d5258b0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 19 20:49:04 2016 -0500

    doc: Document the tag `master_fill_policy`

commit 66a948699265745188c73fbb88067ce6076d7d77
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 19 20:40:34 2016 -0500

    doc: Add optional shortcuts to manage tags

commit 2fe4e683554acc3022fa453e37acfdee6315801d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 19 23:42:24 2016 -0500

    doc: Add keybinding documentation

commit 4dd30c29dbf344e6881e813a82e05afef542ca6f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 19 20:40:14 2016 -0500

    doc: Add common ways to access the tags

commit 2523be99d49f171c2891accb401c9f04ff6468f3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 19 20:39:40 2016 -0500

    doc: Add how to add tags
    
    It's a common question

commit 8935ed2a30e78f6765eb6c5a86558171e4685441
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Tue Dec 20 20:03:03 2016 -0500

    Remove traces of the old URL (#1280)
    
    **WARNING**: This breaks the API

commit 11af40b916f596067451f4759bbfeb89f338033e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 18 19:11:39 2016 +0100

    Fix luacheck warnings in tests/_multi_screen.lua
    
    This is a partial revert of commit 7901a1c6479aea. The end result is the
    same, but the change from that commit is reverted and instead the same
    thing is done in a different way.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1b42816e093903a47b35904b12deb4d760782ace
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Mon Dec 19 00:20:07 2016 +0100

    Sync instead of flush after setting a wallpaper (#1278)
    
    When setting a wallpaper, we open a second connection to the X11 server
    and create a pixmap there. This pixmap is then used as the wallpaper. We
    do this so that we can use a "close down mode" called "permanent". This
    means that the X11 server will not free the pixmap after we disconnect,
    but keeps it allocated. Setting this close down mode is the last thing
    that we do on the setup-the-wallpaper-connection before disconnecting.
    
    However, sometimes things didn't work around. The wallpaper was missing
    and trying to query it resulted in errors that basically mean "there is
    no such pixmap". Thus, the symptoms say that the close down mode did not
    work.
    
    This commit is an attempt to fix this. Instead of just flushing before
    closing the connection (sending all outstanding requests to the server),
    this commit does a sync, which means it sends a request to the server
    and waits for a reply. This guarantees that all previously requests were
    handled.
    
    The theory here is like this: We send the SetCloseDownMode-request and
    then immediately disconnected. If the X11 server notices that we are
    disconnected before handling the SetCloseDownMode-request, the request
    would be ignored.
    
    This theory is consistent with the symptoms above and in my local
    testing this patch seems to fix things, but since the error only
    appeared sporadically, I cannot be 100% sure. Still, it all seems to
    make sense to me.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1276
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 939453cabea77bfdd8c0b1956527e82608340ca7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 18 18:59:58 2016 +0100

    Fix luacheck warnings in the logo-tests
    
    Ever since these files were added, these problems existed. I have no
    idea what alt_fg is supposed to mean, but since a value of nil is
    apparently ok, I just pass in nil directly.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 226bb2cc31596e9cd19f08fbaeb3ad4ba061227e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 18 18:57:58 2016 +0100

    Fix luacheck warnings in themes/xresources/assets.lua
    
    These were introduced by commit 12e1bd67473d5.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9dba9bbc90ffdab820a044e47722ef459b9cf73c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 18 11:20:55 2016 +0100

    Fix luacheck installation on Travis
    
    A trivial typo in .travis.yml caused luacheck to never run.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4d2a1d553464db8e29cc9947a9320ef8ca66f364
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 27 18:09:10 2016 +0100

    wibox.drawable: Support forced screens
    
    Up to now, a drawable always figured out the screen that it is on by
    looking at its position. This causes memleak-like problems with wibars:
    A wibar has a screen assigned, but its underlying drawable will end up
    referring to another screen. Via this, we were managing to build a long
    reference chain of screens and drawable that meant that none of the fake
    screens that our test suite added could be garbage collected.
    
    To fix this, add wibox.drawable._force_screen(s). After this function is
    called, the normal screen detection based on the position is skipped and
    instead the given screen is always used. This breaks the above reference
    chain and things become garbage-collectable.
    
    Also, this chains the drawable to the life time of the screen: When the
    screen becomes invalid (.valid == false), the drawable will stop
    redrawing.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1237
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 530e64e9ec9755af34c3fd7d24ef7a287fe0dd5a
Author: Enric Morales <me@enric.me>
Date:   Fri Dec 16 22:02:35 2016 +0100

    Fix more typos

commit 5ff29bb00e1221f503d1fa937c9dfd039372abef
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Dec 14 22:08:06 2016 -0500

    doc: Document how to open a document using `awful.spawn`

commit 1efbb5704970f811c853b98a8117b21cd7900b94
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Dec 14 21:54:44 2016 -0500

    doc: Add a little awful.spawn async tutorial

commit 7f1933f99cc9285f3cdc6e907883e2ed49c00799
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Dec 14 20:46:42 2016 -0500

    doc: Document when spawning with a shell is needed

commit b9dbc793089192e6c1c252d86854e7b2f59c0736
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Dec 14 20:28:24 2016 -0500

    doc: Add more `awful.spawn` documentation
    
    It was lacking

commit 9ef84550f92ba34ad04626b5c6485806ed6d031f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Dec 14 20:26:38 2016 -0500

    FAQ: Add more entries for common questions
    
    Data mined from the IRC logs by checking for a "?" from users who
    had not spoken for >= 5 hours.

commit 4bed437d50b14746014bb460d5ef89758d7ff52c
Author: Enric Morales <me@enric.me>
Date:   Wed Dec 14 16:26:00 2016 +0100

    Fix some minor typos in 89-NEWS.md

commit 2338f84369a35cfb4d39012da7ca07546ca42320
Author: Enric Morales <me@enric.me>
Date:   Wed Dec 14 15:53:13 2016 +0100

    Should be non-exhaustive instead of non-extensive

commit c2b265f3bada91d6521226e22386946a3e1d63e1
Author: Enric Morales <me@enric.me>
Date:   Wed Dec 14 15:41:01 2016 +0100

    Correct minor typos in 16-using-cairo.md

commit d7a0486da9a142aa6439136268adc2aa796114a7
Author: Enric Morales <me@enric.me>
Date:   Wed Dec 14 15:37:34 2016 +0100

    `awesomerc.md.lua` typos and grammar

commit 329a302164ee33eab5c81505dbbd83162ca20590
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Dec 14 11:44:59 2016 +0100

    Remove the executable bit from ewmh.c and awesomerc.lua
    
    These files do not need to be executable and the commits which made
    these executable apparently only did so accidentally (Commits
    37684abe3342886a3bd5f and bfc6065ad9d508c8218).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8bd0da53159338b5a446ceccc812feef14e3279c
Author: Enric Morales <me@enric.me>
Date:   Tue Dec 13 23:31:25 2016 +0100

    Fix typos in declarative layout docs

commit 731ddfe9c921f6e450fa06f7f3be8b6754abe24f
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Dec 13 17:48:13 2016 +0100

    Remove docs/doing_a_release.md
    
    I am no longer sure why I added this file. It doesn't really belong into
    the awesome source code. It is better suited to be added to our web
    page, I think.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7961b8ec4bb3731027ee165e3876749fe7aa380a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 12 12:47:35 2016 -0500

    tests: Test the wallpapers

commit ff1201f047e21f0c90429e6478bf9e0782e9abe8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 12 11:55:00 2016 -0500

    FAQ: Add an entry about the recent multi-screen changes

commit 1368212fb76eda6ac090289140d9fc1148f73ccd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 12 11:48:20 2016 -0500

    tests: Test the `tag` and `tags` rules with multiple screens

commit 7901a1c6479aea82031c5bbffca07eb7f6567c40
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Dec 12 10:53:01 2016 -0500

    tests: Disable the wallpaper for multi-screen tests.
    
    I really try to avoid doing this, psychon too, but enough is
    enough. We don't have a solution and I would rather add more
    tests that work than keeping a test that keep "failing" just
    to remind us it's there.

commit 4b61dbba82cc1bf157ced02dbca37ced8b457016
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 22:47:15 2016 -0500

    rules.tags: Behave like rules.tag
    
    One did try to match tag by name and the other didn't.
    
    While at it, also ensure that the screen is consistent.

commit c96aa9866e437795589fd6cc8a3be3d6a6085aa1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 22:38:40 2016 -0500

    rules.tag: Prevent a screen mismatch
    
    As c:tags() doesn't (cannot) check for screen mismatch, then it
    has to be done.
    
    This is a follow up of 6f7019b2d0, see #1236.

commit 828d6f2cd9843e8d18868f8f605afcb4e4402dd8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 14:53:44 2016 -0500

    utils: Better class deprecation warnings
    
    Fix #1228

commit e239492696334775a6917cf11e3c6f5315d79dc8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 14:51:33 2016 -0500

    utils: Add optional awful.util.deprecate options.
    
    For now, only a `raw` option is implemented.

commit 6aa42ff8e3c0523365525820e90a38f88373fdcb
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 14:13:24 2016 -0500

    doc: Change the wording of the module aliases
    
    Fixes #1146

commit 52fbf493097a41d71715b775afe309584942ed70
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 14:39:05 2016 -0500

    prompt: Fix indentation
    
    There was tabs mixed with spaces

commit 73afe0e954d49246bfefaf1597aca15418b8fa91
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 14:35:20 2016 -0500

    doc: Add a prompt example.

commit 0e1c19345093a44e6cfdf8860310d79d0eccd270
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 14:19:25 2016 -0500

    prompt: Make exe_callback optional
    
    The menubar already bypass it using keypress listener. Having an
    empty callback is ugly.
    
    Fixes #1180

commit 0a1897946c35c217865e3689f01ddff0839b6dc2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Dec 9 23:55:48 2016 -0500

    doc: Add the 4.0 changelog

commit 1eeaf6b9c98796b57504ede2993bae84b1b9451f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Dec 9 23:58:11 2016 -0500

    doc: Add a missing awful.rule field

commit 5aa38f6fe524c55173caccd67d94668df6a393ba
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Dec 9 23:55:13 2016 -0500

    doc: Add a missing ewmh handler documentation

commit aed2268a18ac4c9b1b828ba588c40e3a4f593018
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Dec 9 23:54:04 2016 -0500

    doc: Update the authors
    
    Cleanup and point to the GitHub page for the recent contributors.
    
    Some older contributors don't have GitHub accounts, so are
    invisible, so I left the old list intact.

commit beb997f84867232ae707d1aff47d8db29de915df
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 00:05:50 2016 -0500

    tests: Test the xresource theme logo generation
    
    As a side effect, this creates valuable SVG assets

commit 12e1bd67473d53019ad56f262d61dc2bea8504af
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 00:05:02 2016 -0500

    theme: Refactor xresource wallpaper to expose the vectorial logo

commit e01de8d977ef4cd4ec102e4b896e4408a5b1bf25
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Dec 11 00:04:35 2016 -0500

    tests: Expose the themes to the examples tests

commit 548b15e883836a2f784a4b163b097c3f523a68e0
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Fri Dec 9 20:24:22 2016 -0500

    doc: Document the client layouts. (#1247)
    
    This commit doesn't add any useful documentation, but adds
    previously hidden documentation variables. It can be the basis
    of a better layout documentation.
    
    Fix #1246

commit 13e8088d622a63790d08560d4fc6834d4c20da77
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Dec 10 00:48:53 2016 +0100

    Handle unexpected XCB failures (#1260)
    
    We have many places where we are sending an XCB request and expect an
    answer where the protocol guarantees that no error can occur and we are
    sure to get an answer. However, for example if the X11 server crashes,
    these places can still fail. This commit tries to handle failures at all
    these places.
    
    I went through the code and tried to add missing error checking (well,
    NULL-pointer-checking) to all affected places.
    
    In most cases these errors are just silently ignored. The exception is
    in screen querying during startup. If, for example, querying RandR info
    fails, we will fall back to Xinerama or zaphod mode. This is serious
    enough that it warrants a warning. In most cases, we should exit shortly
    afterwards anyway, because, as explained above, these requests should
    only fail when our connection to the X11 server breaks.
    
    References: https://github.com/awesomeWM/awesome/issues/1205#issuecomment-265869874
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9a5092226a1b21b4dd550946c4c021ba31663d13
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Dec 9 18:03:03 2016 +0100

    awful.wibox.stretch: Spell out full replacement
    
    The function that is documented as awful.wibox.stretch is deprecated,
    because it was removed (that's not a deprecation, is it?!?). For the
    replacement, we used "@see stretch". However, LDoc was randomly
    resolving this reference to awful.wibar.stretch (good) or
    awful.wibox.stretch (bad; the see points to the element where it
    appears).
    
    Fix this by spelling out the "full name" of the function in the @see.
    
    Related-to: https://github.com/awesomeWM/awesome/issues/834
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 480b8b6477bb26a727ad3f0903caa80cb7e67e1b
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Dec 9 18:00:40 2016 +0100

    Remove @see tag.swap on awful.tag.object.swap
    
    The only other swap function is awful.tag.swap and that one is
    deprecated. Thus, it should not be linked to.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 178451841532b1b415c33d6e63b2dc7a3867e4a1
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Thu Dec 8 23:53:50 2016 +0100

    Add pointless naughty.lua and beautiful.lua files (#1259)
    
    People who use a plain "make install" to install awesome will likely
    also use the same approach to update their installation. However, this
    does not actually work, because in awesome 3.5 there are beautiful.lua
    and naughty.lua. These modules have since been split up into multiple
    files and we now have beauitful/init.lua and naughty/init.lua instead.
    The result is that the newer awesome will use some code from an older
    version of awesome.
    
    This commit has a work-around for this: We add "empty" beautiful.lua and
    naughty.lua files whose only purpose is to load the real file. These
    "empty" files will then overwrite files from an older installation and
    everything works.
    
    Sadly, this bad hack will have to be kept around forever and in the
    future we will only have more instances of it. I would like to just say
    people to fix their system, but apparently this should be worked around
    instead.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/244
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9f2c4719edb0a809641c5e6a2d3345312b8fa70a
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Wed Dec 7 20:20:09 2016 +0100

    Make the piechart deterministic (#1258)
    
    Previously, the API to set the data that should be displayed was
    :set_data(t) where t is a table. This table has the labels to use as its
    keys and the numbers as its values. With this API, it was not possible
    to influence the order in which the "pie pieces" were drawn.
    
    This commit adds and uses a new API called :set_data_list(t). Here, t is
    a table with integer keys and tables as values, thus one can iterate
    over this with ipairs() and the order is well-defined. The tables used
    as values contain the label as their first entry and the number as their
    second entry.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1249
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 26c0a3c2c5b923fcdd08d26a87e520a58fe6dbb9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Dec 2 15:49:10 2016 -0500

    cmake: Check dependencies one by one
    
    It was currently done all at once. Therefore, the error message was:
    
    CMake Error at /usr/share/cmake/Modules/FindPkgConfig.cmake:415 (message):
      A required package was not found
    
    With no further information besides the full dependency list.
    
    With this change, it will print the missing package.
    
    Closes https://github.com/awesomeWM/awesome/pull/1253.

commit 5d81441c76ef90d8035d234d110136948f73f8ff
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Fri Dec 2 21:23:36 2016 +0100

    Make the resize_to_mouse example test deterministic (#1250)
    
    This test has a list of "things" that should be present in the output. This
    table is iterated over via pairs(), which means that the output is
    non-deterministic and the order of the entries is basically random.
    
    Fix this by using ipairs() to get a deterministic iteration order. This requires
    some slight change to the table that is iterated over.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cb61c1884f5051bd67b74eaf548dd6e8447bbbdf
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Fri Dec 2 20:30:10 2016 +0100

    Remove a case where a pointer appeared in text tests (#1251)
    
    This printed a table. This will make Lua print the address of the table and
    hence the output of this test was non-deterministic.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 771f5a13c6841bf6ef2bafaa85b63ab935281e9d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Dec 1 19:34:46 2016 -0500

    tests: Bump the timeout to 3 minutes.
    
    There we go again... When hitting a slow CI node, there is again
    timeouts when doing the multi-screen tests. As no solution to
    bug leading to this has been found, the only thing to do is
    increase the timeout.
    
    Hopefully this commit will be reverted soon.

commit 4cb11b8754f20ad86a7fb389d9541175f7b13f87
Author: Michael Beaumont <mjboamail@gmail.com>
Date:   Thu Dec 1 22:04:57 2016 +0100

    Fix awful.tag.add ignoring props.index (#1245)

commit 5158f39c49c8179603a6f3ca1a175ee47ca2ecc6
Author: Daniel Hahler <github@thequod.de>
Date:   Thu Dec 1 18:04:18 2016 +0100

    Travis: use Lua from lua.org again (#1244)
    
    This reverts commit cf96296f2795a0932ff227d074e3a81c1aa771d2 (partly).
    
    Fixes https://github.com/awesomeWM/awesome/issues/1242.
    Ref: https://github.com/awesomeWM/awesome/pull/1243#issuecomment-264212802.

commit 3a7e14e5d73c406eeb84b2fa131882a560c6f4af
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Nov 28 21:02:27 2016 +0100

    Improve API of test/_client.lua
    
    The first return value was always true. How useless...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f9cdc98c73632c69c6c06159a8b45097f8efc88c
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Nov 28 20:58:28 2016 +0100

    Fix spawn callbacks
    
    Spawn callbacks were never invoked when no startup-notification-rules were
    given. This commit fixes the code so that "startup done" callbacks are also
    called when no rules were given.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1218
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6558164e534a736ebb5f4bfbddd6fa0b93a30374
Author: MoreThanOneAnimal <MoreThanOneAnimal@gmail.com>
Date:   Mon Nov 21 22:41:29 2016 -0800

    Create artificial gears.color documentation.
    
    Point from parse_color function to gears.color in documentation.
    Fix minor issues (typos, indentation) in docs.

commit 495e579fdbd1efb95c1b469ea563fdb7ba096318
Author: MoreThanOneAnimal <MoreThanOneAnimal@gmail.com>
Date:   Sun Nov 20 00:40:56 2016 -0800

    parse_color function refactoring:
    
    - simplified parsing logic,
    - return nil for incorrect input,
    - update tests and doc.

commit 51bbb53b303be5068eace3743934b1aee9414192
Author: MoreThanOneAnimal <MoreThanOneAnimal@gmail.com>
Date:   Sun Nov 20 01:01:39 2016 -0800

    Add references to gears.color in documentation.

commit 333cd6491f57d8ce9b7d665f2b48d8bc8e51682d
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Nov 27 15:24:04 2016 +0100

    Travis: run luacheck just once (#1230)
    
    This also helps to easier spot failures because of this when looking
    at the build matrix.
    
     - Add new check-qa target, to be run only once.
     - Add explicit check-unit-coverage target, used with DO_COVERAGE.

commit 28486527e7d54dc6237d6921ebc65978f3f2d9a5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Nov 27 04:52:47 2016 -0500

    tests: Add a `new_tag` rule multi-screen test

commit 6f7019b2d002967887a8f55fdfe8cb2d42d0fb71
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Nov 27 04:37:39 2016 -0500

    rules.new_tag: Fix when the tag screen doesn't match the client
    
    Also add the documented `props` argument to the high priority
    rules.

commit 41a055cf83d39a2f350b111844604951316dcdc0
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Fri Nov 25 22:41:58 2016 +0100

    Guarantee stable output from 06-appearence.md.lua (#1233)
    
    This function was iterating over a table with pairs() to generate output (the
    sample theme file). Since pairs() does not guarantee any iteration order, this
    lead to a different order each time this file was generated. This is, for
    example, visible in the diffs in the generate api documentation repository.
    
    Fix this by using a self-made iteration function which behaves like pairs(), but
    guarantees an iteration order sorted by keys.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fc13b1b4ebf70ef5e8496cb30eb46e5c4d5de550
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Nov 22 02:36:16 2016 +0100

    doc: s/Wether/Whether/

commit b2358a312a936b367ceb14d807ae5648236f7d1b
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Oct 5 00:13:47 2016 +0200

    Travis: branches: only: master, 3.5

commit eed3d7e63a310a5be8ede6cdc20f12d75dbd422b
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Oct 5 00:10:59 2016 +0200

    lib/wibox/widget/base.lua: doc fixes

commit e1ccfe91682bfbf897986952320001bc4565c4de
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Nov 22 01:15:31 2016 +0100

    doc: fix context doc

commit 326271f73b768812ac00fd028622624361db4767
Author: Daniel Hahler <github@thequod.de>
Date:   Tue Nov 22 01:02:06 2016 +0100

    Travis: remove luajit from allow_failures: seems to be fixed (#1231)

commit 71259748d2dbedd1db330b9b9b5b1ab515423080
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Nov 9 21:46:58 2016 +0100

    Minor doc and code style fixes
    
    Closes https://github.com/awesomeWM/awesome/pull/1215.

commit aeab2a70e908389e6ac9b130928c7b92582d40f9
Author: Daniel Hahler <github@thequod.de>
Date:   Mon Nov 21 22:38:23 2016 +0100

    Fix whitespace warnings reported by luacheck (#1229)

commit 3fea2db8c5f8cd5a2f3ed463fe57dcdc673c3afc
Author: actionless <actionless.loveless@gmail.com>
Date:   Wed Mar 23 01:15:16 2016 +0100

    feat(awful: hotkeys_popup): add possibility to create new widget instance

commit 55689b4cc7e350e00132c9f1ccb304e984ca4722
Author: Daniel Hahler <github@thequod.de>
Date:   Wed Nov 16 11:14:19 2016 +0100

    doc: improve client class (#1221)

commit 61d4f4310a541b9e3feef8a4af1ec4bb36835a54
Author: MoreThanOneAnimal <MoreThanOneAnimal@gmail.com>
Date:   Tue Nov 15 23:25:31 2016 -0800

    Use unmodified command for the command history.
    
    Closes awesomeWM/awesome#1104.

commit 2d5a1798afd324bedf1b62f1f7a0ff2f777cb77c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Nov 15 01:07:25 2016 -0500

    doc: Document tasklist_plain_task_name
    
    It was missing.

commit 4efdd2f5c67124a3ec4c4ed95997f21fa551b9cc
Author: Yauhen Kirylau <actionless.loveless@gmail.com>
Date:   Mon Nov 14 13:31:59 2016 +0100

    docs(readme): add xcb-util-xrm to dependencies' list

commit cf96296f2795a0932ff227d074e3a81c1aa771d2
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Nov 6 20:43:45 2016 +0100

    Travis: use Lua 5.3.3, from GitHub mirror (#1208)

commit 8409639d4d57b1181cde373eaa659626858db5e7
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Nov 6 01:24:25 2016 +0100

    Blacklist broken LDoc versions (#1207)
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1098
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a4748164abba984253074604819cb31effb3b632
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Nov 4 17:24:08 2016 +0100

    Add fallbacks for when XKB is unavailable
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1205
           (for master, dunno about 3.5)
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c7423fe79ef2487d38b43f954c2879e144db49f0
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Nov 4 17:21:06 2016 +0100

    Really stop using Xlib
    
    Apparently I forgot some part...?
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0e81479a3f905f4551c88e4ad480972f1a9cff7b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 30 18:47:52 2016 +0100

    Use xcb-util-xrm
    
    Instead of using Xlib for parsing resource files, this now uses the
    dedicated xcb-based library that is meant for exactly this task.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1176
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b2e0e55fc0aee1ff3b495485e724b0036b71d8c3
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Mon Oct 31 23:22:31 2016 +0100

    tests/run.sh: Inherit $HEADLESS (#1201)
    
    Via this, I can set HEADLESS=1 in my wrapper-GNUMakefile that I use and
    "make check" will no longer open a new window that gets in my way.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3ba07d77a6edc1c0239fe5676483c953944f4d9e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 30 13:15:06 2016 +0100

    Fix three typos
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 70f9999a068d4e7131c0ce0d57062743f153fd08
Author: Yauhen Kirylau <actionless.loveless@gmail.com>
Date:   Sat Oct 29 15:15:14 2016 +0200

    fix(rc.lua): don't pass arguments to awesome.quit from menu
    
    Closes #1197

commit dfa7d44ebde25092aac6dceb21476f6d9317ade7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 29 13:13:34 2016 +0200

    Add LGI version number to --version output
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e1d05e5209964f67f1230c63e80440aea145577d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 29 11:57:02 2016 +0200

    Add more information to the --version output
    
    This should now handle all #ifdef's that we react to.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7712383475c354eeb654b7d5c0fb3f77789bd81f
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Oct 28 16:58:30 2016 +0200

    Add a test for screen :swap()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 31899965072e63907dba975b00e1850d77f92433
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 23 15:01:12 2016 +0200

    screen: Implement :swap(s)
    
    This allows to change the order in which screens appear in our list of
    screens.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1122
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c347c0a54cf31155b443ba5c96ddbefb912c94eb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 23 15:00:27 2016 +0200

    screen: Add a "list" signal
    
    Similarly to what we do with the client list, this signal is emitted
    whenever the list of screens changes.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c218b1da72019185fdc59df88679690e907acc12
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 29 09:34:45 2016 +0200

    Test and fix swapping clients
    
    The code in luaA_client_swap() is incorrect, because
    luaA_object_emit_signal() already pops the arguments to the signal.
    Still, the code here tried to remove the arguments from the Lua stack
    again, thereby corrupting the stack (removing more items than there are
    in the stack).
    
    Normally, popping more things from the stack than it has entries
    silently corrupts the Lua stack. Apparently this doesn't necessarily
    cause any immediate issues, because this code has been broken since nine
    months and no one noticed. This mistakes was introduced in commit
    55190646.
    
    This issue was only noticed by accident. Thus, this commit also adds a
    small integration test that exercises this bug. This test catches the
    issue, but only on Travis, because there we are building our own version
    of Lua 5.3 and that one has assertions enabled.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d71bb665d1e4f39bce1344da45462b2af5e79b77
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Thu Oct 27 10:40:53 2016 +0200

    awesome.quit(): Add exit code argument (#1192)
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1184
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d0dc447dd5457670ee43ccc5a018db0b119e922d
Author: Daniel Hahler <github@thequod.de>
Date:   Wed Oct 26 16:20:34 2016 +0200

    Emit screen::arrange signal outside of arrange_lock (#1191)
    
    This will handle changes in the layout recursively, e.g. when changing
    the border_width of clients.
    
    Ref: https://github.com/awesomeWM/awesome/issues/171#issuecomment-256146578

commit d07fc822a10acfa4eab54e42c24543f4a3cdc0be
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Wed Oct 26 01:43:45 2016 +0200

    Fix awful.tag.object.get_gap_single_client (#1190)
    
    The usual "a or b"-trick to simulate C's ?:-operator does not work when
    "false" is a valid value. Fix the code to handle this correctly and add
    a short unit test which would have caught this problem.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f71592a00a26a5ecbb1ed4c46886d9b0879441f2
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Tue Oct 25 15:37:49 2016 +0200

    gears.matrix: Add create_rotate_at() (#1181)
    
    We already have a variant of this function for transforming an actual
    matrix. This adds the corresponding static factory.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c1b6b204d68b6e84ca7040b014cc537522bb73bb
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Tue Oct 25 00:23:18 2016 +0200

    awful.util.file_readable: Use Gio (#1187)
    
    Instead of doing Linux-specific magic with error codes and trying to
    read the first byte of a file, just use Gio to check if a file exists
    and is readable.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 70d4961a3e5b2347b1689593f0574117f9aaf3ef
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Tue Oct 25 00:22:36 2016 +0200

    awful.spawn: Separate rules from callbacks (#1186)
    
    When adding callbacks as a `callback` entry in a property, the callback
    is run by `awful.rules`, because it does `c.callback =
    result_of_function`. This is obviously not intended. Also, this causes
    the callbacks to run twice, because the code already handled this
    `callback` property specially.
    
    Fix this by just not merging callbacks with the normal rules at all.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1159
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 56d4cdfa329080820fa65fcee3c87dea486be43c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 22 11:21:27 2016 +0200

    CMake: Automatically collect generated doc files
    
    Instead of hardcoding the list of generated doc files as dependencies to
    ldoc, we jump through some hoops to compute this dynamically.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4f1897b2563053971ba83582d4d0e2349c9be4b5
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Oct 10 19:54:05 2016 +0200

    Ignore warnings from ldoc by default
    
    A while ago, we made errors from ldoc fatal by default. Then a new ldoc
    release appeared and caused problems for all of our users, because
    awesome failed to work.
    
    This patch reverts the previous fix so that we ignore ldoc warnings by
    default again. However, to catch ldoc warnings on Travis, another
    ldoc-building-target is added that fails on warnings. This new target is
    included in our "check" target.
    
    This fixes the intend of issue #1098 ("Users with ldoc version X cannot
    build awesome"), but it does not actually employ the solution proposed
    there ("Blacklist those ldoc versions"). Still, since this fixes the
    intend of the issue, I count it as fixed.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1098
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3bd045b57cafd7e113bee8bf42aed8af79696581
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Oct 22 10:46:49 2016 +0200

    Check for pending events after the main loop (#1163)
    
    At the beginning of every main loop iteration, we check for new events
    from the X11 server. However, it's theoretically possible that during a
    main loop iteration new events arrive and are read by libxcb into its
    internal buffer. This would mean that the fd connected to the X11 server
    is not readable and thus we do not wake up to handle these events.
    
    Handle this by checking for pending events before calling poll(). If a
    new events appears, we set the timeout for poll() to zero and will then
    handle the new event in the following iteration of the main loop.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0b17e5dac3b33877b161270a063e5fa4cd0b685c
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Oct 22 10:44:54 2016 +0200

    Fix unbalanced Lua stack operation (#1162)
    
    Add a single "do" to the beginning of the config. This causes a parsing
    error ("'end' expected") and then another warning saying "something was
    left on the Lua stack.
    
    Fix this by popping the error message where we need to do so.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ed3aac711d4646a6dec0c676ab47cb93cc29a0ad
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Oct 22 00:54:08 2016 +0200

    Fix traceback in gears.protected_call (#1178)
    
    The traceback should not include the error handler because this is confusing.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 289dfd1615f45c8ae299aa29818478a3e8f97258
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Wed Oct 19 12:32:30 2016 +0200

    gears.surface.widget_to_*: Ignore repaints (#1155)
    
    For some reason, the code here tried to handle widget::redraw_needed
    signals even though it should apparently/obviously only produce a
    current snapshot of the widget's look.
    
    Fix this by just removing the redraw code.
    
    While here, also factor out the widget context table into a local
    variable and re-use it for the initial layout and for the later draw.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bc75ef5689895c8015eb5ca41499600fdee9d06c
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Wed Oct 19 12:29:54 2016 +0200

    menubar.utils: Use a protected call (#1174)
    
    When awesome calls any Lua code, it does so with a protected call. This
    means that any kind of Lua error should (there are exceptions) just
    result in an error message being printed and everything continuing as
    usual. When LGI calls Lua code, it uses a normal call. This means that
    in an asynchronous context, that is, when there is no more call
    generated by awesome's C code on the call stack, we must be careful,
    since any error results in Awesome's unprotected error handler to be
    called which restarts the WM.
    
    menubar.utils.parse_dir() asynchronously parses a directory containing
    .desktop files. This means that it is no longer in a protected call
    context. Let's assume that the code itself is fine. However, the
    callback that the caller provided for handling the results can be quite
    arbitrary. Make sure that it is run in a protected context.
    
    Helps-with: https://github.com/awesomeWM/awesome/issues/1173
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a6af703c5dd79dd51cea7313a2b8ce9bac7b2344
Author: Haochen Tong <i@hexchain.org>
Date:   Tue Oct 18 12:40:47 2016 +0800

    menubar: Fix missing exe_callback in args table (#1173)
    
    Signed-off-by: Haochen Tong <i@hexchain.org>

commit 072ff10cf0ae96fdf9b65deb6d1d81b0bea9ec52
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Aug 4 18:12:59 2016 -0400

    tests: Test the slider widget.

commit 4b34e64fe263cb7efcd5f79ffeee731ce1b75b9c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Aug 4 18:12:38 2016 -0400

    widget: Add a slider widget.

commit 07f3a178fa3de7dc0de0b5c39661dcaf4ed75d0b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Oct 11 18:20:42 2016 -0400

    prompt: Fix 2 deprecation warnings
    
    An oversaw in a previous commit introduced deprecation warnings
    on the default config.

commit c9f085f4394e4875425d90e9c5d71e6a388c0b4f
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Mon Oct 10 21:00:20 2016 +0200

    Fix a broken deprecation warning (#1164)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 19fe233982799eda87f2e792507bd2d75827a2fa
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Oct 10 20:50:24 2016 +0200

    Corner layout: Fix deprecation warning
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fd3daf54b311b79f35b524138a0ff97a2633b391
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Oct 9 22:36:41 2016 +0200

    keyboardlayout: Don't break if parsing the layout fails (#1154)
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1108
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 259c4f716fbd08b4507ebb4cb4d40fe5cbabed0f
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Oct 9 22:36:20 2016 +0200

    Remove @release @AWESOME_VERSION@ everywhere (#1157)
    
    It does not provide much value. The version number is already known to
    ldoc globally in the "description" variable.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit eb7aa511fb0606f220f91cfecb287384498af7ff
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Oct 9 22:36:03 2016 +0200

    awesome-client: simplify/fix ISATTY usage (#1151)
    
    ISATTY was a bit confusing and can be replaced by `[ -t 0 ]`.
    
    Followup to 4ce1608.

commit 2fb8492076768481de2c403b083dbe4519b08ab9
Author: Daniel Hahler <github@thequod.de>
Date:   Fri Oct 7 23:32:58 2016 +0200

    awesome-client: allow override of rlwrap (#1150)
    
    This is necessary when being run with a tty that has no width, which
    happens when using https://github.com/metakirby5/codi.vim/ in Vim 8 (but
    not Neovim), where rlwrap complains as follows:
    
    > rlwrap: error: My terminal reports width=0 (is it emacs?) I can't
    > handle this, sorry!

commit 06f02f60040ee7596aefd202fc419a60c809bffe
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Fri Oct 7 00:46:57 2016 +0200

    Delay client frame window destruction (#1148)
    
    Daniel sees a short flicker of his wallpaper when he closes a client.
    This happens because the window is destroyed immediately, but other
    clients are re-arranged only shortly later. In the mean time, the X
    server updates the display and repaints the root window (= wallpaper
    becomes visible).
    
    Work around this by delaying the destruction of frame windows to the end
    of the current main loop iteration. This means that we first update the
    position of all other windows and later destroy the window that was
    actually closed.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b0b1e212ec0639b171c156c0639b13ff68f40afe
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Thu Oct 6 18:50:13 2016 +0200

    Fix short flicker when new clients appear (#1138)
    
    We are doing more and more things lazily in the C code. The newest
    addition is lazily configuring clients, which means that geometry
    changes are only applied later.
    
    However, this caused a short flicker when a new client appears: We were
    first making the client visible and then moving it to its "proper"
    position.
    
    Since unbanning is also done lazily, we just have to change the order in
    which we apply these operations to fix this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ab789e57a9990fc23ebef04b2e079676d7f8f7c0
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 21:16:33 2016 +0200

    awful.tag: Save all "generic" tag properties as real props
    
    Instead of using magic with a weak table, the code now saves this data
    as a property under the tag object. This avoids all kinds of leaks, for
    example caused by t.foo = t.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bf97cb6bfedaf64ae99bf8c7a824d6c2983433b2
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 21:03:34 2016 +0200

    awful.tag: Save dynamic_cache as a tag property
    
    Instead of using magic with a weak table, the code now saves this cache
    as a property under the tag object.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4ef63d94162e5b5fedf8781a407f7c6e4d921703
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 21:00:47 2016 +0200

    awful.screen: Save last mouse position as screen property
    
    Instead of using a weak table to save the last mouse position, this is
    now saved directly as a property under the screen.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3d048dca04c115546fbde2cf74246bac74e93583
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 20:55:28 2016 +0200

    awful.client: Save client properties under c.data
    
    Instead of using a weak table with some magic to save properties of a
    client, the code now uses the c.data table provided by the C code
    instead.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 22d1375e5f4cdec3e25bc1a993c3b30ed2d23154
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 20:41:18 2016 +0200

    awful.client: Remove persistent_properties_loaded
    
    Instead of having an extra weak table to save a boolean per client, this
    now sets a property directly on the client.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 90044e00da0b9b2f4bb53cf8811f32cfa3a3a106
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 20:35:04 2016 +0200

    wibox: Remove weak table hack
    
    No idea what self referencing loops this refers to. Lua 5.1's and
    LuaJIT's garbage collector both should handle cycles just fine. Things
    only start getting complicated when you start using weak tables.
    
    Unless someone comes up with an example where this patch causes a leak,
    let's remove the weak table magic.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 680bccf43fed16e89908623c34e689a74df792ac
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 20:27:47 2016 +0200

    Widget's mouse signals: Inline find_widgets() docs
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4bb02d1b531daeb348c60b642d0dc8ab63d34213
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 1 16:24:04 2016 +0200

    wibox.hierarchy: Fix the matrix_to/from_device
    
    Matrix operations are hard. Apparently I always keep confusing the order
    that transformations are applied in the matrix resulting from a matrix
    multiplication.
    
    This commit fixes things in wibox.hierarchy that were wrong due to the
    wrong order and changes a unit test so that it would now catch the
    breakage (and makes sure that it does not happen again).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6d8e91f5e21b6083afd2a55df68de1b15f7bcc69
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 1 16:16:11 2016 +0200

    Change API for wibox.drawable:find_widgets()
    
    Instead of matrix_to_device and matrix_to_parent, this now provides the
    full hierarchy instance managing the current widget.
    
    In addition to x, y, width and height (which are an over-approximation
    of the widget's extents on the drawable), this now also provides
    widget_width and widget_height in the widget's local coordinate system.
    These last two values are exact.
    
    For example, the tooltip needs x/y/width/height while a widget that
    wants to figure out which point on it was hit with a mouse press will
    need widget_width and widget_height (together with the position argument
    that is passed in with mouse::press).
    
    I don't know how to document the return type of this function properly.
    Hopefully just describing the structure of the resulting table is good
    enough.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ca947730ff8c1f6faba10890c6ef0e60979ed143
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 1 16:12:19 2016 +0200

    widgets: Make docs for button::press and release saner
    
    Previously, this mentioned non-existent arguments (widget) and
    duplicated parts of the (not yet really existing) API documentation for
    find_widgets().
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit eb9dbf991c88499a9b993563b8d2357b364254fb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 1 16:18:40 2016 +0200

    Widgets: Get mouse position right for button press/release
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9045add3f0f47cfcd13208046e623fec6aa18c88
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 1 16:09:30 2016 +0200

    Fix docs for mouse::enter and mouse::leave
    
    Just because they sound similar to mouse::press and mouse::release does
    not mean that the arguments are the same. Perhaps they should be, but
    that's another story.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6224fc6751fef1bfd84beee8afd37812b465d5aa
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 1 16:08:01 2016 +0200

    Improve docs for widget::layout_changed and redraw_needed
    
    The docs for widget::redraw_needed was previously just plain wrong!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0183372ac292621943b2df6094b5db977c7ee553
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 5 19:56:56 2016 +0200

    wibox.drawable: Do not relayout while invisible
    
    Similar to the previous commit, this makes the drawable not apply a
    pending relayout while it is not visible. When it becomes visible again,
    the relayout is done.
    
    The hope here is that less work is done while a drawable is not visible,
    saving CPU time.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 332681aaada7a541d940f82e99a46c429077d8d8
Author: Daniel Hahler <github@thequod.de>
Date:   Wed Oct 5 00:24:43 2016 +0200

    progressbar: keep set_height/set_width working (#1141)
    
    Ref: https://github.com/awesomeWM/awesome/issues/1140

commit 9b51779f2f964acbdc33415dc0e08f3265c64b5a
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Oct 4 21:27:10 2016 +0200

    wibox.drawable: Fix a possible crash
    
    LGI does not protect against use-after-free issues that can occur due to
    using an object after finalisation. This manifests itself as occasional
    crashes on Travis in cairo_region_union_rectangle() (AFAIK no one ran
    into this issue in real-world usage).
    
    Since visible drawables are always strongly reachable, the issue can
    only occur with invisible drawables. The previous commit made sure that
    those are fully repainted when they become visible, so we can just
    ignore redraws for those and fix the crash issue.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 650b01eb71caac4afb7687e81b8ffc24cb0f8171
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Oct 4 21:20:55 2016 +0200

    wibox.drawable: Stop using weak tables
    
    Instead of tracking all drawables that are alive, the code now only
    tracks visible drawables. When a drawable is made visible it is
    completely repainted. This should not cause a difference when a wibox is
    initially made visible, because it has to be redrawn anyway. However,
    this introduces a full repaint when a wibox is hidden and then made
    visible again.
    
    Thanks to this change, we can stop using weak tables. Visible drawables
    cannot be collected and so we can keep a strong reference to them. This
    allows us to get rid of the weak tables which solves various problems
    involving finalizers and using objects after finalisation.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 843d0bdcf540711949a22225cccab7d1d77b2c22
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Oct 4 21:18:18 2016 +0200

    wibox.drawable: Add visibility tracking callback
    
    This new function is called whenever the visibility of the drawable
    changes. Later commits can use this for explicitly tracking the lifetime
    of drawables instead of using magic weak tables.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c214a9b111bc69bfd820dfb465d5a6399c97a88d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Oct 4 00:40:34 2016 -0400

    doc: Document the client request::activate contexts

commit a2748a1fa33341ca82d2a9136f954950401cbe56
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Sep 28 16:39:07 2016 -0400

    tests: Test client focus stealing filters.

commit ef50f75551b6f117bbc081b53130615f137a790e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Sep 29 02:46:04 2016 -0400

    prompt: Add a key release callback.
    
    A possible use case is to highlight something when a key is
    pressed and un-highlight it when the key is released.

commit 11644f4582e1e120ba06cce6defdb77af0063eef
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Sep 29 02:41:01 2016 -0400

    prompt: Deprecate 8 parameters.

commit c00c14ade34d47dbeded7c4317136a88684128c4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Sep 29 02:36:13 2016 -0400

    doc: Improve the prompt documentation
    
    It was still pre-ldoc

commit e5ebcc1e4cb526c0b9d0d2dea5efc374a025f4df
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Sep 29 02:29:38 2016 -0400

    prompt: Allow each argument to be passed to the "args"
    
    This is the first step in deprecating them. A function with so
    many optional arguments is just bad design.
    
    The next few commits will rewrite the documentation and deprecate
    the old arguments.

commit d52c1e7f7a5543d11e01aa4daabd8691a15e95f6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Sep 28 16:17:08 2016 -0400

    client: Add focus stealing filters.
    
    For a while, it was often suggested on IRC to replace the default
    request::activate handler to implement custom focus stealing policies.
    
    While it is working, it isn't user friendly. This commit add a simple
    mechanism to add such policies.

commit dd959eecd6ad74eb2d7bf6526d16814d244df111
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Oct 3 23:39:14 2016 -0400

    build: Fix make install when ldoc is missing

commit d513e2c4fc5856bf150d28d4d7397ca64906e4c0
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Oct 2 16:03:11 2016 +0200

    doc fixes for awful.{client,screen,tag} (#1134)
    
    This adds a tparam alias "@screen" for "@tparam screen" (when used to
    document e.g. arguments for callbacks), and "@screen_or_idx" when a
    function accepts a "screen" or "number".

commit 86bc57964934fcaeeb665dbf0880365c388b1bf7
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Oct 1 17:24:44 2016 +0200

    Improve messages with tests/examples/CMakeLists.txt

commit 84e7875e507749064f6c1814a8926085ec0985e4
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Oct 1 17:22:30 2016 +0200

    minor: fix doc for tests/examples/CMakeLists.txt

commit da6012da3eb84e818d90ba3dcfe9316ebf5d1583
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 30 22:46:51 2016 +0200

    Fix memory leak in the default config on screen removal
    
    The default config had tables like mywibox and mywibox[s] was the wibox
    that is visible on screen s. When a screen is removed, nothing cleans up
    these tables and so the screen and the wibox could not be garbage
    collected. The same applies to the layoutbox, taglist etc.
    
    This commit removes the global mywibox table and instead saves it as a
    property on the screen. This way, the screen is not explicitly
    referenced and when it is removed, the screen, its wibox and all of its
    widgets become unreachable and can be garbage collected.
    
    This commit also updates the docs and the tests that referenced things
    (mostly the wibox) via mywibox[s] to now use s.mywibox.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1125
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b6a3ae43fb2cc22ecaa66f0f95bfea653ed477d7
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 30 11:04:22 2016 +0200

    gears.object.properties: Use the new .data table
    
    Previously, gears.object.properties used a weak table for adding
    additional information to a C object. However, weak tables can easily
    cause leaks when the value references the key.
    
    This commit makes the code instead use the new .data property that is
    available on all C objects. This means we have no more magic with a weak
    table and instead only use "regular" tables instead.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f9775b91dee9cbc701021f0e66c7e4fd7cd4bcfc
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 30 11:03:56 2016 +0200

    shims: Add support the new .data property
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9566defa93499118bcc4f27f7ea69f4e5b937c37
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 30 11:02:09 2016 +0200

    C: Add a .data table to all C objects
    
    This table is "just a normal Lua table". Lua code can use it in whatever
    way it wants to store things related to a given C object.
    
    An object (userdata) already references a "plain Lua table" via
    lua_setuservalue() / lua_setfenv(). This is used to keep a reference to
    signal functions that are connected to an object. The signal code only
    uses lightuserdata keys in this table. This commit adds an entry with
    key "data" to this table which just references another table. This is
    the table that is made available as .data.
    
    Via this .data property, Lua code can add own properties to C objects
    without having to use, for example, weak tables. The weak tables have
    the downside that they produce a leak if the value references the key.
    The new .data property does not have any such problem (no weak
    references are involved).
    
    This new data property is not documented, because I'd have to touch lots
    of files and I'm lazy.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8dc6c5f5025ad672ae109a55e365012da3a6e573
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 16 18:16:28 2016 +0200

    Rewrite tests/_client.lua
    
    The new client is hopefully faster. Why, you ask?
    
    Instead of spawning a new Lua process each time a test asks for a new window,
    there is a "daemon process" which gets commands to open new windows from its
    standard input. That way, Lua doesn't have to load LGI all the time and lots of
    pointless work is skipped. The daemon process exits when its stdin is closed and
    thus should automatically exit when awesome exits.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1089
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 19094de661f05640e570b23c56d4d175d9faaaef
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 25 07:04:47 2016 +0200

    Speed up client_ignore_enterleave_events()
    
    There are some situations where we do things that can make the mouse pointer
    enter another window. We do not want to react to these "self inflicted" mouse
    enter and leave events, because they aren't "real" (= generated by the user).
    
    Before this commit, this is done by going through all windows and toggling the
    "please send us enter and leave events"-bit on them. This becomes slower when
    many windows are visible and floods the server with requests.
    
    This commit changes this to a constant-time logic. Each event contains the
    sequence number of the last request that the X11 server handled. Thus, we just
    remember the right sequence numbers and ignore any events that comes in whose
    sequence number falls into the ignored range.
    
    In detail, we keep a list of "begin" and "end" sequence numbers and ignore any
    enter and leave events that fall in this range. If we get any event with a
    sequence number higher than "end", we remove this pair from the list, since it
    is no longer needed.
    
    To generate these pairs, we use a GrabServer request in
    client_ignore_enterleave_events(). This gives us a sequence number and makes
    sure that nothing else besides us can cause events. The server is ours! In
    client_restore_enterleave_events(), we first do a NoOperation request to
    generate the sequence number for the end of the pair and then do UngrabServer.
    Any event that is generated after UngrabServer will have at least the sequence
    number of the UngrabServer request and thus no longer fails between begin and
    end.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1107
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fcf6c863cd3cf8b5b0f310d9e435d065052b146a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 25 06:48:42 2016 +0200

    drawin_map: Ignore enter/leave after apply_moveresize
    
    drawin_apply_moveresize() calls client_ignore_enterleave_events() internally,
    because it also wants these to be ignored. This means that the code disables
    enter/leave events twice and then enables them twice. This recursive disabling
    is something that should not occur.
    
    Fix this by having drawin_map() disable the events a bit later.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 61d8d74421c00358915b1b5c7eaaad265d7601dc
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Sep 26 21:47:08 2016 +0200

    Fix test-tooltip.lua: Run the event loop
    
    This test changes the mouse cursor's position and afterwards has an
    assert that checks something on the tooltip. This really looks a lot
    like it expects the mouse cursor's position to be already updated and
    its enter and leave events to be handled. However, this is now how
    things actually work.
    
    Fix this by moving the assert into its own step, so that in between the
    normal main loop runs.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3993388c01b341d717220f81c51c5c4570c5a45c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 25 06:46:12 2016 +0200

    awesomeConfig.cmake: Stop forcing CMAKE_BUILD_TYPE
    
    I don't know why we force CMAKE_BUILD_TYPE to be RELEASE, but I don't think we
    should do that.
    
    This also changes the default build type to something which does not contain
    -DNDEBUG in CFLAGS. This means that assert()s will start to work.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fb5d995775c99c0cc7148d719ec97570007236ad
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Sep 28 17:29:56 2016 -0400

    tests: Fix a luacheck issue.

commit fb4a48b744d145ecdcc8b4356a1f46e29fe814b7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 16 01:54:49 2016 -0400

    doc: Document where gears.shape can be used.

commit b6421699da257480dc76d98da118bb8cfb76cae4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 16 01:43:42 2016 -0400

    doc: Add more graph documentation.

commit f25621c94c227a1314ca4cccae2337907d10cc7f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 16 01:39:28 2016 -0400

    tests: Test the graph shape.

commit 5ef9b64b40eaa15ca4459c1d41a8d08f48a891c6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 16 01:38:42 2016 -0400

    graph: Add shape support
    
    This complete the shape API. Now, everything support shapes.

commit 68999f4a86df5f8d23d7bf06939d45985f052411
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 16 00:59:37 2016 -0400

    graph: Add min_value
    
    Fix #277

commit bbb3d1482261aa4fc44cf9917fde94d860f99ba4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 14 00:25:50 2016 -0400

    doc: Document the tasklist variables.

commit 9e8c4a71e34f630b150812f774dac5b24a5a9c44
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Aug 13 17:39:36 2016 -0400

    doc: Document taglist theme variables

commit 6e829ce1047e35e73805deb36f307ef9a3c69a80
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 01:47:14 2016 -0400

    tasklist: Add shape support

commit 520bd024162817255f26add5cd72b9d5af929432
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 01:34:55 2016 -0400

    tasklist: Add spacing support

commit 967fc87a92e6202814334f10aff931b7e08ce591
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 01:13:58 2016 -0400

    taglist: Add shape support

commit da47357ae7f0c370a2dc0c693c90445eae28e8e3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 01:13:39 2016 -0400

    widget.common: Add shape support

commit f517538b6a4e9f8ea92f22209ced86897c196074
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 01:13:20 2016 -0400

    background: Avoid some redraw

commit 00ee99851bee6b23ccd7da904475a2d9ba56615a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 00:46:19 2016 -0400

    taglist: Add spacing support

commit 549d68dcc526680d428faf04f516f3339b49c912
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jul 24 22:35:58 2016 -0400

    doc: Add more progressbar shape examples

commit 7b11f1c1b4c759f4a15357d4e72861f2fff29b15
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jul 24 22:18:12 2016 -0400

    tests: Test progressbat paddings, margins and clip

commit a8568eb969a7aa500a8e4de35ec2f1fb6a8e886e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jul 24 22:06:11 2016 -0400

    doc: Add examples for vertical and labelled progressbar

commit b49b859fac1fedf25b74e9d9cfd9ac2dfc470fbf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jul 24 21:46:37 2016 -0400

    tests: Use the new progressbar features in the default test.

commit e1733dd37aabb72f7ae7e57a140c0bf77c2a70c8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jul 24 20:11:40 2016 -0400

    progressbar: Add paddings and margins properties
    
    This restore a feature that was available in Awesome 2.1-3.2.
    
    The reason margin is implemented rather than use a container is to
    be able to make the background smaller than the bar.

commit 915c10b1f87753f73abaa19c0bcc7857f3a4f2f4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jul 24 18:05:00 2016 -0400

    progressbar: Add shape support
    
    The current progressbar code dates from a time when Awesome had
    a very limited drawing API. This commit first re-write the
    algorithm to remove the workaround used to draw the border using
    full rectangles only. It then add support for outer and inner
    shapes with their respective border settings.
    
    This commit also add clip support. This is enabled by default, but
    could be disabled to have the bar taller than the background.

commit 8ec53c827b0ad7518ee2715a9cef38e18fa1ebe0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jul 24 16:25:19 2016 -0400

    progressbar: Fix a race condition
    
    When created using the declarative syntax, set_value could be
    called before set_max_value, this trimmed the value.

commit e5d4c188f1729d07da7bc0beb6f7491902b29d8f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 19:21:15 2016 -0400

    progressbar: Remove vertical/width/height code
    
    The deprecation message should be enough. This doesn't remove
    the functionalities themselves.

commit e28b79944f29e07e22c00378c3b426cdf923db76
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 19:02:00 2016 -0400

    doc: Use @property for the progressbar doc.

commit 8d7f228301a4fc613310f03225377a945dce43b2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 18:39:29 2016 -0400

    progressbar: Conform to the new widget conventions.
    
    It is not Awesome 3.2 anymore, progressbars are no longer userdata.

commit 7cbcc800bca9e27bf42099153bd113a22b908330
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 18:35:38 2016 -0400

    progressbar: Remove dead code.

commit 2c620468f01384d39215ce3b31872fc9dfffc920
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 18:32:37 2016 -0400

    progressbar: Deprecate width, height and vertical properties.

commit 260aeba78bcdfae15fa51deb449d1392cc5ee1de
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 01:48:45 2016 -0400

    doc: Fix the menubar fields documentation

commit 3d1edf317c114798d516ab59b2e93fcb9293f8fc
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Sep 9 02:03:07 2016 -0400

    doc: Document cursors

commit 979d2289fc616766ab5ac12c57b4e72ab8e937d9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 21 04:18:54 2016 -0400

    doc: Port the Awesome (global API) to the ldoc

commit 6990cc15dcc56b838c59e69323eb6fc7369a84b0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 21 02:57:32 2016 -0400

    tests: Add an helper "before and after" method for the layouts
    
    This will avoid a lot of copy paste as the
    remove/set/swap/insert/add/remove_widgets/swap_widgets code
    is identical beside the method name.

commit 280973c9cb78cdeee66c760480dd48ed9bfdd36c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 14 01:34:43 2016 -0400

    doc: Document all client layout theme properties.

commit 85334faffd7011d910ba7c2277f5ad7a01d40f10
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 4 02:24:29 2016 -0400

    doc: Remove invalid tasklist documentation

commit 1b9f44c62d3df8bc951a28614cb1de0f006c456a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 14 00:25:31 2016 -0400

    doc: Document the titlebar theme variables.

commit d5aca4ccd7494f49a2f360eee328c885640dd4c9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Aug 13 03:13:25 2016 -0400

    doc: Fix gears.timer documentation

commit 4a8a1423e86b13fc366f1c115d03fd87239ff427
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Aug 13 03:05:31 2016 -0400

    doc: Fix improper punctuation (causing an ldoc issue)

commit 63b712e24704f3998ab9f96664e6e56a5d5b8518
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 12 15:18:27 2016 -0400

    doc: Document rc.lua
    
    This meta-lua script takes the "raw" awesomerc.lua and turn it
    into the final file and generate a documentation page from its
    parsed content. It support
    
     * Turn {{{ into markdown categories
     * Turn top level comments into documentation
     * Add custom documentation sections
     * Parse the code to add links for each API calls
    
    This helps generate a good entry point for new users wanting to
    understand the content of rc.lua without searching the API by
    hand.
    
    Over time, this will also become the basis of the documentation.
    
    If `rc.lua` is separated into several files, this will be easy to fix
    this script. It could even do the separation itself from a monolitic
    file using the already implemented {{{ parser.

commit be8f0c376be39392319fef51e44b7ebff069d0db
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 12 02:34:03 2016 -0400

    doc: Document the basic variables.

commit abd2a271afae89caadfb04e9dde19cc279392ec8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 12 02:23:19 2016 -0400

    doc: Document menu variables.

commit 5f10e7a74ee4d79648a1349db6fbf2b0d82b6489
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 12 02:01:45 2016 -0400

    doc: Begin to document the themes better.
    
    This add a meta-lua file that parses all existing lua files
    to generate a list of all beautiful variables.

commit 50b6c82091a2877e8232a7381a8dafce873e4b31
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Aug 11 19:55:46 2016 -0400

    shim: Add basic button support

commit bb96f948451fac6cc1bfdd69f42505f4c4a0c715
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 01:32:53 2016 -0400

    tasklist: Add some documentation

commit 2b6ff1b3ca92ba2069d2cb9199ced46accff56ae
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 5 00:44:32 2016 -0400

    taglist: Add more documentation

commit 89f796b2689095b46cb43860c433610e00eeb129
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 18:26:27 2016 -0400

    doc: Fix copy paste mistake.

commit cea5d41518c08b91fed9881391ab8d14a1ea882a
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Sep 25 20:28:27 2016 +0200

    tests/run.sh: Use dbus-send directly with low timeouts (#1116)
    
    run.sh waits for awesome's startup to be done by having awesome execute "return
    1" via its dbus interface. However, by default dbus has a 25 second timeout
    before it fails a dbus-send invocation. This defeats the purpose of this
    exercise.
    
    So instead of using awesome-client, this commit makes the code use dbus-send
    directly and specifies a relative low reply timeout (which should still be
    plenty so that this doesn't erroneously fail).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a430ac1e233b54e12b37894e0a9a0c449ed5de43
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 25 06:00:15 2016 +0200

    tests/run.sh: Print special message for timeout
    
    The timeout utility guarantees an exit code of 124 when the process died due to
    timeout. Since awesome only ever exits with 0 or 1, we can use this to reliably
    detect timeouts and print a matching message.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit de3a8bb5fb4cb2b4f309e058d2a4783ba862a419
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Aug 4 17:44:49 2016 -0400

    tests: Test the arc chart container.

commit 525a76018fd5acd27844b8de8e94a700702729eb
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Aug 4 17:43:38 2016 -0400

    container: Add an 'Arc chart' container.
    
    A lot of conky config use this type of widgets. It looks very nice
    on thicker wiboxes.

commit 9b5cecf53e5ab2ddc5be5deb3afa5fe60ee0cabc
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Aug 4 17:16:31 2016 -0400

    shape: Move_to is necessary for circle strokes

commit d03d63ecae3fff43c549a5817c3d70818cb50a19
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 2 01:20:50 2016 -0400

    shape: Add circle radius parameter.

commit 15102c1fe9b86daa1f303f245aac11c8b45175bf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 2 01:04:38 2016 -0400

    tests: Test the arc shape.

commit 2475aa6e9b057542cb546dfffb20789178152a6c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 2 01:04:10 2016 -0400

    shape: Add the 'arc' shape.

commit 2a976951ea5ab3bf2a337566c9d360ca3a2897b9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Sep 8 02:32:53 2016 -0400

    tests: The the piechart widget.

commit 0a3a71dd4502a3748d611dcea6d52ab8848bab35
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Jul 28 02:47:29 2016 -0400

    widgets: Add a piechart widget.

commit d2d2d82af82dbad4956d0aec7ade30e6fa3d967c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Jul 28 02:19:10 2016 -0400

    tests: Test the pie shape.

commit a02758915038f1b6d223ce61f8c1a7ca994e6d0d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Jul 28 02:18:55 2016 -0400

    shape: Add pie shape.

commit 52cca3b8b7062a3bf2e409e2e39ee4e6965b6eb8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jul 26 02:08:56 2016 -0400

    tests: Test the checkbox widget.

commit 3f0b033e7228579796ce0a24bb43942fc10b77ad
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jul 26 01:58:53 2016 -0400

    checkbox: Add a shape based checkbox widget.

commit 6128e995f24e08aa4a528c6389ab5a174d5b276b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jul 25 00:16:37 2016 -0400

    tests: Test the radical progressbar

commit a4743ed2c209bf45e81dac3720d4c8bdaa7f8632
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jul 25 00:15:42 2016 -0400

    radialprogressbar: Upstream Elv13 round progressbar

commit 60ee10cfff65ec1d43f5ab0e461057423764d1b5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Sep 24 15:56:36 2016 +0200

    tests/run.sh: Use the "timeout" command
    
    coreutils provides a timeout command. Use that instead of (badly) inventing our
    own version of it. This "timeout" command seems to be new. Let's hope everyone
    has it and think about alternative solutions only when needed.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1075
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 62d0961994e775014f8072fd112d2b5a5b34de10
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Sep 24 15:55:24 2016 +0200

    tests/run.sh: Show awesome's exit code
    
    When awesome exits with a non-zero code, this is something interesting that we
    should log. Do so.
    
    The "set +e" / "set -e" dance is required so that we do not abort because the
    wait builtin returns a non-zero code.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 86ee5bb750343cccbf713a90bc1357a079c3d3cc
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Sep 24 15:53:35 2016 +0200

    tests/run.sh: Don't fail because of grep
    
    This script runs under "set -e", so any command exiting with a non-zero status
    makes it abort. However, we do not care about failures from grep to find
    anything, so handle that case gracefully.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 93ed7fd46f81fa5017877f534180e8ca2ca85f5d
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 10:51:24 2016 +0200

    client_geometry_refresh(): Ignore enter/leave events less
    
    This commit makes the function only call client_ignore_enterleave_events() when
    it actually has to. Since we expect that most of the time, no client's geometry
    is changed, this means that most of the time this function is not called.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1107
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ab135fa7c9bc21b87aec5c2e83dfd56bebb3761e
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 10:18:49 2016 +0200

    wibox.drawable: Don't redraw invalid drawables
    
    Twice now we had problems with the garbage collector which caused signals
    established via weak_connect_signal() not to be disconnected when we wanted them
    to be disconnected. The effect was that we tried to redraw a drawable after it
    was garbage collected which caused errors.
    
    Instead of playing whack-a-mole with all the various ways that might make us
    redraw a drawable after GC, let's just fix all of these issues by explicitly
    checking for this case and turning it into a no-op.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 489aa4dc24847d7e2983382ea68d7a80ed003c6d
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 10:15:48 2016 +0200

    Improve behaviour of GC'd objects
    
    Before this commit: When we are GC'ing an object, we clear its metatable, since
    otherwise crashes could occur in various places. This means that if someone
    tries to use such an object, they get an unhelpful error message like "attempt
    to index userdata object" and they don't understand what the problem is. Also,
    this means that foo.valid does not actually work after GC.
    
    This commit changes this behaviour. Instead of setting an empty metatable, we
    now create a metatable with an __index and __newindex method. These metamethods
    produce better error messages that they sat the underlying object was already
    garbage collected. Better yet, the __index metamethod makes foo.valid be false
    instead of causing an error, so that the existing machinery for detecting
    invalid objects continues to work.
    
    This commit also adds a functional test that verifies this behaviour.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f6761e662c7e4168959957ccc5f4a7d723e6d76a
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 10:07:29 2016 +0200

    wibox.drawable: React to screen changes
    
    The previous commit made wibox.drawable turn a "normal redraw" into a complete
    repaint when it was moved to another screen. However, nothing happened until
    that normal redraw.
    
    This commit triggers a normal redraw when we are (possibly) moved to another
    screen. More precise, this means that whenever a screen appears, disappears or
    changes its geometry and when the drawable is moved, we trigger a normal redraw.
    This redraw will likely do nothing, because no relayout is pending and no part
    of the surface needs a redraw, so it is cheap.
    
    However, if the drawable really ends up on another screen, then the code from
    the previous commits makes us do a full relayout and redraw.
    
    This commit likely fixes the current instability of test-screen-changes.lua. See
    https://github.com/awesomeWM/awesome/issues/982#issuecomment-231712056.
    
    As explained there, the test fails because the fake screen that it created is
    still referenced, so cannot be garbage collected, but the test doesn't succeed
    unless the screen is garbage collected. So something is still referencing the
    screen that was removed. This something can be a client's titlebar, because the
    underlying drawable still has a context member referring to the old screen.
    
    This commit should fix that problem, because we now trigger a redraw which will
    compute a new context and thus the reference to the old screen is released.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 752d49ed47d1ab7e44272a31357d9eed9e52af82
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 10:03:12 2016 +0200

    wibox.drawable: Force full repaint when the context changes
    
    The previous commit made the hierarchy do a re-layout when the context changes.
    However, widgets could change their appearance depending on the context without
    changing their layout. Thus, the previous commit is not enough.
    
    This commit also makes the drawable redraw everything when the context changes.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e0a3ecba01fb49d7c3091c839f10c05b687f0664
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 10:00:28 2016 +0200

    wibox.hierarchy: Update when the context changes
    
    When the context for widget changes (e.g. we are on a new different screen or
    have a different DPI value), widgets might change their appearance even though
    they didn't emit widget::layout_changed. Thus, update the hierarchy in these
    cases.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8d2dde3a346f84f19b55a2bfbafe1bdd7fa68ff9
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 09:56:45 2016 +0200

    wibox: Remove some dead code
    
    widget_at() no longer exists since 0aa4304bda (and the surrounding commits
    stopped us using this function).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 803264a488fa3f717b2f67616ff6d49f297ecfaf
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 09:52:46 2016 +0200

    Fix magnifier layout when focus is on another screen
    
    The magnifier layout wants to ignore floating clients. Before 82342f0 this was
    done by calling awful.client.floating.get(focus). If "focus" was nil, this might
    have checked the floating status of a wrong client (if some other client was
    focused, and the code in magnifier set focus=nil before). This issue can easily
    be missed and might exist since forever. After 82342f, floating status is
    checked via "focus.floating" and this now causes an "attempt to index nil value"
    error instead. Much easier to notice.
    
    Fix this by adding the missing nil check and while touching the code, merge this
    with the previous "if" and correct another error (the wrong thing happened if we
    had #cls=0).
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1103
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 750a1df1c725d0886868e4c9b72fc4ea4a39bb26
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 23 09:51:21 2016 +0200

    Re-set wallpaper on screen's property::geometry
    
    Imagine that you have two screens of different resolution and you change their
    position (xrandr --output first --left-of second). Of course, the wallpaper has
    to be updated afterwards.
    
    This commit makes the default config do that.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1102
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c7f5a9acd37ab034d0bfd127aaf8e37cd60dd715
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Sep 23 23:50:17 2016 -0400

    tests: Fix awful.screen tests
    
    To ensure that some features such as SNID rules work, we need
    to ensure that the screen isn't set by other code paths. Only
    a single algorithm can be executed for the screen. As soon
    as many algorithms are executed on events such as "manage", it
    will most likely regress again.
    
    This commit make sure of that by disabling the default normal source
    of c.screen. After that, any other c.screen changes can be
    considered bugs.

commit 1c177cabce1557f6eacf517dee0e8ff0f4cb02fe
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Sep 15 16:50:28 2016 -0400

    awesomerc: Explicitly select a default screen
    
    A client is supposed to go to a screen when:
    
     * It has been started using `awful.spawn` with explicit instructions [1]
     * An `awful.rules` rule **or any of its callbacks** set the screen [2]
     * When something handle `request::screen` and/or `request::tag` in some
       custom ways. [3]
     * Some clients can request a screen and mean it (like MythTV/Kodi/XBMC and
       some multi-window DAW) [4]
    
    A client is supposed to go to the focused screen when none of the above are
    true [5].
    
    Other constraints:
    
     * The screen need to be set only once, anything will will emit
       `property::screen` many time and cause side effects.
     * There has to be a single entry point to the algorithm, no multiple
       "manage" handler.
     * Awesome internals must use the `request::` signal API and not force
       their decision outside of request handlers.
     * Restarting Awesome must not change the client screen
    
    Commit 2178744 fix use case number [1] and [2]. It actually fix [4] too, but
    it is an accident and I am not sure we care about [4] anyway. Use case [1]
    and [2], however, are very important.
    
    Fix #1091

commit b4d6bfa4db53296bb20e8405f48cdc5b8ecfd28b
Author: Daniel Hahler <github@thequod.de>
Date:   Tue Sep 20 19:53:10 2016 +0200

    Travis: fix codecov (#1105)
    
    tests/run.sh: no slash with --search lib
    
    Fixes https://github.com/awesomeWM/awesome/issues/1049.

commit ffa751973076bb64714a5328d04be7eacb26c7c5
Author: Crazy Lemon <tlrgue17@gmail.com>
Date:   Tue Sep 20 10:36:23 2016 -0700

    Has the example test runner unset env variables that would interfere (#1106)
    
    with using LUA_PATH for the `package.path` default valua for the shim tests

commit 75ed165ae661d561efeced043b4e97a4eee51dbe
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Sep 18 12:50:40 2016 +0200

    Test & fix a bug with dbus.disconnect_signal (#1096)
    
    The code was written so that it assumes that disconnecting the last signal also
    removed the corresponding entry in the signal array. This lead e.g. to an
    index-out-of-bounds access in some cases.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e8649d0a296a8a014fbd9e98182c78bfae2b9ed3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Sep 15 16:50:10 2016 -0400

    screen: Add a function to get the client preferred screen

commit 0fbb02f95cf48c848ccd3fe5bfb811421cde55c7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:17:22 2016 -0400

    ewmh: Remove dead code
    
    The geometry storage has been moved into awful.placement. This
    code was never executed as data[] was never populated.
    
    There is some behavior that is indeed lost, but it is unlikely
    someone will ever notice (it has been broken for 6 months).
    The previous code attempted to handle scrren changes while
    maximized. The new code organization shift this responsability
    to awful.placement. However, it doesn't yet fully implement the
    previous logic.

commit baaff93a7349a9da67b4b8f291a62820828f14bd
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 15 18:48:56 2016 +0200

    Only configure client geometries once per main loop iteration
    
    This should "protect" the user from some stupidities that Lua code might be
    doing that e.g. makes a client jump to another position and then immediately
    back to where it was before. Only the last change in a single main loop
    iteration will actually have any effect.
    
    Original idea by Daniel here: https://github.com/awesomeWM/awesome/pull/174
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dd1d81a3acaf0da065ffab124b4a6f82da373de3
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 15 18:36:34 2016 +0200

    client.c: Use AREA_EQUAL()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8283a12ec94022f1b03a4c5083d8f47671b22179
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 15 18:31:29 2016 +0200

    Only export a single refresh function for clients
    
    We still need client_focus_refresh() as a separate entry point, because it is
    used by event.c.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bc6d06a3052c8f9085dc1b4d8355f2788cd9d776
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 15 18:29:56 2016 +0200

    Remove an unnecessary variable
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4d9bbf0ba6aa18a70441394bb95f8ee07e9210e7
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 15 18:28:46 2016 +0200

    Remove an obsolete argument to client_resize_do()
    
    Thanks to Java being broken, the function always sends a notice anyway.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bcab5c71a759b934219bfe08b7d65340112a9166
Author: Hisham <hisham@gobolinux.org>
Date:   Thu Sep 15 11:21:49 2016 -0300

    Compatibility tweak for minimize and 3.5 themes
    
    Awesome 3.5.9 accepts `_active`/`_inactive` names for `beautiful`
    minimize keys (such as "titlebar_minimize_button_focus_inactive").
    Some themes rely on those, meaning that when they loaded under
    the current Git, the minimize button went missing. This adds a
    fallback, to improve compatibility with the existing themes.

commit 5844bd0adeeda50dfa319fcf8587af3c453f39f3
Author: Akulen <tomas@rigaux.com>
Date:   Wed Sep 14 23:11:00 2016 +0200

    awful.tag: moved defaults to a local variable

commit 0363b3a72bd9a7b1ffe40ed788c82fead5b041f2
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Mon Sep 12 23:46:47 2016 +0200

    Add a list of build dependencies to the readme (#1087)
    
    Fixes: https://github.com/awesomeWM/awesome/issues/426
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8ee36118484f55590b8ef123340d7c2e493d0a45
Author: Akulen <tomas@rigaux.com>
Date:   Tue Aug 30 18:25:05 2016 +0200

    awful.tag: Add `gap_single_client` property and user changeable defaults.

commit 0394b768a03ea1b1e43aa00baeab02b0d814e8d7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:08:53 2016 -0400

    wallpaper: Do not use the deprecated geometry access

commit 50da373903c03126ba44a057ab56d090ac87356f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:08:38 2016 -0400

    tile: Do not use the deprecated geometry access

commit ecdcd01dba497065dd3939effec0c093a699b0d0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:08:26 2016 -0400

    magnifier: Do not use the deprecated geometry access

commit 1ede1acc9d210a7c3df84ad5c2576f25a7ad0b38
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:07:00 2016 -0400

    hotkey_popup: Do not use the deprecated geometry access

commit 98b561e806ded6a525225ae91d527c6247416e15
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:06:35 2016 -0400

    mouse/drag_to_tag: Do not use the deprecated geometry access

commit e89a72acd5d56228a8084399e332abeabefda577
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:06:26 2016 -0400

    mouse/snap: Do not use the deprecated geometry access

commit 8c2d85523f7059edb2f1f55adc26c930477b69a9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:06:09 2016 -0400

    screen: Do not use the deprecated geometry access

commit f1e61092cda93c9f5ac6a846f410873d4e766652
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 02:05:30 2016 -0400

    ewmh: Do not use the deprecated geometry access

commit 4d0c426040cb3d21625579636cae4a8145a029cc
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 11 01:49:57 2016 -0400

    menubar: Do not use the deprecated geometry access

commit 12ea5e2318c8ec5cd07df66419fc2a92ff229933
Author: modk <github@modk.org>
Date:   Sun Jul 17 17:23:35 2016 +0200

    menubar: Refactoring and cleanup

commit 1a40333b9ea3a99fff772de35140c0269b3ccfc5
Author: modk <github@modk.org>
Date:   Sun Jul 17 12:11:10 2016 +0200

    menubar: Fix entry use count for categories
    
    Fix #999

commit 9b96b4b448a6d121652b3f940b8e81c764f2a2f1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Sep 10 23:56:10 2016 -0400

    resize: Use the right mouse cursor
    
    Fix #1018

commit e66120913f7085d9cc0443c3731b10f37ff6e3a3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Sep 10 23:54:45 2016 -0400

    screen: Fix a memory leak.
    
    Found while investigating #1079

commit df5caa06eb734b9882ab65380f8c899f073e2fea
Author: Rob Hoelz <rob@hoelz.ro>
Date:   Fri Sep 9 07:43:56 2016 -0500

    Return success/failure for dbus.connect_signal
    
    dbus.connect_signal may only have a single function bound to
    a given name, but the caller has no way of knowing if their
    function was bound or not.
    
    This change has dbus.connect_signal adopt the standard Lua error
    convention of returning a truthy value upon success, or nil and an error
    message upon failure.

commit 12b72d6164a75319b3f8200bbbc02c5c6b9a9343
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Sep 7 00:41:10 2016 -0400

    drawable: Prevent collected drawables from being redrawn.

commit 35c0476c86a6913208e84733d8f339f0c886c96c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Sep 7 00:40:30 2016 -0400

    tests: Increase time limit to 120 seconds
    
    The "test launching client on a specific screen" suit is very slow.
    
    However, it is also necessary to avoid issues such as #1069 or #154
    from regressing again.
    
    This is a temporary fix until a faster test client "daemon" is
    developped.

commit edf7fb40b3a73183fbd938c901f231be35abf6ac
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 23:49:01 2016 -0400

    tests: Test moving tags between screens.

commit 760e72f94a481a5f2894f0bab3b7b5cd7b26e87f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 23:48:28 2016 -0400

    tests: Test spawning client on a specific screen.

commit db73887b9f263cd55f43b2697314584777cf1196
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 23:31:24 2016 -0400

    tests: Add a framework to make it easier to test multiple screens.
    
    While testing using "the real deal" and with all the tests would be
    better, it would add a lot of complexity to the testing framework.
    
    This module generate multiple multi-screen scenarios and some obvious
    issues that they can cause. Over time, as more steps are added, it
    will provide "good enough" testing for multiple screens.
    
    Individual test suits can require() this utility to replicate their
    steps for each multi-screen scenarios.

commit a0b40bfd8f9cb79af68215e4a911442f5d1155c5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 22:27:14 2016 -0400

    tests: Try to detect client "manage" signal race conditions.
    
    See #1028

commit e29a2d3ac9c55290ed74673caf73cddd35954c66
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 22:18:53 2016 -0400

    client: Add property::tags
    
    It is useful for rules debugging.

commit 21787444e4f12441735cd4080337469e33ab417a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 22 23:18:07 2016 -0400

    client: Simplify screen selection decision tree.
    
    This commit remove the `awful.tag` "manage" hook. The relevant
    code has been moved to ewmh.lua request::tag handler. The handler
    is called either by a volontary screen change or by a forced one.
    
    It also require the awful.rules to be executed. This is done by
    default and the user would have to explicitly disable that
    behavior. From now on, disabling the rules require the user to
    handle tag selection.
    
    Fixes #1028 #1052

commit abb36c369755d718ef7d74eada7c6e62aad73797
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 19:04:09 2016 -0400

    tag: Restore the history on the right screen when deleting.

commit 180e70f6d682391a8ffae7ec1300f740d1981cfd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 19:02:39 2016 -0400

    tag: Fix off by one when deleting.
    
    If a tag has been deleted, then the number of tags is decremented,
    the code still used the old count.

commit 2af0553b67a79a49bd388acc07fbf6f4edcd9ec9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 19:00:54 2016 -0400

    tag: Fix :delete() when there is no clients
    
    The logic was broken. It prevented tags from being deleted.
    
    This also make sure the boolean return value is always set.

commit d2988d1aab78bc5ff338b5a8409a9062baa89110
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 28 16:35:47 2016 -0400

    tag: Fix index when screen count change.
    
    There was still a problem that caused the "old" tags to be
    inserted in the wrong position when "saved" from a screen being
    removed.
    
    Also, this use a :get_tags(true) to save an uneeded sorting pass.

commit 9ca57a8364893541eef3a56689f6597d6f01f38b
Author: blueusername <blueusername@github>
Date:   Fri Sep 2 20:15:00 2016 +0100

    Fix a bug moving between a tiled and a floating screen.
    
    Check if any of the window is on the screen it is moved to, not just
    the topmost leftmost edge.
    
    Signed-off-by: blueusername <blueusername@github>

commit 1be737be3a0ecf85bffced38b00e8c64994a3381
Author: Akulen <Akulen@users.noreply.github.com>
Date:   Fri Sep 2 18:14:43 2016 +0200

    awful.widget.tasklist: Add an align option (#1065)

commit cf89f108aca88e1257cba1defea279af4a447bd3
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Aug 30 18:00:35 2016 +0200

    Make use of awesome-client commands
    
    This uses the new support introduced in f0f31bc30588 in the docs and in
    tests/run.sh, removing an useless use of cat/echo.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4ce16084ff2a813dfa6f1d3bdf4ef5a82e092aac
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 31 15:53:27 2016 +0200

    awesome-client: Handle errors when running arguments
    
    Commit 78abb4a54cf58db21396cedc34f0aa46827212ff made awesome-client fail with a
    non-zero exit code when sending a command that it got from stdin failed.
    
    Commit f0f31bc305881aa0df54d66477843ffd475cb316 added the possibility to specify
    commands to run as arguments to awesome-client. However, the exit code was still
    zero even when such a command failed.
    
    This commit makes awesome-client signal errors with its exit code even for code
    specified via arguments.
    
    Note that this means that following arguments will not be executed if some
    argument fails. I do not know if this is the best behaviour or not, but I am
    implementing it like this here due to its simplicity to implement.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e1d5c0c925597cfa6c427b1a5176a80e03ec8c29
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 31 13:31:16 2016 +0200

    Do not allow multiple --config arguments
    
    Otherwise there is a small, unimportant memory leak. More important is the fact
    that later such flags overwrite earlier flags.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4cbf87b441bf36961827a7372fcf8172bc03a75a
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 31 13:27:07 2016 +0200

    Remove empty-argument checks
    
    This code removes code which could only be hit be running awesome --search '' or
    awesome -c ''. In both cases there are many possibilities for weird/invalid
    arguments and I don't see why the empty string deserves special treatment.
    
    Note that awesome --search does NOT hit this code, because getopt_long handles
    the case of "completely missing" arguments itself.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fd90061c24d2a36452b8fe6aeb636faab6b2bb8f
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 31 13:23:44 2016 +0200

    Make argument parsing errors fatal
    
    When you run "awesome --foobar", a warning will be printed (by getopt_long())
    and awesome just ignores the invalid argument. That's unusual and weird.
    
    This commit produces an error instead.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 08e4c304cd33d33892a0435c9ee4a865fc915e8f
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Tue Aug 30 06:59:45 2016 -0400

    client: Fix a potential crash due to a race condition. (#1055)
    
    If raise was called from the awful.rule `manage` callback at
    startup with a client already present it crashed due to a
    buffer underflow.

commit f0f31bc305881aa0df54d66477843ffd475cb316
Author: Fernando Vezzosi <bucciarati@users.noreply.github.com>
Date:   Tue Aug 30 12:58:54 2016 +0200

    awesome-client: send command line arguments to awesome (#1058)
    
    In some languages, invoking commands with command-line arguments is
    significantly simpler than setting up pipes for writing to a command's
    standard input.
    
    This adds an additional way for sending commands through awesome-client;
    so all of these will be equivalent:
    
      $ awesome-client 'awesome.restart()'
      $ echo 'awesome.restart()' | awesome-client
      $ awesome-client <<<'awesome.restart()'
      $ awesome-client
      awesome# awesome.restart()
      awesome# ^D
      $
    
    Note that this sends each command line argument as a separate message
    over dbus.

commit 83e0423e89d37f3ecf6d4a698f2df86368f8769b
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Tue Aug 30 06:57:40 2016 -0400

    tooltip: Stop using a fallback font (#1061)
    
    Let the default font be used, just as everywhere else.

commit 01db39f5bbe106fddcb117e6fcb03e91ba057ac3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 22 17:27:31 2016 -0400

    screen: Use math.huge instead of 9999

commit f2bb0ab87101ea752f8f72b9d2497f3d747111bb
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 22 17:25:50 2016 -0400

    tests: Test the tag index more often

commit 99657f49cfaeb2f9bc381c5416f06fa1eb053043
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Aug 22 23:03:10 2016 +0200

    Travis: pin ldoc at 1.4.4
    
    Ref: https://github.com/awesomeWM/awesome/pull/1051#issuecomment-241327733

commit bbfa6006f3488edd7e78ed4f896c66c49fa1717f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 22 00:40:21 2016 -0400

    tag: Fix index calculation.
    
    The index was updated on an unordered table. As the elements
    order did not match the relative indices once they have been
    changed, further calls to set_index produced garbage.
    
    The default taglist didn't notice because it use screen.tags
    table index instead of the tag index. A debug using
    
    echo 'for _,t in ipairs(mouse.screen.tags) do
      print("INDEX:", _, t.index, t.name) end' | awesome-client
    
    Would have shown two or more elements with the same index. To
    debug issues related to tag indices, this bash script can be
    enabled:
    
    while true; do
      echo 'for _,t in ipairs(mouse.screen.tags) do
      assert( _==t.index) end' | awesome-client
      sleep 0.5
    done

commit 99489584cc94e911c8a301b92435786864fe38c7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Aug 21 04:28:59 2016 -0400

    doc: Fix a typo (Disonnect -> Disconnect)

commit 4aada37682081f1a2c44bef323cfe1adf3f4056e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Jun 1 17:10:01 2016 -0400

    tests: Test tooltips

commit 2088ca26e81552e208616461e63a052723b9848e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Jun 1 14:21:23 2016 -0400

    tooltip: Support generic properties in constructor

commit bc3cbc44c974c503db9fc2f402934b1898257d61
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Jul 20 20:15:13 2016 -0400

    tooltip: Add position mode

commit 141b191921be604c3859bcd0c8a6addcf7c4b67a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 30 15:05:57 2016 -0400

    tooltip: Add shape support

commit 8468d0635047dd27f05475572b8ec7699cce08a7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 29 18:01:12 2016 -0400

    placement: Port next_to_mouse to the new API

commit ea52b199c60ee3680aba8d26d3e88e5af2d39185
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 29 17:40:39 2016 -0400

    tooltip: Add align support

commit ade3fabaa9131c49512e75b37c5826a132e83b21
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 29 15:22:07 2016 -0400

    tooltip: Make the 'visible' property dynamic

commit 2910a007df40cbe6f06a6b71af03127abb512405
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 28 23:26:33 2016 -0400

    tooltip: Turn into a class
    
    As done with everything else

commit 211907def2ed9af2ec3b8ae802dc50c047ad2a58
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 28 22:38:40 2016 -0400

    placement: Add `next_to`
    
    This commit add the last placement function imported from the
    Radical module.
    
    It allows to place a wibox/client next to another object. It tries
    to find the best fit. It also support wibox widgets.
    
    This is intended for tooltips and menus, but can also be used in
    `awful.rules` to place the new client as close as possible to the
    focused one without overlap.

commit ce5cdb49ed0e0b98348988db0f187c9ee6de1cea
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 28 22:08:47 2016 -0400

    mouse: Add the current_widget_geometry property
    
    Apparently, __index cannot return multiple values, so the previous
    code wasn't working.

commit 732b170cb0a30d5b9f4744c8e367ba07162cb463
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Aug 17 02:55:13 2016 -0400

    doc: Fix the awful.widget.button documentation
    
    It was missing the macros.

commit 46f6d28bdfe4625d143a24c359fca702e35455c3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Aug 17 02:52:28 2016 -0400

    tests: Test recursive signals on mouse events.

commit 370d33359042b0e16c7faa1990b934f529245b94
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 8 02:40:05 2016 -0400

    widget: Add recursive signals.
    
    This allows to ignore containers and layouts when a signal is sent.

commit c22b939630ff3fd8e44214e947b64ce995b342f7
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Aug 20 18:59:28 2016 +0200

    Be less strict about warnings from "example tests" (#1045)
    
    The build is no longer aborted when one of the "example tests" produces a
    message on stderr. However, on Travis this requirement is still made. This
    should catch "bad errors" via Travis while not breaking the build for users.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/821
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 63c8a310d0698d2e343fadf69bbfbaf5ef4c8a1f
Author: Daniel Hahler <github@thequod.de>
Date:   Sat Aug 20 18:59:01 2016 +0200

    doc: fix missing parenthesis with client examples (#1046)

commit 71049a67f7674b60f53d8574d8b03267c9c54cc8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 24 15:03:05 2016 +0200

    tests/run.sh: Use --search instead of $LUA_PATH
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 24bb38969d6822cb284c9cf541f824b000540796
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 24 14:57:14 2016 +0200

    Add an option to add a path to $LUA_PATH
    
    The same effect could be achieved by modifying $LUA_PATH or with symlinks, but
    having a special option to do this seems easier.
    
    Note that the man page translations were generated via Google translate. I'm
    looking forward to people submitting correct translations...
    
    Inspired-by: https://github.com/awesomeWM/awesome/pull/485
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f95449a4bb40f2215c756602173129d7b39a9ae9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 24 14:51:52 2016 +0200

    man pages: Update synopsis
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ec923e96fcf784de452a7d0fa6442f19aee8b37f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 8 02:39:43 2016 -0400

    layout: Add more signals.

commit 23ad19d9884fdc31c0986956ef6417586f4f359c
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Aug 15 17:37:53 2016 +0200

    travis-apidoc.sh: remove misleading comment
    
    Apparently a leftover when it was in .travis.yml, but it still makes
    sense to use those env vars instead of calling `git-confog`, which is
    not stateless.
    
    [ci skip]

commit 65e8b9c36b5667e4db9a16ad4174b7e40def8995
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Aug 14 02:25:20 2016 +0200

    Travis: fix return/exit usage (#1043)
    
    Return 0 (success) in do_codecov function.  It is used in "&&" chains,
    and should just do nothing for "coverall", but not break it.
    
    This also makes use of "set -ev" instead of "exit" in general.
    
    The "exit" caused the whole build to stop, but it was still green!
    https://travis-ci.org/awesomeWM/awesome/jobs/151943526
    
    "exit" is not really supported:
    https://docs.travis-ci.com/user/customizing-the-build/#How-does-this-work%3F-(Or%2C-why-you-should-not-use-exit-in-build-steps)
    
    This also wraps (most of) the "cd" commands in a subshell, to ensure
    being in the repo directory all the time (except for $BUILD_IN_DIR).

commit 0d1331e592def338727b7f57f8882479aa446bbe
Author: Daniel Hahler <github@thequod.de>
Date:   Sat Aug 13 00:21:33 2016 +0200

    Travis: allow failures with LuaJIT (#1025)
    
    This is not nice and we should still try to fix it, but it seems better
    to have green PRs without triggering a rebuild etc.
    
    See https://github.com/awesomeWM/awesome/issues/982#issuecomment-231522318.

commit 9d69448ac1c64bf2d24d05ef861f0c9dcbc43d07
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 12 17:01:08 2016 -0400

    tests: Test mouse.move on odd sized clients.
    
    Close #1039

commit 19d4a3f60218cd05fc78402d857fb5ab2202e83f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Aug 12 17:00:16 2016 -0400

    placement.under_mouse: Fix a rounding error.
    
    When object size contains odd numbers, the result was +1px off.

commit e3c24c8e09c28ff9dd95b242802fc3b6e5d0fe73
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Thu Aug 11 13:03:17 2016 -0400

    Revert "screen: Fix potential nil index" (#1037)
    
    This reverts commit facf676b1367e6915235a45ce3e7ef11790b0411.
    
    Using capi.client.focus.screen to decide which screen is focused breaks
    a multiscreen setup. At least makes it extremely annoying to use.
    
    In particular, if you have a focused client on screen 1, move the mouse
    to screen 2 and launch a new client, the new client appears in screen 1,
    since screen.focused reports that current focused screen is 1, not 2
    because of the focused client.
    
    Close #1035
    Fix #1029

commit f5f8998d0c346cdb49f5fd1865b2f7da6881c6bd
Author: cmertz <chris@nimel.de>
Date:   Wed Aug 10 13:02:02 2016 +0200

    use c:jump_to instead of client.jumpto

commit da62aec055c21e68d1c9df46f28581b510c62a0a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 9 18:50:34 2016 -0400

    tests: Test spawn empty command corner case

commit b8eeb76608f8bdb4fd75f71deb3d45f73b984710
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Aug 9 18:29:22 2016 -0400

    spawn: Fix crash when called with an empty table.
    
    The spawn code didn't properly handle the case where there
    is an empty command stream. In that case, no error is
    reported as there is simply nothing to do. The error message
    was probed and this caused an invalid read and crash.
    
    Fix #1033

commit 3587de5721131b95cde560e9f10d4eb6caff5647
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 1 16:02:58 2016 -0400

    tests: Test the declarative widget system on wiboxes

commit 220dc4c5e5b14194899bb7074d881f6f1c9e4e64
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 1 15:35:00 2016 -0400

    doc: Document titlebar arguments.
    
    It was reported as incomplete on IRC.

commit facf676b1367e6915235a45ce3e7ef11790b0411
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Aug 1 15:29:02 2016 -0400

    screen: Fix potential nil index
    
    This looks like a copy-paste error.

commit 41feec02a5fede3cdb51cb9bd2be5c65ef82c0d7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 30 17:12:20 2016 -0400

    widget.base: Fix the root get_children_by_id() widget.
    
    If the wibox root widget had an id, it was added to the properties,
    but not the get_children_by_id() table

commit 128933c11511c697abd89573ba07eab80160471f
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Jul 31 16:52:44 2016 +0200

    Correctly disable RandR if it provides no usable data (#1012)
    
    Fixes: https://github.com/awesomeWM/awesome/issues/1003
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f20053bb33c1468980400a5694675368505fa708
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 30 15:49:46 2016 -0400

    awful.mouse: Fix 4 invalid function names

commit 2231158adf727a1fc9aa043604ae1f20bdf398fb
Author: cmertz <chris@nimel.de>
Date:   Wed Jul 27 13:43:28 2016 +0200

    change test value for client.border_width

commit 4389297b58048d01897bea1fe08d8d3a41258df2
Author: cmertz <chris@nimel.de>
Date:   Wed Jul 27 09:54:42 2016 +0200

    restore client.border_width after fullscreen

commit 41133c9836d3975c0390ff554dc7a6d86a00a16e
Author: cmertz <chris@nimel.de>
Date:   Wed Jul 27 09:50:11 2016 +0200

    test client.border_width restore after fullscreen

commit ed34df119a9d4e56e85f679abef54c3d341a63c3
Author: Julian Wollrath <jwollrath@web.de>
Date:   Tue Jul 26 14:57:05 2016 +0200

    Change move and resize cursors

commit 6e8b4f99f84f47415ad89204dd0b840416de1772
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 24 16:36:03 2016 +0200

    awful.layout: Move clients if a screen is moved
    
    Fixes: https://github.com/awesomeWM/awesome/issues/976
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bdfc0c0d718767096dde5fdbfc8e5c18428a90a3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 24 16:33:06 2016 +0200

    screen: Mention the property::geometry signal in the docs
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 311a41b6460bbc6ad243ced16dca5836be5862b9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 24 16:32:12 2016 +0200

    screen: Add old geometry as argument to property::geometry
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 338064ae96ad636658148e683ca968f90549e7c6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 24 16:29:56 2016 +0200

    screen: Add old workarea as argument to property::workarea
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 79394c09653c4a44f97923e5d198efc116137186
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 17:24:11 2016 -0400

    widgets: Apply attributes before adding the widgets
    
    For example, some layouts may place the widgets in a different order
    depending on some attreibutes.

commit c159ad3ab24b96d383fb0a6a11d2a395df9655d5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jul 23 00:57:29 2016 -0400

    drawable: Add more data to the find_widgets metadata table

commit 2e827202ecbe436e80e347aede0371800adffe1a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Jul 22 21:55:23 2016 -0400

    doc: Fix a matrix copy paste mistake

commit e8dfe36c59df7d8bfdc484aa10489f839f7c411a
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Jul 17 22:08:01 2016 +0200

    tests/run: change to script dir first
    
    Then use `$source_dir` for detecting the build dir: this way you can run
    `./run.sh some-test-file.lua` from `./tests/`.

commit e6ddffda38da40b422e603c6f1229061bde9a9ae
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Jul 17 15:29:15 2016 +0200

    Fix awful.util.pread() return value (#1005)
    
    The deprecation wrapper that we still have for this function didn't return
    anything. However, awful.util.pread() used to return strings. This breaks
    script.
    
    Work around this by returning an empty string. That way code will still break,
    but at least it should not error out.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0fe532104da6b51d8db9f2bf3d5d4d2fb0568144
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Jul 17 15:27:45 2016 +0200

    fix(themes: xresources: assets): recolor for minimize_focus

commit a87d75246f0e3b0c9c9cf538a7f04280f2727f6b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jun 19 00:23:46 2016 -0400

    prompt: Fix hooks when number or caps lock are set

commit 2cfa117a145a0ec8afb43b2e292f180e66d603f4
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 9 12:04:42 2016 +0200

    Remove awful.{spawn.,}pread (#184)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 31e2a19f65992a591c92a3b00ca9793ac22e0327
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jun 18 01:03:53 2016 -0400

    key: Make the ignore_modifiers table public
    
    The prompt need to re-use it and Mod2 could be useful to toggle
    between 2 different Awesome modes.

commit 45d555d47368c860ad2d986dd4b853e151a0e29c
Author: modk <github@modk.org>
Date:   Sat Jul 9 19:23:36 2016 +0200

    Priority heap to sort menubar entries by execution count (#879)

commit 8ac0e29d12501f772f85d6d55c5700888c508e88
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jul 9 19:18:02 2016 +0200

    Add an ISSUE_TEMPLATE.md file (#997)
    
    I'm not good with these, but we have to start somewhere. Feel free to extend
    with own ideas. The main point for me here is to ask for the output of `awesome
    --version`.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2e13c120e85864d3ae333e64d4b74038d77389ce
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jul 9 19:17:35 2016 +0200

    Make rules with 'tag = "3"' work with multiple screens (#992)
    
    The default config creates the same set of tags for all screens ("1" to "9"). An
    awful.rules-rule with e.g. screen = 2, tag = "3" should obviously tag matching
    clients with tag "3" of the second screen.
    
    However, the implementation used the first matching tag in the list of all tags
    and thus the client ended up tagged with tag "3" from screen 1. Fix this by
    calling find_by_name() with the screen that the client is assigned to.
    
    The existing implementation of awful.rules guarantees that any
    "screen"-properties are applied before the code touched by this commit is run,
    thus this should always work.
    
    This commit does not add a test catching this because we are currently quite bad
    at testing multi-screen scenarios and I don't want to invent the necessary
    machinery right now.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/988
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1a5680e57a644e3132ef1215da39e4ac2fb3ad38
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jul 9 19:06:13 2016 +0200

    Fix the titlebar minimize button (#995)
    
    Commit 0318c6132840413b1f added an image for the minimize button which was
    missing before. However, only the default theme and xresources where fixed to
    contain the path to the image.
    
    This commit adds the path to all themes.
    
    Also, minimized clients aren't visible, just as closed (=killed) clients aren't
    visible. Thus, we don't need an "active" version of this image.
    
    This commit makes us handle the image for the minimize button just like we
    handle the close button: There is no difference between "active" and "inactive"
    and the file path in the theme doesn't get any path suffix.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/387
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 896eee8b1f76fc1622dbef020a364bae6addbdd2
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jul 9 19:05:44 2016 +0200

    Print LuaJIT version in --version (#996)
    
    When called with "--version", awesome prints the Lua version that it was
    compiled against and the one that it is running against. This commit makes the
    code detect LuaJIT and makes it print the LuaJIT version instead of an
    unspecific "Lua 5.1".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a8834bfcc16c4c99e01ccdd7e7e4230ec90b04ef
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jul 9 19:03:49 2016 +0200

    tests/examples: Move common template code into a common file (#993)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7f74c7c859234452aaf31ab48be0af351c47663d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 9 10:30:36 2016 +0200

    drawable: Draw bgimage with operator OVER
    
    The actual bg is drawn either with fake transparency over the wallpaper (this
    uses operator OVER) or for true transparency with operator SOURCE. The bgimage
    should be drawn ontop of this without erasing the background and thus needs
    operator OVER.
    
    However, before this commit the bgimage was drawn in the same way as the bg and
    thus inherited its SOURCE operator if a compositor is running. Fix this by
    restoring the default operator (OVER) and also e.g. the default source before
    drawing the bgimage.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/954
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d4454aba1523ce3ee6af5b3f7f0ebe500c952c12
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 9 10:29:05 2016 +0200

    Fix drawable:set_bgimage()
    
    When called with the file name of an image, this function failed to turn that
    file name into a cairo surface.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/954
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3e85ddb11d33e5dd92c1ca091aa990711942155e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 9 10:28:42 2016 +0200

    Add a test for drawable:set_bgimage()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4cc6a8155f311fe684e285a5466cba0a9c66e3e2
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Fri Jul 8 22:46:41 2016 +0200

    Travis: Install luacov 0.11.0-1 (#991)
    
    With luacov 0.12.0-1 our travis build fails. It was always kinda broken, but now
    this breakage is revealed.
    
    What likely happens: Our .luacov errors out because some needed environment
    variable to figure out where to put the results is not set. Due to the way we
    load luacov, it runs with its default config which luckily happens to work. With
    luacov 0.12.0-1 the error is propagated instead and the build fails.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b33fb2a03a2a49b71820e337fc548663203537df
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Thu Jul 7 21:38:34 2016 +0200

    Correctly deny ConfigureRequests for embedded windows (#990)
    
    Since commit 4daa6e8, we are denying resizes and moves for embedded windows
    (=tray icons). However, the Xembed spec says that the embedding client acts like
    a WM (as specified by ICCCM) to the embedded window. Thus, when denying a
    configure request, we have to inform the window by sending it a synthetic
    configure notify. Otherwise, GTK seems to sometimes not draw its tray icon.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/986
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2337329d71022d659b8b5aad4a7719c09f7831b4
Author: Yauhen Kirylau <actionless.loveless@gmail.com>
Date:   Wed Jul 6 14:15:29 2016 +0200

    fix(themes: xresources): explicit bg and fg for tooltip (#983)

commit dc0a337aeae304922e89d5dd868cf09e92b1f56d
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Jul 5 21:41:49 2016 +0200

    CMake: Check if we need libm for round()
    
    Fixes: https://github.com/awesomeWM/awesome/issues/969
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a99bfd534c78b6d8cc451b5755c51182487916c4
Author: Daniel Hahler <github@thequod.de>
Date:   Tue Jul 5 22:14:41 2016 +0200

    Travis: check each commit separately (for the sake of git-bisect) (#936)
    
    Previous commits are only tested within one build (luajit, which appears
    to be the fastest, maybe/also because it does no coverage).
    
    Fixes https://github.com/awesomeWM/awesome/issues/935.

commit 2e6358ca2dee2f849419fea28f9b9e9d6ae77035
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Tue Jul 5 22:12:26 2016 +0200

    Stop checking for __builtin_clz (#985)
    
    Since commit 19137a55 we no longer use this builtin, so we don't have to check
    for it anymore either.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 441587a4ded94db0ed6fc0d94d9d7fbf80c02fe7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jul 4 14:31:38 2016 -0400

    shape: Use an explicit move_to to set rounded_rect position
    
    All other shape did it. While it usually have no side effects,
    as seen in #920 screenshot from @actionless, there is instances
    where this produce a invalid rectangle.

commit 722879bcf7e901e9a6224a560e072a101cb081c8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jun 27 02:15:32 2016 -0400

    mouse.resize: Handle when there is no selected tag
    
    This should be very rare, but _is_ possible.

commit 4e6283e5ade02c1db11c5bcd2a017606aaf75ead
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jun 27 02:13:52 2016 -0400

    layout: Avoid uneeded redraw
    
    Reflowing the screen layout when floating clients changes is not
    necessary.
    
    This lower the CPU usage when dragging floating clients.

commit 6eca36d76477775139a8c79672aaead1a3133f5b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Jun 24 15:59:02 2016 -0400

    progressbar: Add missing includes documentation variables

commit b0d42e258a3385dbfc63bbb44429047bf7e98f7c
Author: Salorium <salorium@hotmail.fr>
Date:   Sat Jun 18 11:12:47 2016 +0200

    Correct name variable: this typo introduced into in 03e2310c54ee2edf3c4bbadf09f1324b3bcc684f

commit 36e47fb1a9ab0334f66978541f16beac9d8f877d
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Sun Jun 12 17:28:32 2016 -0400

    tests: Don't use arbitrary build dir path (#898)
    
    Calling the test script by hand from the build dir stopped working.

commit f5cfc03e49628a535e8ea6e33bfd827f9c4bb92d
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Sun Jun 12 07:09:09 2016 -0400

    tag: Fix restoring invalid tags from history (#963)
    
    If:
    
     1) An app is open in a tag
     2) A new tag is created
     3) The app is closed in the first tag
     4) The first tag is deleted
     5) The new tag is deleted
    
    Then this history would try to restore an inactive tag without
    a screen. Bad things will then happen.

commit 4b1ac54386583dc368f7fc54a0caef04f2603d20
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Jun 10 23:53:17 2016 -0400

    doc: Add a Cairo/LGI introduction page

commit d2b9bb8c39e2cbd40f51de40cbd32e5ebeb5bd67
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jun 11 18:47:29 2016 +0200

    .travis.yml: Add codecov support (#960)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0c784d14724af874ed8da0c536af301a6f62e062
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jun 11 13:12:33 2016 +0200

    .travis.yml: Stop installing rxvt-unicode (#961)
    
    The last place where we used urxvt for testing was removed in 6b4a2625cb1.
    
    [ci skip]
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7488f80be74d44ade983e88398060324b84dad4d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 15:14:56 2016 +0200

    tests/example/: Print status messages
    
    Running the tests sadly takes much to long. Since I don't have a good idea what
    to do about this (I'd like to run all tests in a single Lua process, but that
    doesn't seem to be possible easily), instead let's just make it more explicit
    what is being done. This commit prints a message for each test that is being
    run.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ca074dc689a2d36de3162587ed384e04ce8d5424
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 15:10:34 2016 +0200

    tests/example/: Remove environment hack
    
    Now that tests are no longer scanned for recursively, the hack of passing values
    back and forth via the environment is no longer needed and can be removed.
    
    While at it, this also exchanges the "useless use of regex" for an explicit
    string replacement.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a7d6699d5d6a4db2d8ba9cdeb33f5603463bf901
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 15:01:30 2016 +0200

    tests/example/: Replace recursion with iteration
    
    Instead of recursively walking the directory tree, this commit makes the code us
    GLOB_RECURSE to find all files and then handles them on after another.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 77f867ff57cb230da6a268c81c520718d84066b5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 14:50:41 2016 +0200

    tests/example/: Explcitly compute namespace
    
    The namespace of e.g. "tests/examples/awful/mouse/coords.lua" is "_awful_mouse".
    This is purely based on the path of the file.
    
    Previously, this was computed while recursively scanning the directory tree.
    This commit instead moves this to an extra function that handles this task.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5fb6ca819495c833099ad5976eb52ceb8e1f8150
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 14:35:46 2016 +0200

    tests/example/: Make search for template.lua explicit
    
    Previously, while recursively scanning the directory tree, the code in here also
    scanned for template.lua files and remembered the latest one it found. This
    commit adds a function which finds the right template.lua for a given file name,
    making this search explicit and easier to understand.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d4dc579105d1a9321aefe481444b6673865c278b
Author: Emmanuel Lepage Vall√©e <elv1313@gmail.com>
Date:   Fri Jun 10 17:53:55 2016 -0400

    resize: restore the fleur cursor and add a beautiful option (#957)
    
    Fixes #956

commit 6f1df7a3ad825e0079ff23ccdf3edfbc1cff1c61
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Thu Jun 9 00:03:08 2016 +0200

    Fix disconnecting not connected signals (#950)
    
    When a function is disconnected from a signal ("disconnect_signal") that is not
    actually connected to the function, two things happened:
    
    1. The attempt to remove the function from the signal array didn't do anything
    2. Unreferencing the function noticed that the function wasn't referenced
    
    The second step printed a big, fat scary warning.
    
    Actually, this has the possibility of causing errors. For example, in the
    following code, awesome would wrongly unreference the function at the
    disconnect_signal() call and might later still try to call it when the
    "refresh" signal is emitted:
    
    do
        local function f() end
        awesome.connect_signal("refresh", f)
        awesome.disconnect_signal("debug::error", f)
    end
    
    Fix this by making signal_disconnect() return a boolean value indicating if it
    actually did something. All callers are fixed to use this value and only update
    the reference counts if something was actually disconnected.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/814
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2d511e2ab555fa3d08c88ca7be6eff2043c516b9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 15:56:52 2016 +0200

    gears.object.properties: Implement read-only properties
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cdf16d4660d73c7db988723aaee40076f7eaa9fe
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 15:51:58 2016 +0200

    awful.mouse: Implement read-only properties
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6956b9f6fa14b9f6182ec42cab27254fc58bc48d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 15:47:09 2016 +0200

    gears.object: Implement read-only properties
    
    If a getter exists, but there is no setter, then this means that the property is
    read-only.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0ac9a67d0767634300fe7e67b0c1e1eb3f11a672
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 15:41:41 2016 +0200

    spec: Use assert.is.equal
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ffe64727fe3e360cf018180485954b02c5814d7a
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Tue Jun 7 22:57:01 2016 +0200

    Silence warnings in examples (#944)
    
    There was a problem that the examples were considered to have failed as soon as
    they produced any kind of output, but there were legitimate cases of warnings
    being printed that triggered these checks. Commit 4819be4f4f3037ef3f used a
    regular expression to detect and ignore this warnings.
    
    This commit reverts the above commit and instead silences the warnings by
    monkey-patching the function that prints the warnings into a no-op.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a057718d4d4cd5fc2dc3ea535d019ce75979cc55
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jun 6 00:18:16 2016 -0400

    mouse: Fix moving clients between screens
    
    Reported on IRC. I am not sure why swap() is not enough, but the
    old code removed before the mouse refactor did this, so apparently
    it is necessary.
    
    The fix has been reported to work by spyroboy on IRC, thanks!

commit b84b03f15d934701816d73a45e31caafaf224ca1
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sun Jun 5 22:00:11 2016 +0200

    Fix client snapping (#951)
    
    First some reminder on how client geometries works (in X11, awesome just copied
    that!):
    
    - The position (x,y) defines where the border of the client begins
    - This means that the content starts at (x+border_width,y+border_width)
    - However, the size is the size of the client without border
    - Thus, the client covers the rectangle from (x,y) to (x+2*bw,y+2*bw)
    
    The client snapping code got this wrong. It only deals with rectangles and thus
    for things to work as expected, the width/height have to be increased by two
    times the border width. When snapping a client against other visible clients,
    the geometry of the client to snap against wasn't calculated correctly.
    
    This was apparently noticed at one point and worked around by decreasing the
    position by two times the border width. While this is terribly wrong, it
    actually makes things work correctly when snapping to the right or bottom edge
    of a client, but breaks for the other edges.
    
    Fix this by just calculating things correctly.
    
    This is based on a patch from jk411.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/928
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8ff60f034f23b1bbadb0ef1544161570593a55dc
Author: Max <silverhammermba+github@gmail.com>
Date:   Sun Jun 5 11:08:43 2016 -0400

    Try menu_* colors before regular normal/focus (#949)

commit eaa80fef9a8de522f9b907b6e00101166b2db92a
Author: Daniel Hahler <git@thequod.de>
Date:   Tue May 31 23:48:50 2016 +0200

    tests/run: clarify timeout in wait_until_success
    
    Ref: https://github.com/awesomeWM/awesome/pull/937#discussion-diff-65313945

commit 8e221522f717f664bdf9d9298c7fa2c3a492b1f2
Author: Daniel Hahler <git@thequod.de>
Date:   Tue May 31 23:46:23 2016 +0200

    Travis: kill awesome after max. 60s per test file
    
    This is required for when the test setup fails already, e.g. because of
    an assertion error at the top of a test file.

commit 547fec28242d24cd634c2b046a6746a5cc80e2ab
Author: Daniel Hahler <github@thequod.de>
Date:   Sun Jun 5 16:12:57 2016 +0200

    Travis: run "make check" only once with DO_COVERAGE=true (#940)
    
    Fixes https://github.com/awesomeWM/awesome/issues/938.

commit 0857f6f1b5535a862c840311f5bdad849f42e95d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 18:23:48 2016 +0200

    Lua: Remove calls to add_signal()
    
    The requirement to call add_signal() was added to catch typos. However, this
    requirement became increasingly annoying with property::<name> signals and e.g.
    gears.object allowing arbitrary properties to be changed.
    
    All of this ended up in a single commit because tests/examples fails if I first
    let add_signal() emit a deprecation warning.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 231436d9e3e132d6b0fd790feb84133ea4f47665
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 17:57:08 2016 +0200

    C: Remove unneeded calls to signal_add()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a964396771194f0e7eb80ab63cac25e518c16214
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 17:51:45 2016 +0200

    Deprecate signal_add() on C-API objects
    
    This commit makes the code automatically add signals when they are first used.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a21c0baac2d14444d5d9409e42a2eb73893fef66
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 19:51:43 2016 +0200

    test-screen-changes.lua: Also test moves
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a7f7cab564be66db91369b614391e620788189c1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 16:10:54 2016 +0200

    wibox: Remember the screen that was assigned
    
    If screens overlap, the wibox should still remember which of the possible
    screens it is assigned to.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3d2c8777626015bdf277c0b52b76f44cc9e3307d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 19:22:55 2016 +0200

    Add a function for faking screen move

commit e5f9ec47232e7635c46975091305638b8fb7e5c5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 17:39:14 2016 +0200

    C code: Move docs for signals away from signal_add()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7830cf076bd388209cdb8a0dbb8056621875e3e3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 17:05:42 2016 +0200

    Fix the test that the previous commit added
    
    There was a race with autofocus. To overcome this, add another step that tests
    that moving the client back to a visible tag and focusing it updates
    _NET_CURRENT_DESKTOP. Afterwards, we kill the client so that it can no longer
    interfere.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 66cadf5af8b7b765242455a398d3ed3ea9f7d083
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 4 12:03:38 2016 +0200

    Test if _NET_CURRENT_DESKTOP is set correctly
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0befee6dfa61a0107fe8da6d59a53fb8df78b743
Author: Mikhail Schemelev <schmellow@localhost.localdomain>
Date:   Sun May 15 16:31:57 2016 +0300

    Attempt at better handling of NET_CURRENT_DESKTOP property.
    
    NET_CURRENT_DESKTOP is now being set to the index of the tag with currently focused client.
    In case of no focused clients present, first selected tag index is taken, with fallback value being 0.
    Current desktop is updated on next client signals: focus, unfocus, tagged, untagged.
    Current desktop is also updated on tag property::selected signal.
    
    This should fix drag and drop issues with chrome-based applications on multihead setups

commit 4e35d1fdd777d65ae1f022e301bd35a817e9b4a2
Author: Daniel Hahler <github@thequod.de>
Date:   Sat Jun 4 01:38:44 2016 +0200

    objects/screen.c: fix warning about unused var: "found" (#943)

commit 270baeb1537f133ee04688bcf0eb2cb345bd2037
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat Jun 4 00:51:23 2016 +0200

    "Fix" client properties which can be absent (#932)
    
    A client c could have no c.machine or no c.pid because the corresponding
    properties are not set on its window. Previously, the C code would return an
    empty string or 0 for these values. This commit makes the C code give Lua no
    value instead (not even a nil).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 51ce375f015737803953baefad14635ae85fce30
Author: Daniel Hahler <github@thequod.de>
Date:   Fri Jun 3 00:40:02 2016 +0200

    tooltip: improve doc, call self.timer_function with self (#381)

commit 36bb9b4476245519f2bdea7dde33903aa3d552bd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 31 14:30:14 2016 -0400

    menu: Fix regression
    
    There was already a bug, as self.active_child.visible
    was used instead of self.active_child.wibox.visible
    
    This caused some confusion that this attribute was a widget.
    It wasn't.

commit ec076ca4bd6669095ae426cf087e4dc91caa7398
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat May 14 14:30:22 2016 +0200

    Properly support the XEMBED_MAPPED bit
    
    The XEmbed protocol defines a special property that defines if the embedded
    window wants to be visible or not. Up to now, awesome always ignored this entry
    and instead behaved as if the bit was set. This commit makes it properly respect
    the bit.
    
    Testing done: None. No idea how. Apparently nothing really uses this bit,
    because we didn't get bug reports about it yet.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 756862dff6de262e8773ca845f168e2bf9c116af
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri May 27 23:22:46 2016 -0400

    systray: Use table.crush

commit 72c437a7c8add458084580d7f7f3e2f4763cb9a3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 30 23:12:39 2016 -0400

    test: Fix widget cache

commit 505db433d610e0ceb2752989c7b29d290dfcb58c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri May 27 01:28:57 2016 -0400

    shims: Support graph and progresssbar colors

commit cbe046b0db78920ece4c4809e245b5278bbac1f2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri May 27 01:26:46 2016 -0400

    progressbar: Add theme options

commit 7c00b2a55aa6f079fc96e25b5ff000bb081aea2e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri May 27 01:23:12 2016 -0400

    graph: Add theme options

commit f9ff2f4909f22f86da8c625a4e1f0412210fe4d4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 19:41:58 2016 -0400

    stack: Enable the property system
    
    And add the missing documentation

commit 23729b62968c74f4bd452fcaafbb9c4ad1b71eea
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 19:41:58 2016 -0400

    flex: Enable the property system
    
    And add the missing documentation

commit eddbbf7acac3270af89985a31751ab87bedf1ef7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 19:41:58 2016 -0400

    ratio: Enable the property system
    
    And add the missing documentation

commit 0a8bc8156dcf0b3c4bce3367c34de58333e490f5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 19:41:58 2016 -0400

    align: Enable the property system
    
    And add the missing documentation

commit b89fbcf940027bef766cd55839283a4d4f5759b3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 19:41:58 2016 -0400

    fixed: Enable the property system
    
    And add the missing documentation

commit 18500838d95b41644cd2a77f6b9958854cdeed54
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 17:41:23 2016 -0400

    textclock: Add missing documentation

commit c62ca6c66551042caa5ae56745324206499c8257
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 17:39:27 2016 -0400

    imagebox: Enable the property system
    
    And add the missing documentation

commit 584a48db2fa5003cca8194030eecbf396014d6b4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 30 23:09:50 2016 -0400

    titlebar: Use _private

commit 5a0f7b7efe1fbcd2ea7997d54ae89388eb0ea2e6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 17:39:17 2016 -0400

    textbox: Enable the property system
    
    And add the missing documentation

commit ea16481228ab9c534fee38f6bb5c047efe500683
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 17:39:04 2016 -0400

    graph: Enable the property system
    
    And add the missing documentation

commit 03e2310c54ee2edf3c4bbadf09f1324b3bcc684f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 16:35:02 2016 -0400

    scroll: Enable the property system
    
    And add the missing documentation

commit 4ffbff3a5f990fbac058326f389ff80da8475969
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 16:34:44 2016 -0400

    rotate: Enable the property system
    
    And add the missing documentation

commit bf74ca8a8c2ec4035da3ca75afe1e5e5c3dda60c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 16:26:50 2016 -0400

    mirror: Enable the property system
    
    And add the missing documentation

commit 8869257940c07c8654ad447dac28ec09a5ee19b0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 16:19:48 2016 -0400

    margin: Enable the property system
    
    And add the missing documentation

commit 832e9ed054a4a81f83858ae68d3cf10ba0e95de5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 15:37:33 2016 -0400

    constraint: Enable the property system
    
    And add the missing documentation

commit a5edff396c97e19082e9b1ecf832d38b39c4634f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 15:12:56 2016 -0400

    background: Add the common object documentation

commit 8d6f82f0a31f13e88f832a68eb5f832f40f68331
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 15:08:31 2016 -0400

    doc: Add gears.object common documentation

commit 8ac2db76bea306d5aafcbf27431f0d1f92ad84ea
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 15:05:51 2016 -0400

    doc: Add widgets common signals

commit 9630f3c3edc0ea63502db501c569f92181db2e2b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 14:37:58 2016 -0400

    widget: Move the identifier index into _private

commit fdf86ba84d57cdc6905c3c4dee96ad10cfbc4e49
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 14:32:12 2016 -0400

    widget: Move height and width into _private

commit c0eabf9d8f85e90fca9c5657e34e05f63c514319
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 14:25:07 2016 -0400

    widget: Move 'visible' into _private

commit afa17fd8f9d76910f08f0c2a5025245b07ba14d7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 14:05:49 2016 -0400

    widget: Move 'widget_buttons' into _private

commit c828e56b57b8601fb5fa5580487e56f0ebd18ab6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 13:59:41 2016 -0400

    widget: Fix documentation

commit 542070205f34b82c3eb57e178589d63d5be32f5b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 13:57:34 2016 -0400

    widget: Add proper accessors for the 'opacity' property
    
    To avoid collision with the property system and comply with the
    API guidelines.

commit eb79b3262d2ff6d5589cea4eff7d713a3accfd07
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 02:09:18 2016 -0400

    background: Enable the property system

commit 8d9e7aacce1b2228c26ed8c4904a32e37cc93f6e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 01:59:20 2016 -0400

    doc: Add a default widget documentation.
    
    This will avoid copy/pasting.
    
    This assume the widget use the property system.

commit c9dd32424f8310378e561377166e884c43f3a1fe
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 01:49:16 2016 -0400

    doc: Fix wibox.widget.base documentation
    
    It was set as `module` instead of `class` because ldoc was confused
    set shown the methods as functions and functions as methods.
    
    This commit set the explicit section so ldoc don't gress (wrongly)

commit f9e82c1f57ec43f579fe439fbffc52537be61416
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 01:18:20 2016 -0400

    background: Move all private attributes into _private
    
    So there is no collision when properties are enabled

commit adb2f8838380c9dc6b81760071d44d6c06d8af4d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 00:52:11 2016 -0400

    objects: Add a table for private elements
    
    Provide a standardized place for them rather than having each
    widgets use their own conventions.

commit efcbda0a78844d53c867097d512968aa493033b1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 26 00:42:07 2016 -0400

    widget.base: Add property support

commit a8505ed019e3513c34d4e4b31148d926870cd7bf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 17:56:23 2016 -0400

    doc: Add an imagebox widget default screenshot

commit 940a623c341e10c9a04d586fb386c8504af18586
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 17:56:10 2016 -0400

    shims: Add an awesome logo

commit 83a9a9e67a16de6f8ed9493e13213b4d70596109
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 17:22:44 2016 -0400

    doc: Add a progressbar widget default screenshot

commit f29eeed82e852c6722f625173e0be12b96c1aa6a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 17:18:43 2016 -0400

    doc: Add a graph widget default screenshot

commit ec2cfc7be2e3ff017de3a034bed19806338f7fc4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 16:37:04 2016 -0400

    doc: Add a textbox widget default screenshot

commit de2d6fb521d397bc21391c30b4507527fc0d2da0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 15:09:10 2016 -0400

    doc: Add a system to auto-generate widgets list
    
    This system allow containers, widgets and layouts to be listed in
    the documentation with an example screenshot.
    
    It uses raw HTML due to ldoc limitations, but as it is autogenerated,
    it wont be user visible.

commit ab40a342afea16b8b09d12130d97b623cdf9b900
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 15:27:11 2016 -0400

    doc: Add a stack layout default screenshot

commit 163748c7820963a959e98a6cda3d813de7e27669
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 15:23:51 2016 -0400

    doc: Add a ratio layout default screenshot

commit 7fa56cb94c03f60bb96f9bd17b41a87d267580e9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 15:19:18 2016 -0400

    doc: Add a flex layout default screenshot

commit 150026690cb81c44bfdd972a768c1d5dc19a88c4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 15:17:16 2016 -0400

    doc: Add a fixed layout default screenshot

commit 5ba7af2be20b49c10dc50260f29b099d6e19306f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 15:02:54 2016 -0400

    doc: Add an align layout default screenshot

commit f1ea1c04dd55ad6763c7b673058e8e67028b2924
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 25 15:01:31 2016 -0400

    doc: Add a layout demonnstration template.
    
    Draw rectangle with optional text placed by the layout

commit 490306a5fc006f8ced245e9fc049c52ffa0e088e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 15:19:50 2016 -0400

    shape: Add default rounded_rect radius
    
    Add an arbitrary value to avoid all caller setting extra arguments.

commit 47a471072a9268f2439fa7a3e835e55fa9530787
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 14:13:47 2016 -0400

    doc: Add a `margin` default screenshot

commit 26cf28b23b51bfd2064c5611749b401a0f7a3659
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 13:53:21 2016 -0400

    doc: Add a `constraint` default screenshot

commit de7ae79c6c6045bc56db2a58968e056039bc9bb0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 13:38:37 2016 -0400

    doc: Add a `background` default screenshot

commit 46c83b400134cc76905b2ca1aced124317f4df49
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 13:34:25 2016 -0400

    doc: Add a `mirror` default screenshot

commit ab0a9a077e347c0dcbe4b39cf2b604425fe73e0f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 12:51:08 2016 -0400

    doc: Add a `rotate` default screenshot

commit e57ae1789d491f25b28b72f523fb1c10f405311b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 24 12:49:12 2016 -0400

    doc: Add a container default example template
    
    This will be implemented by each container and then grouped into
    a list by CMake and inserted in the widget system documentation.

commit bc2c0cfcb01dbc7e563937d4224a5e30a5f08a33
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 03:43:25 2016 -0400

    doc: Add a wibox.container.rotate example
    
    Also fix the documentation

commit 3c2aa09b8693f0b095902238f16b421bb9acfd50
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 03:13:15 2016 -0400

    doc: Document the beautiful vars used by the systray and textbox

commit 9d0693ce3a8a5a75742898283b0a10802ba303ce
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 03:02:11 2016 -0400

    doc: Do not export draw, fit and layout methods
    
    They are used internally, users should never call them.
    
    This will make the API documentation cleaner.

commit be23bf0f157f2a22fa63ce468fbb620090cea664
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 02:54:01 2016 -0400

    widget: Fix documentation

commit fd3e27c38bab809f9f502e1fc19c3023f0ab5bfa
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 02:46:28 2016 -0400

    containers: Fix documentation
    
    local functions and metatable based constructors are not
    documented unless an explicit @function is added.
    
    Also add missing return values and fix formatting.

commit ac7ea4c70f34bdc6d124d104c185079fbfef3607
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 01:37:35 2016 -0400

    tests: Fix coverage data
    
    As the documentation generation insert increasingly large ammount
    of code into the lua files, the coverage data is getting less and
    less accurate. This try to fix this by only collecting such data
    after the `configure_file` calls are done.

commit f9c9e11d11ca1339cfea614f167a303b7a6d72cb
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 01:30:44 2016 -0400

    graph: Move to wibox.widget

commit 6493cbee76517b84416ea8ec515f3547fe5af58a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 01:22:35 2016 -0400

    progressbar: Move to `wibox.widget`

commit ae0d306114920e5f26c204f475c823dd277bf55e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 00:46:01 2016 -0400

    textclock: Move to wibox.widget
    
    It doesn't depend on `awful`, so it doesn't belong in `awful`.

commit 44a4eca40e1106bea2fa812108949e4580b74a26
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 00:26:13 2016 -0400

    doc: Port the shape images to the doc example system

commit feb3833fd1d8632c287ddff01628ec7f79e7e18f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 23 00:09:57 2016 -0400

    doc: Move the background examples to the container suit

commit d85588babec7e06b8663702e681d858f03ca80b6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 22 23:56:45 2016 -0400

    wibox: Create a container module
    
    Previously, the "containers" were placed in layout or widget.
    
    They all have similar APIs and usage, so lets bring them together.

commit 990beef9d0fca7c93fe053a9550bcce39122ada2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 22 23:34:59 2016 -0400

    util: Add a class deprecation function.

commit 3f0d218f721b21c2e58927002051ee50b9531ed3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri May 27 23:24:03 2016 -0400

    util.table.crush: Optionally use rawset

commit 9f74416ef459ba39a90c720ce9198d073f596da7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 29 23:49:39 2016 -0400

    placement: Remove leftover prints

commit 4b0209f4fada8c141519608bf686d28ded817401
Author: Jim Mitchener <jcm@packetpan.org>
Date:   Sun May 29 18:33:59 2016 -0800

    Add description to fullscreen client key

commit e801df1ee3790262c9925502663cb456be9bb3ba
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 29 14:31:22 2016 +0200

    xembed: Use sane defaults if _XEMBED_INFO is not present
    
    Skype's tray icon doesn't seem to follow the XEMBED spec...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0b64c8987d8068de73b86027d333f1b0bf3a841d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 29 14:29:23 2016 +0200

    Remove unused argument to systray_request_handle()
    
    It always had the value NULL.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a42762493ae4aeb7e892166d76c8bd5843b2be67
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat May 14 14:20:08 2016 +0200

    xembed: Handle reparents correctly
    
    The Xembed specification states that the protocol ends by reparenting the
    embedded window elsewhere while unmapping the window can be done without ending
    the protocol.
    
    This commit makes us follow this part of the spec.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit badf33854235a97395a2dd25305c4218f433631f
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri May 27 19:16:10 2016 +0200

    Add awesome.hostname
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2d35886a76e580dafcc066030bee9b49e41594ad
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri May 27 19:08:18 2016 +0200

    Add awesome.{kill,unix_signal}
    
    kill is a wrapper around the POSIX kill() function and unix_signal is a table
    that maps signal numbers to their names and signal names to their numeric value.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dbcb850de94067526e1278c0b95dbe2ec81784ed
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 19 00:49:44 2016 -0400

    wibar: Restore previous behavior
    
    The behavior was changed during the rewrite. This was a mistake
    as it was assumed (wrongly) that nobody used this function with
    wiboxes other than "wibars" (awful.wibox).
    
    Fixes #917

commit 40d1d5c9c779bca74a8d545625e681d85611f33d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 19 00:43:28 2016 -0400

    doc: Remove wibox prefixes
    
    This produced the wrong output in awful.wibar documentation

commit cc5e78ff55ff80f522e7586fe524551eb7083a60
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 19 00:40:40 2016 -0400

    wibar: Improve constructor documentation

commit 4d45063adbe5e3fe376e5886ad23d78907892943
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 19 00:17:34 2016 -0400

    wibox: Add constructor documentation
    
    The leading point is on purpose. It work around a ldoc bug and is
    already used elsewhere (like signals without a ::)

commit f26fa5e099f5969336a71ad5af88502280a78e84
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 19 00:05:47 2016 -0400

    wibox: Add more constructor arguments
    
    Fixes #916

commit 938de72ba79ee75ea43fa56fcff5015031ada73b
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu May 19 00:21:22 2016 +0200

    fix(awful: wibar): visible arg was ignored

commit 6e6c4c3a5d46d893a8ce3cd9cc84af9463406bbe
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 16 19:17:17 2016 -0400

    tag: Avoid a race condition when deleting tags.
    
    Since the screen removal patchset, the tags properties were
    cleaned too early. This caused code connecting to "property::activated"
    to be called with the tag already partially deleted. For code depending
    on those properties, such as radical.impl.taglist, this caused errors.

commit bb5ee50de9482dde6a42b34a4f2c9b13ee7b8e26
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 17 21:00:38 2016 -0400

    layoutbox: Revert 25f4f24791
    
    Apparently, there is such thing as not leaking enough...
    
    Also try to clear the widgets from mywibox. This seem to help.
    
    Time will tell.
    
    Fixes #914, unfixes #808

commit 625a5dd407ff51a3bf829caac95ee01d19d821e8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 18 00:47:46 2016 -0400

    tests: Test gears.object optional features

commit d6a7b6c645b9e75decd1aa9b038d9054a1c2556b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 17 01:17:22 2016 -0400

    object: Add a dynamic property example

commit f810d78e7b90612aceba2ade06a9a48724a95443
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 17 00:59:48 2016 -0400

    object: Add a signal example

commit 08df8fbf03c5a200a9765d935e4ae2928126a138
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 17 00:58:33 2016 -0400

    doc: Add a generic template for text only tests

commit adebef629b5b200e6a49accae62eeac7a7b62452
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 17 00:44:20 2016 -0400

    object: Add an header description

commit b1c33fbd09fb4ba14a3ee6a05f723f96cedf77a8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 17 00:38:46 2016 -0400

    object: Add type information to documentation

commit 4b21ca918421026dbcca90c52d123c019979f73f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 17 00:34:09 2016 -0400

    object: Add dynamic properties support.
    
    Similar systems already exist un luaobject, wibox and the declarative
    widget system. This close the gap and also bring the property based
    syntax to wibox and other gears.object users.
    
    While this need to be enabled explicitly for legacy reasons, it
    doesn't break the API.
    
    Once widespread, this implementation will replace the one found
    in wibox.widget.base_widget.

commit 11e77d51914402b947b544a2eb6d025c4a3e0d9a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 16 01:16:55 2016 -0400

    gears: Remove `screen`
    
    It has been deprecated for a while and was never part of a release.

commit aa46b96369eefac0793901f44f5b7749dbe7ee0d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 16 01:07:58 2016 -0400

    gears.geometry: Add area_remove

commit 1ce92bb5506ac8c63705827be8e0e8639043130b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 16 00:57:15 2016 -0400

    get_rect_by_dir: Move to `gears.geometry`
    
    Begin to break down `awful.util`

commit 1a05d53cab47fdca5dd0edf3713efb3c1770d11b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 16 00:30:44 2016 -0400

    screen: Use `gears.geometry`

commit dd121623b514d67c48b7aa7008ff276b4504d370
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 23:59:59 2016 -0400

    gears.geometry: Mutualize getbycoord

commit 72725ef7ce18d90fce2af4111903c3969b6682d5
Author: Daniel Hahler <github@thequod.de>
Date:   Mon May 16 18:54:19 2016 +0200

    Travis: redirect/filter stderr for git-clone/git-push/curl (#911)
    
    git-clone for example might reveal the token on network errors, which is
    now replaced by `sed`.

commit 251614afff2eb41e168781339af0c4de560a6441
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 23:46:11 2016 -0400

    wibox: Remove the dependency on `awful`

commit 9d13e08c63d26b74a4b88084cc91ff2afcc5b02a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 23:44:54 2016 -0400

    gears: Add a geometry modules
    
    Add an abstract geometry module to `gears`

commit b8920c2a7a556a24c8093bc1c2c050d80ce64988
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 23:44:09 2016 -0400

    doc: `for s, screen do` -> `for s in screen do`

commit cc8e10e4be5a3918e88ca754d42b8b6e28e560f8
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Mon May 16 03:10:58 2016 +0200

    Travis: Build Lua 5.3 with -DLUA_USE_APICHECK (#907)
    
    This defines some assertions in Lua that should catch API misuses. It might be
    that Lua is a bit slower due to this, but so what?
    
    Fixes: https://github.com/awesomeWM/awesome/issues/740
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 52208bc728e250504f804018d06d7e94b872657d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 7 03:24:06 2016 -0400

    tests: Test wibox attachment, wibars and struts

commit 4b395bea811b70fd556407cb0e51108f37b96997
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 8 02:25:19 2016 -0400

    mouse: Port wibox.move to the placement API

commit 38185b161a16552ba3fe683b429c10e0e620e72b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 03:50:39 2016 -0400

    wibar: Add a remove function

commit dafd29f2a374e145775daa77fc00a732d7169870
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 8 02:10:35 2016 -0400

    awful.wibox: Rename to awful.wibar
    
    Why:
    
     * Two different (but related) concepts had the same name
     * Users were confused for years on IRC
     * The wibar name was already in use in some doc to avoid confusion

commit 7d390a91f13b1811af5a8c1e736d06950bce146d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 8 01:49:11 2016 -0400

    awful.wibox: Import some wibox documentation.

commit 77380eb121241a98e18d91f8e289fdb999d3db2f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 21:35:02 2016 -0400

    wibox: Move the documentation to a shared file
    
    To be re-used by wibars, tooltips and menus

commit 833ad952f668ef38f8ba27c244594bfde5555c4d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 7 02:55:23 2016 -0400

    awful.wibox: Port to the placement API

commit 50c97ed167fa8cd87694c5a90235659d0425f452
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 7 01:45:50 2016 -0400

    placement: Add a callback to detach the placement function

commit b4f08eb7b6f3b79e1c7f74a3275fcbfbe73c60d4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 03:31:17 2016 -0400

    tests: Add asserts to under_mouse

commit 21c9766aa605c79c5a4c1cd8e188e2f05e989724
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 03:26:58 2016 -0400

    placement: Fix under_mouse
    
    The function stopped actually setting the geometry...
    
    This was missed by tests because of an oversaw elsewhere.

commit 45ff7efce5200082369ddf397115add2d4aa7e9d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 7 00:52:39 2016 -0400

    placement: Support 'attach' in composited placement functions

commit e78a07574b5201017370e67d449b64337b2b09ff
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 7 00:18:39 2016 -0400

    placement: Do not forward the args in get_parent_geometry
    
    The args are for 'd', not the parent.

commit c490ca380340578dc4a7bd0992c05062927fef17
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 10 17:37:38 2016 -0400

    placement: Fix margin support
    
    This was only partially implemented. The margins were substracted from
    the area too early in the pipeline. Now, they are added when getting
    the size and substracted when setting it. This way, the margins will
    "survive" when a placement function set an absolute value in one of
    the field. Previously, this caused one (or more) of the margins to
    be lost.

commit a141dbfd063bd5ac71191f4a356a4e03d0683249
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 10 00:01:35 2016 -0400

    wibox: Add screen properties

commit 0dcc545f35a6170b534113448a0747b142f7a580
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu May 12 01:18:12 2016 -0400

    tests: Update the miss handler test

commit 129b3b1d50fe38c60d2e008a386fbd4813d0e616
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 8 01:41:19 2016 -0400

    wibox: Add wibox property support
    
    Just like the miss handler system, but for wiboxes.
    
    This will simplify the API as there was a mix of properties
    and accessors in the API doc.

commit 9a72062cacbaadb9c34ad54e2804429ed058774a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat May 7 23:46:57 2016 -0400

    wibox: Turn into "real" objects.
    
    Before this commit, it was necessary to call 'rawset' to be
    able to add new fields to the wibox. This is no longer required.
    
    This solution was choosen because wibox is itself a base class of
    menus and wibars. Those classes can now add new properties without
    hacks.

commit 43ef623dc65085021ed38289dfc92181e9d4053f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 10 00:01:12 2016 -0400

    client: Add x, y, width and height properties

commit f4b2043da54aac62a9e62f00f045145dd725d765
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 23:56:29 2016 -0400

    tests: Fix the wibox template

commit 992b03d8d2f1cc8f85ada81bcaeface2eb0b7109
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat May 14 17:34:06 2016 -0400

    struts: Avoid an integer underflow
    
    Fixes #900

commit 25f4f24791025e6364ee34bbf6a1b830199b497f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 8 00:20:51 2016 -0400

    layoutbox: Fix a leak with Lua 5.1 and luajit
    
    Fixes #808

commit df6bc2f6bc83986fbf7ee4049c50f59124954bdc
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 15 01:10:11 2016 -0400

    wibox: Make the table argument optional
    
    For consistency with other objects.

commit 4d7e8c804e02aa05b389c973fde198e8f89be578
Author: Jajauma <jajauma@2ch.hk>
Date:   Thu May 12 00:50:06 2016 +0300

    naughty: change action markup to emphasize clickability
    
    This commit changes the markup applied to the action description text to
    emphasize the fact that the action zone is actually clickable. Bold is
    replaced with underline, the Unicode 261B symbol (right pointer) is
    added as well.

commit b1dbbb00416aa09b5a1ab467dbeaaac04d9464fc
Author: Jajauma <jajauma@2ch.hk>
Date:   Thu May 12 00:17:40 2016 +0300

    naughty: display the client-supplied localized action description in UI
    
    According to the Desktop Notification specification document [1] the
    clients supply actions available along with a notification in a form of
    a list of pairs where first element is an identifier of an action and
    the second is a localized message that will be displayed to the user.
    
    Up to now the naughty code directly used the action identifier text as a
    part of the notification layout exposed to the user. This commit makes
    use of a localized action description for that purpose.
    
    1) https://developer.gnome.org/notification-spec/

commit ae738db58a230ea5c7e3a94467b11671dad38427
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 15 14:43:25 2016 +0200

    Fix awful.screen.getbycoord when no screens exist
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 13bce88fa0b73c34e4f10769a8e9b3f3eeacc01d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 15 14:37:22 2016 +0200

    Fix awful.screen.getbycoord() for top-left corner of a screen
    
    The problem was that get_square_distance() made the screen one pixel larger to
    the bottom/right than it really was. Thus, the (x+0,y+0)-pixel of a screen that
    was below or to the right of some other screen had distance zero to both of
    these screens.
    
    This commit fixes the screen size computation and adds a small unit test for
    getbycoord() and get_square_distance().
    
    Reported by Elv13 here:
    https://github.com/awesomeWM/awesome/pull/878#issuecomment-219272864
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 11f3c7b8af4e3d5a92e87895a5fc41957a8aae3a
Author: Daniel Hahler <git@thequod.de>
Date:   Sat May 14 16:12:12 2016 +0200

    awful.client.history: allow to disable history tracking
    
    Based on the code from Uli Schlachter at
    https://github.com/awesomeWM/awesome/issues/572#issuecomment-160080378.
    
    Fixes https://github.com/awesomeWM/awesome/issues/572.

commit 394ff06589676c26561f19264de1097edaaecdc7
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Sat May 14 16:16:24 2016 +0200

    Fix mouse clicks on titlebars (#901)
    
    Commit 7dad0b3b876af3c7 made awesome only ask for mouse events on the actual
    client window. Obviously, this means that we no longer get reports for clicks on
    the titlebar. Whoops.
    
    Fix this by asking for mouse events on *both* the actual client window and the
    frame window. The passive grab on the actual client window is actually unneeded,
    but we keep it so that the fix that was done by the above commit is still
    present (xev will no longer report leave/enter events just for a mouse click).
    
    Since we now get mouse events inside of a client reported twice, the event
    handling code in event.c has to be fixed to handle both cases. E.g. x/y are
    relative to the top-left corner of the window and thus needs to be fixed for
    titlebar size; the second click has to be ignored.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cbdf40363781ebfe1d2a0e453d363c7ccd269612
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat May 14 14:10:27 2016 +0200

    Fix fallback for the window type
    
    EWMH specifies that
    
       If _NET_WM_WINDOW_TYPE is not set, then managed windows with WM_TRANSIENT_FOR
       set MUST be taken as [_NET_WM_WINDOW_TYPE_DIALOG].
    
    We implement this by forcing a window's type to be "dialog" when it has a
    WM_TRANSIENT_FOR property. For windows that have a _NET_WM_WINDOW_TYPE property,
    this type change is then later undone. However, when a window changes its
    WM_TRANSIENT_FOR property during runtime, then we would set its type to "dialog"
    unconditionally.
    
    This commit fixes this by explicitly tracking if we found a _NET_WM_WINDOW_TYPE
    property on the window and only applying the fallback if we did not find such a
    property.
    
    Fixes-one-of-the-sub-issues-from: https://github.com/awesomeWM/awesome/issues/889
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 11553b931e90fecc64da6803c2d3dd23e1b71110
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat May 14 13:13:20 2016 +0200

    Update workarea when drawin moves to another screen
    
    Fixes: https://github.com/awesomeWM/awesome/issues/892
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c25c0527a61de21963aa4bfa44135995be2dbbf9
Author: Daniel Hahler <git@thequod.de>
Date:   Wed May 11 21:50:02 2016 +0200

    gears.surface: add a traceback for "Failed to load" errors
    
    This is useful to see where the error is coming from.

commit df1cc6d008f0ebb992bfae6f0a7dc9dc6791b8cc
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 3 23:22:14 2016 -0400

    tests: Add awful.widget.button mouse release

commit ca02ec1bbe475635a33b6ca856294e0477e6fd74
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 23:14:55 2016 -0400

    widget.button: Release the button when the mouse leave
    
    This isn't correct, but it avoid a bug where the button stay
    pressed forever if the mouse leave while it's pressed.

commit 64f3677c96a43c71cb7804c9d54a760814bc58d4
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon May 9 19:22:21 2016 +0200

    Fix screen.fake_add()
    
    Commit 8a6787bd54 added screen.fake_add(). Commit 08845c7a4b made us cache a
    screen's workarea in the struct screen_t. This new member needs to be
    initialized to the screen's geometry when a new screen is added. Since both
    these commits were developed concurrently, the workarea was not initialized in
    screen.fake_add().
    
    Fix this by calling in fake_add() the helper function added in 08845c7a4b.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b0571a8128c82ba26ccf0d77bde86cee81a495a8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 01:37:22 2016 -0400

    stack: Use the shared documentation and fix the doc

commit f8845fd9701a3f5223f8642c8a4a8e86d7e681fd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 01:37:12 2016 -0400

    ratio: Use the shared documentation and fix the doc

commit 76cb62a744808f4c8c9c4105bb590b0765ae4b59
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 01:37:02 2016 -0400

    flex: Use the shared documentation and  fix the doc

commit 533a4bfd8f0e97f83c31a7672266b971105f7d7d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 01:36:32 2016 -0400

    fixed: Use the shared documentation and fix the doc

commit 038522933b9fd4e9765b7009129ac4da33dc02ab
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 9 01:35:19 2016 -0400

    doc: Share the smallest common denominator `wibox.layout` doc

commit a51d6d3abd1b5c21f7bda005c001d1e4fa01cb92
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun May 8 23:45:42 2016 -0400

    doc: Add a system to share ldoc content across multiple files
    
    This avoid copy-pasting

commit 30eafb1132d356789ef3e7f2b5544c5979897aed
Author: Daniel Hahler <github@thequod.de>
Date:   Mon May 9 01:05:53 2016 +0200

    travis-apidoc.sh: add `|| true` to grep calls (#887)
    
    This made the apidoc script stop before the merge/push.
    
    This also adds "EXIT CODE" information in case there is a non-zero exit.

commit 58209cd89ea21672557e9f3e0f6a08456bc79c17
Author: Daniel Hahler <github@thequod.de>
Date:   Sun May 8 20:58:19 2016 +0200

    Use an uneven screen width/height (1921x1079) in one Travis job (#870)
    
    This is meant to trigger issues that would need `math.ceil()` fixes etc.
    
    Ref: https://github.com/awesomeWM/awesome/issues/848#issuecomment-216068831

commit df5ecd4c6fb3a2e9da282d96bbcd1beba5029cd1
Author: The Personal Things <jajauma@2ch.hk>
Date:   Sun May 8 21:00:59 2016 +0400

    tests: test-resize: use math.ceil to handle uneven screen width (#882)
    
    See https://github.com/awesomeWM/awesome/issues/848#issuecomment-217361136.
    
    This is actually a leftover from 612756f and is meant to fix the failure
    at https://github.com/awesomeWM/awesome/pull/870.

commit bebdaf4ea3ca9d78ccca38e262d0c1199cfb6625
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 18:07:42 2016 +0200

    Use an out-of-tree build for one Travis job
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7ea816045d35a1946c508308139f7d25bc719462
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 18:34:39 2016 +0200

    "make check": Support out-of-tree builds
    
    Currently, tests/run.sh expects the directory layout that our wrapper Makefile
    sets up before running CMake. This commit adds support for any other directory
    configuration as well.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit aed571eb4881c63327a6aa347630aba5e2c427f1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 17:48:40 2016 +0200

    gears.wallpaper: Handle concurrent screen changes
    
    The code in gears.wallpaper currently sets a wallpaper in a deferred fashion.
    Only a while after it is told to do something does it actually do the wallpaper
    change. This is to incorporate many wallpaper changes right after another. These
    changes happens during startup where the wallpaper for each screen is set one
    after another.
    
    However, since we no longer restart on RandR changes, the screen configuration
    could change while we have a pending wallpaper. In this case, part of the
    wallpaper could be "chopped off", because the surface that we draw the wallpaper
    to is too small.
    
    This commit makes gears.wallpaper track the size of the pending wallpaper and
    create a new surface if the already-pending one is too small.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7dad0b3b876af3c74e672e029829e6039863247e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 17:30:01 2016 +0200

    Grab buttons on the child window
    
    Since commit 102063dbbd, awesome is a reparenting WM. That means that we put our
    own frame windows around child windows. This means that we have the option of
    grabbing input events on the frame window or the child window. This commit chose
    the frame window for this.
    
    For keyboard events, this decision was already reverted in 532ec0cd90. This
    commit does the same thing for mouse events.
    
    This fixes the spurious leave/enter events that were visible on mouse clicks.
    They occurred because the click activated a passive grab (all mouse events now
    "belonged" to awesome). This passive grab caused the X server to inform clients
    that they "lost" the mouse pointer (with the detail field set to "a grab
    activated").
    
    Fixes: https://github.com/awesomeWM/awesome/issues/427
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit beb9b7f9504a711297c5a729119b6de2aeecbfa9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 16:46:57 2016 +0200

    tests/run.sh: Set up some useful env vars
    
    GDK_SCALE=1 is needed to overwrite other settings that people might have which
    would make geometry-related tests fail.
    
    NO_AT_BRIDGE=1 gets rid of the following message that I am seeing:
    
    ** (lua:8321): WARNING **: Error retrieving accessibility bus address:
    org.freedesktop.DBus.Error.ServiceUnknown: The name org.a11y.Bus was not
    provided by any .service files
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 08845c7a4b925cf6d81f533171054b23a6067fb5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 16:30:37 2016 +0200

    Cache a screen's workarea
    
    Instead of computing the workarea whenever some Lua code asks for it, it is now
    remembered explicitly as a property on a screen. This allows us to only emit
    property::workarea if the workarea actually changed.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/756
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 014f68a84ddcab3eb630097bf2c364713af3b341
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:51:03 2016 +0200

    Add a functional test for addition and removal of screens
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5b9509d612303bed5a8915c2eee02a838c40c019
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu May 5 16:46:40 2016 +0200

    naughty: Delete a screen's notification on removal
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5b1f8cd35c2b6ea88778238ef13b1e96ef5f32c1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 8 15:00:14 2016 +0200

    Emit more signals when removing a screen's tags
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 975aac5c0ca592cf3487140b19f159e6cc1e335e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:41:40 2016 +0200

    awful.tag: Delete a screen's tag on removal
    
    Any clients with these tags end up somewhere random (the first tag on the first
    remaining screen). This certainly can be improved in the future, but at least
    this is a start.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 851e0065fe43b61142dbc7522f63fa6a1165e1f0
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu May 5 16:37:36 2016 +0200

    awful.tag.object.delete: Delete a tag's data
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a641d88d4e7e714e713b65bf517e53a35f649b61
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu May 5 16:36:14 2016 +0200

    awful.tag.object.delete: Add option to force deletion
    
    When this force-argument is not given, the code will refuse to delete a tag
    which has a non-sticky client. With this force argument, the client will just be
    moved to the fallback tag.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 962a73c18c4169e0184e35828851bf331404e965
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu May 5 16:34:18 2016 +0200

    awful.tag.object.delete: Remove dead code
    
    The case fallback_tag == nil was already checked some lines above.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b0038c8ddba4e4da50de8cb40838c1bf3b743611
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:44:17 2016 +0200

    awful.autofocus: Skip invalid screens
    
    This code uses delayed calls to lazily update things. Thanks to this, it can try
    to update a screen long after it was removed. Fix this by just doing nothing on
    invalid screens.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bc9b3ca751a621c0816d517c69943782f5a4a928
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:39:28 2016 +0200

    tasklist: Stop updating after a screen was invalidated
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5390913f5ac5890a49191fbc0bea82689ea9a308
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:38:40 2016 +0200

    taglist: Stop updating after a screen was invalidated
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e4c3554c22f062e34e51b3bf33d4b1b9c556485d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:36:53 2016 +0200

    tests/_client.lua: Don't use GtkApplication
    
    GtkApplication does magic like ensuring that the application ID is unique and
    there is only a single instance of each application running. We don't want nor
    need that for the tests.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bcc7c65f772ebc8d6c4e29b4fb9480c8548b20b2
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:24:38 2016 +0200

    tests/_client.lua: Allow class to be unspecified
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2da6ec09125594519c899a7546a07789c425169c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 19:23:22 2016 +0200

    tests/_client.lua: Add missing modelines
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8a6787bd5483d00a32002f923a457991eaea7a68
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 16 17:47:52 2016 +0200

    Add functions for faking screen additions and removals
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6b4a2625cb1334f47934cc7089395e92b8d0c773
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu May 5 18:33:18 2016 +0200

    test-spawn-snid.lua: Use test client instead of urxvt
    
    Startup notification support in urxvt is optional while GTK always supports
    startup notification. Thus, use the new GTK-based test client for the SN tests.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/848
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 697a88958e9d51c2b393398bbc0e13a5206ceabd
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu May 5 18:29:35 2016 +0200

    client_manage: Check for _NET_STARTUP_ID on WM_CLIENT_LEADER
    
    Apparently the spec allows to set the _NET_STARTUP_ID value on the property that
    WM_CLIENT_LEADER points to instead of the window itself. Thus, if we don't find
    a _NET_STARTUP_ID on the window itself, check again on the client leader window.
    
    Apparently GTK even does this (for whatever reason...)...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3945f13fc4816310d500ef51da50452c6334d6e7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed May 4 23:45:16 2016 -0400

    placement: Fix an semi-infinite loop when attaching to geometries
    
    It would add a new connection each time and eventually get very
    slow.
    
    An regression test will be published later.

commit 58ecc69af8e1f843a2ea4e995da6487416f579ce
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 3 01:21:39 2016 -0400

    mouse: Add 'current_widget'

commit cf0a4b42b4025372ce8dab813129a7012b92468f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 3 00:32:58 2016 -0400

    mouse: Add `current_widgets`

commit 81064daa42f45f18c004b6c786d53a278e45a677
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 3 01:18:08 2016 -0400

    doc: Fix find_widgets() doc.

commit c1fc222d89ba9a46ba234465ea3487224d599213
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 3 00:01:55 2016 -0400

    mouse: Fix `current_wibox`

commit baf290a8b22560d3d860bb75ec1429442417093b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 2 23:57:33 2016 -0400

    drawin: Add a get_wibox function
    
    As wibox contain a drawin, but isn't one, it is necessary to map
    drawin to wibox.
    
    This could eventually be fixed by turning wibox into drawin just
    like the client, tag and screen do.

commit 5404b3c374b814ab4f4b388caf9bd9689d041c69
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 2 23:57:33 2016 -0400

    drawin: Add a property miss handler

commit 66ca66ca87c68341c7485552deda6d38e5e8200f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 2 23:56:08 2016 -0400

    tests: Add basic drawin shim

commit d50acedb35903e5178be1236ac9c479f7eb61b7c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 2 23:35:05 2016 -0400

    drawin: Hide from ldoc
    
    This object should not be used directly by the vast majority
    of users.

commit 1a114e4e57979d2925a091c9f30d6fa6933761f2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 2 23:27:00 2016 -0400

    wibox: Import drawin documentation
    
    This improve consistency.

commit 087d578755ebcf84da49672d1911fc8195335297
Author: Daniel Hahler <github@thequod.de>
Date:   Tue May 3 12:08:00 2016 +0200

    tests: fail if $AWESOME does not exist / is not executable (#872)
    
    Without this the stdout/stderr rediraction when launching it makes the
    error regarding the "program not found" disappear(?!).
    
    [ci skip]

commit 7bd9cd7fd1a51d5816746734e189fcd87ee6a54d
Author: Daniel Hahler <github@thequod.de>
Date:   Tue May 3 12:06:50 2016 +0200

    doc: fix usage of "mouse.move" as a string (#871)
    
    Ref: https://github.com/awesomeWM/awesome/issues/834#issuecomment-216141389.

commit 7b0dcfc3df645424357d7690041e504017ec86b0
Author: Daniel Hahler <git@thequod.de>
Date:   Sun May 1 17:31:38 2016 +0200

    Travis: apidoc: improve merge commit's message
    
     - This should really add the reference to the PR/commit that triggered
       the apidoc changes.
     - Link to job instead of build.
     - Add URL to commit range.
    
    Closes https://github.com/awesomeWM/awesome/pull/865.

commit 612756ff0ef4d219d6c6a831be02a084958285b5
Author: Jajauma <jajauma@2ch.hk>
Date:   Sun May 1 16:05:20 2016 -0400

    tests: test-resize: use math.ceil to handle uneven screen height
    
    See https://github.com/awesomeWM/awesome/issues/848#issuecomment-216052517.
    Closes https://github.com/awesomeWM/awesome/pull/869.

commit 95f1b1ad564c28c5c8cac955fa542930152c9fdc
Author: Daniel Hahler <git@thequod.de>
Date:   Sun May 1 18:06:18 2016 +0200

    Travis: use new GH_APIDOC_TOKEN
    
    While still being used via Travis' `secure` env mechanism, we could
    additionally set it through an env for the repo (not displayed by
    default), and revoke/regenerate it when it gets revealed.
    The token provides access only to the `apidoc` repo.
    
    Closes https://github.com/awesomeWM/awesome/pull/866.

commit 9a42ae87cfc683d0388c4a44199d903214d1839e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 1 10:12:04 2016 +0200

    awful.wibox: Handle screen removal
    
    When a screen is removed, awful.wibox now hides all wiboxes that it created for
    this screen.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ac81a8df1f7a7cd83eff949597d82ae9c99a1903
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Apr 25 21:12:10 2016 +0200

    c.to_selected_tags(): Handle screenless clients
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8ca65cbc26641cf755bdce5af2138bf64bd71c5f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 16 17:37:04 2016 +0200

    Update screen geometry and outputs on changes
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 66ad236d2e7bf4187271e69c8f4b2cb7d5d1b6eb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 16 14:58:00 2016 +0200

    Clean up after a removed screen
    
    When a screen is removed, we have to update screen.primary (if it was the
    removed screen) and assign a different screen to all clients which were on the
    removed screen.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dceb532d263bbcb10ee370495272e42bbcb3a4c6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 16 14:44:21 2016 +0200

    Re-add duplicate screen removal
    
    An earlier commit removed this code (back when it was still part of
    screen_add()).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 080609f6ec7c451c9fa34fdf1d1657f1993bf3f4
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 16 14:49:09 2016 +0200

    Add a screen checker.
    
    A client cannot be used any more after it was unmanaged. Similarly, Lua
    shouldn't be allowed to e.g. assign a client to a screen that was removed. This
    commit adds such a checker which "breaks" all screens which are not in the
    global screen list.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b651373cda98c4a78c4a12d9e9a018743cdf28b6
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Apr 15 20:29:08 2016 +0200

    Stop restarting on RandR changes
    
    This commit adds a "removed" signal to screens. Together with the "added" signal
    that we have since a while, this allows the C code to update the list of
    available screens dynamically without needing to restart.
    
    So far, this code received only minimal testing. So far, I don't have a nice
    idea on how to easily test this...
    
    Closes: https://github.com/awesomeWM/awesome/issues/672
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8de8df1415db709ff7466d3e57f445029a5b7464
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 13:39:27 2016 +0200

    Move call to xcb_randr_select_input into screen.c
    
    The code in screen.c should decide about this kind of thing.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cba8655ca8395ae49779caaf097dd11f723c35e9
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Apr 15 20:05:03 2016 +0200

    Switch to a more specific nvidia binary blob work-around
    
    We once had the problem that with the nvidia blob, the X11 server told us that
    "yes, I do support RandR; there is just a single big screen" even though there
    were multiple screens and they could be queried for via Xinerama. To work around
    this, we started to ignore RandR if it only provided information about a single
    screen.
    
    Our long-term goal is to stop restarting on RandR screen changes. Thus, even if
    only a single screen is defined during startup, we should still use RandR later
    when another screen is added. This means that we cannot just ignore RandR if it
    only mentions a single screen.
    
    This commit copies what GTK+ does: If there is an output named "default", then
    some compatibility layer is assumed and we ignore RandR.
    
    I have no way to test if this really does the right thing.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ebe86e32d752a63ad5daba689c915f6d850fa2ba
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Apr 15 19:59:36 2016 +0200

    Restructure the way screen_scan() works
    
    Instead of adding all screens directly to globalconf.screens, the individual
    "scanner functions" now get a screen_array_t as their argument and add the
    screens there. Also, they no longer emit the "added" signal themselves (through
    screen_add()), but the caller does now does this instead once all screens are
    found.
    
    This commit drops the "deduplication" of screens. This likely means that clone
    mode causes duplicate screens. This will have to be re-added later.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0c575ee3dffe8eb0f1844cdefeeda04204666750
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 30 11:57:32 2016 +0200

    Import DoingARelease from the wiki
    
    This was only partly converted to markdown. It still refers to wiki pages with
    wiki syntax, because we first have to decide on what happens with the wiki
    before this can be updated.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 86ca5281f489c5183069722961c88f275e534a8a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 30 11:54:16 2016 +0200

    Import some FAQ
    
    This is the current version of the FAQ in the wiki converted to markdown, but
    some IMO bogus content was stripped (e.g. references to awesome being a
    non-reparenting WM).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a37f12c0a15dfdd1ce393241087ef470c4dc9899
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 30 19:20:59 2016 +0200

    menubar.utils.parse_dir: Ask Gio for file type
    
    When not including standard::type in the query for children of a file then Gio
    may not look up this information. This might work on some file systems (e.g.
    ext4), but other (apparently XFS) do not provide the needed file type
    information (see man readdir on the d_type field). The result was that the
    menubar contained no entries because no .desktop files were identified as
    regular files and thus read.
    
    Fix this by including standard::type in the queries.
    
    Also, this commit makes the code use some pre-defined string constants from Gio
    to make "double sure" that typos are caught.
    
    Thanks to @Jajauma for doing the hard part on debugging this.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/863
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3dab42e6a29fbedfb258207d818046f322291995
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 30 01:47:41 2016 -0400

    mouse: Restore support for layouts with their own mousegrabber

commit e41853a47a11b719657e69d37c39ef7fc1c45175
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 02:38:22 2016 -0400

    tests: Test floating client move, snap and resize

commit cd632e4a84d8b59b0978423db8e9ea8998ff163f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 27 23:20:00 2016 -0400

    mouse.dragtotag: Fix and port to the new move API
    
    It wasn't really working as it would in other WM. It might have
    been a feature, but I got the behavior in line with KDE and Gnome.

commit a62e749216a979c73ad4b46a5d3211b429e15e1c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 27 21:16:20 2016 -0400

    mouse.snap: Add some configuration options

commit e31563b056e48e1d46f9893778f7502f9710f738
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 27 21:01:44 2016 -0400

    mouse.move: Return the corner

commit 6e354cd3763cb7f934db24f2f084809a619d8dc7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 23:29:22 2016 -0400

    doc: Add proper mouse documentation

commit a39b93f2e3306dc8da9a0596889f80820c16457b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 22:51:36 2016 -0400

    mouse: Add is_*_mouse_button_pressed helper properties.

commit e78ad709e7680dca47b193463d0c6d7ac8b0f894
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 22:42:32 2016 -0400

    doc: Move request:: handler to their own documentation section

commit 47fffb5eee5be4c427f3120a070d594d365d385d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 22:33:44 2016 -0400

    mouse: Add current_client property
    
    It is called wibox instead of drawin because from the user
    point of view, it will be a wibox anyway.

commit fc2d359722a17a8e4c8cfef5eb318feabae642af
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 22:21:35 2016 -0400

    doc: Add a coords example
    
    This forced the `coords()` documentation to be moved to Lua.
    Keeping it in the C file caused yet another example CMake hack.

commit 800b8c7d4aa2cd7f66da94f80b11508cff76e7e2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 22:09:14 2016 -0400

    doc: Merge awful.mouse and mouse documentation pages
    
    Just like client, tag and screen, this is to avoid new users some
    confusing implementation details.

commit e8dd707508afb0de9b4d2d2bef8e3787810076c7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 21:04:27 2016 -0400

    tests: The the mouse miss handler

commit 0b6cd90dce4794ff744f69fd06d2ce93380b93f4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 21:00:38 2016 -0400

    mouse: Implement the Lua custom property handler

commit 424181248a12ce6ec016bcbc7f6838a9c74c7045
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 20:55:29 2016 -0400

    mouse: Add property miss handler.
    
    Just like luaobject has, but for "static" classes.

commit f0546b900d3c0815fd98bac6cb91b3cf53c23b2d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 23 23:05:11 2016 -0400

    tests: Improve the placement compositing tests

commit bb0a2addb49487e77e6f78f209a101aa8b693e2c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 11 05:15:57 2016 -0400

    tests: Add an option to disable @usage ldoc tag

commit 07e1b975a70ec2c1e6e76b6932ba5a1fd617b562
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 23 20:08:42 2016 -0400

    mouse.snap: Use a composed placement function

commit 1802e9e2fe3fdcebe0454ee9d6e852586d349015
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 23 04:33:46 2016 -0400

    awful.placement: Add a `scale` function

commit 80ee4e9f5dadfb5a013786cce5d1a6b715c0e9db
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 23 02:14:01 2016 -0400

    awful.mouse.snap: Add a visual cue

commit 91cdc4a8990666fdb14a81496868de2714dc5d7d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 22 03:26:43 2016 -0400

    awful.mouse.snap: Support windows 7 style screen edges snap

commit baec2efe2d7fb6182f227171391969f4475a1258
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 22 03:04:28 2016 -0400

    awful.mouse.move: Fix snapping support

commit 86ca6222e25d1b32f2cd3387627d476ec61075a6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 22 02:16:59 2016 -0400

    awful.mouse.snap: Add a configurable default distance

commit 2624370cc0fd0993fd5f79f98c2f518f58410776
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 22 01:59:02 2016 -0400

    awful.mouse: Move snap into a submodule

commit b5a1a8d6e5230661f1733faf5f15017472ed3237
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 28 16:47:29 2016 -0400

    layout: Handle tiled client request::geometry 'mouse.move'

commit 688021d087082accd9348f8c08c4c038b923a52e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 28 16:46:09 2016 -0400

    ewmh: Ignore request::geometry for tiled clients
    
    It causes flicker

commit cdcfb913f1e631453e5101c04ae8a590a4334e55
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 22 00:50:28 2016 -0400

    awful.mouse: Move clients using request::geometry

commit c286470c17c6c4e91fdf4f445099ab2734a49cf1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 22 00:35:46 2016 -0400

    awful.placement: Port `under_mouse` to the new argument syntax

commit 2f819df7f7751fa1dd1e69e449b3ad4e47b988b3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 22 00:34:28 2016 -0400

    awful.placement: Add 'offset' argument

commit e6a04a59223f9a974a5e1fc415780fdec14019fd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 21 04:14:09 2016 -0400

    awful.placement: Extend the compositing feature
    
    It can now keep the different return values and use them in
    later chain nodes.
    
    It also add a "virtual" geometry argument so the geometry is applied
    only after the last node is executed.
    
    Finally, it fixes using pretend and a composite chain at the same time.

commit be455cb140f46198cd3526767c2348f1ff3c2c3a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 21 05:01:35 2016 -0400

    awful.mouse: Add a request::geometry handler.

commit f8f57fb6b71a69a6a5f9efb8218912984e597e8c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 21 04:03:20 2016 -0400

    awful.mouse: Add a generic mousegrabber
    
    Previously, all layouts had their own mouse grabbing logic. The
    new one is based on the client request::geometry feature.

commit e93e2913b670ba8aee80842e6090417e76fe1bfa
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 21 04:01:41 2016 -0400

    awful.placement: Fix a closest_corner corner case
    
    When the mouse was exactly on the right or bottom edge, there was a
    rounding error.

commit 7242b30c01c2d27407b5204b36c81fc84ea944f6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 21 01:51:34 2016 -0400

    awful.mouse: Deprecate awful.mouse.client.corner

commit 75af0a24c76b19dcdcac2e427b7392ba639330f9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 21 04:07:35 2016 -0400

    awful.placement: Add a 'pretend' option

commit 75764108e1c1e5e6d3227a791118e5e4eaa6e3c7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 20 21:48:46 2016 -0400

    awful.placement: Make all functions return the geometry

commit 3e7a7f23c2d724a6bfa3c61930fe1cf2429551a1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 23 23:32:33 2016 -0400

    tests: Test awful.placement.resize_to_mouse

commit 5f17f1aa83a7f42a31b90857bd43cf04deaf6c74
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 30 02:35:14 2016 -0400

    resize_to_mouse: Support size_hints

commit daf05e6eb11435a8ed095934ad36dfbd88b06ab2
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Apr 28 17:53:19 2016 +0200

    xresources theme: Use a RecordingSurface for wallpaper
    
    This theme draws a minimal wallpaper directly. This commit replaces the
    ImageSurface of the wallpaper with a RecordingSurface. This shouldn't have any
    visible effect, except for reducing memory usage, because an ImageSurface needs
    a lot of memory and is only eventually released by the garbage collector. A
    RecordingSurface instead just records the operations that were done which needs
    a lot less memory for the simple operations done here.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1714a6513b8a72743c0544279b7b5e196bf878c4
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Apr 28 17:47:12 2016 +0200

    xresources theme: Let beautiful.wallpaper be a function
    
    This makes the code create a wallpaper of the correct size, instead of cairo
    later having to scale the wallpaper up to fill the screen (if it has a different
    size than screen 1).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a55baf9e3c4e4d4b87752ed74da15586e82b08bb
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Apr 28 17:45:36 2016 +0200

    Default config: Allow beautiful.wallpaper to be a wallpaper
    
    This e.g. allows themes to specify different wallpapers for different screens.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 604ea15c4585c0124fb4a7a9e2b9660694f567b6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 20 21:41:00 2016 -0400

    awful.placement: Add a 'resize_to_mouse' function

commit a072e341949a52d7dd5fe2a498a9199823eecee1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 28 16:47:01 2016 -0400

    shims: Add the request:: signals

commit ede88d8bcea8328741bdace92a0527b3996a9a21
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Apr 28 17:42:15 2016 +0200

    Fix awful.screen.getbycoord when no screens exist
    
    When there are no screens, screen[1] causes an error. Thus, this isn't a safe
    fallback for these functions. Instead, this commit makes the code prefer the
    primary screen, if possible. If no screen exists, then screen.primary will be
    nil, but at least it won't throw an error like screen[1] does.
    
    (This also changes the outdated copy of getbycoord that exists in
    wibox.drawable)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4eb80853c2f3fb26347cf50eb9b9792a06e6cfca
Author: actionless <actionless.loveless@gmail.com>
Date:   Tue Mar 1 03:17:13 2016 +0100

    feat(lib: menubar): replace io.popen to lgi

commit 693a87ef2e9dffc0b2ff374286ed2ec89d1ac189
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 27 19:48:03 2016 -0400

    mouse: Avoid an error when the client is killed while moving
    
    to reproduce:
    
    1) spawn an xterm
    2) enter 'sleep 10 && killall xterm'
    3) start moving the terminal
    
    There will be an error
    
    (found by a yet to be commited integration test)

commit 14f7d20d0f5cd4b0986d2f0485f332b28b620661
Author: actionless <actionless.loveless@gmail.com>
Date:   Wed Apr 27 18:28:12 2016 +0200

    refactor(awful: util): use lgi.Gio for is_dir

commit 76313263b6196ccb23331cd51fc0c12a8acc7633
Author: Wolfgang Popp <mail@wolfgang-popp.de>
Date:   Tue Apr 26 22:14:09 2016 +0200

    Add clear() function to awful.widget.graph and doc fixes (#847)
    
    * awful.widget.graph: add clear() function.
    
    * awful.widget.graph: doc fixes for add_value.
    add_value did not show up in generated luadoc. And the value parameter does not need to be between 0 and 1.
    
    * awful.widget.graph: local functions clear and add_value as methods of graph.

commit ad304a2596c9b6465d02ea65a97961f02a52e2a6
Author: Daniel Hahler <github@thequod.de>
Date:   Tue Apr 26 10:02:23 2016 +0200

    Make awful.client.focus.history.list public (#842)
    
    There used to be `awful.client.data.focus`, which was moved to
    `awful.client.focus.history.internal`.
    While the former was accessible, the latter is not.
    
    This is useful to get a list of most recently focused clients, without
    having to hook into the signal yourself.
    
    Closes https://github.com/awesomeWM/awesome/issues/841.

commit c6fafe06c023452c822d69a4428f3d5c4007c89f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 15:49:06 2016 +0200

    Default config: Remove tags table
    
    Tags are accessible as s.tags on a screen object. Yup, that's harder to find
    than a variable that is defined in the default config, but such is life.
    
    Now that awful.rules supports specifying tags by name, I guess that the number
    one reason for needing the tags table is gone.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 330aa49912944ab41746f44ee6ba3b4856869b35
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 15:34:00 2016 +0200

    default config: Only have a single connect_for_each_screen()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a0d47f8ea5df7a6dbf16dfe092181a300c32c7db
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 15:46:14 2016 +0200

    awful.wibox: Fix some minor things
    
    capi.awesome is unused and capi.screen is unused, but really should be used.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9b44e9a011b9766c3442cff6f10d4fcb083a5612
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 15:42:15 2016 +0200

    tag:delete(): Allow deletion of the last tag
    
    When a tag is deleted, this code tries to select some other tag. If the tag
    which is to delete is the last tag of a screen, this code failed and indexed a
    nil value. Fix this with a simple "if".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2485d334cfc82e747f8663cc8c8e9b64bb1d8d64
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 15:38:11 2016 +0200

    awful.layout.arrange(): Handle screen removal
    
    If a screen is removed while a re-layout is pending, previously this code would
    cause errors and problems. Since the screen is gone, there is nothing to arrange
    anyway and we can just not do anything.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fc390ff4054c7993f9639be4294ad8ca7a087a4a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 15:37:00 2016 +0200

    Use weak keys for referring to screens
    
    This commit changes some tables that are used for per-screen stuff to have weak
    keys, so that the screens can be garbage-collected, if needed.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0d4cc5f43aaa3c2e308b15dda8fa743422d7b595
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Tue Apr 26 00:51:51 2016 +0200

    Fix integer overflow in overflow checking functions (#851)
    
    The min/max arguments to the integer range checking functions are integer. We
    call these with UINT32_MAX in two places and this value (notice the "U" for
    "unsigned") does not fit into a signed integer. Hence, there is an integer
    overflow at compile time and the maximum value that is actually checked for is
    -1.
    
    Fix this by using lua_Number (double) instead of int.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/840
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 02b6f9893d630cb7ff5b6f7b61874976d5cc7eb9
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Apr 26 00:48:19 2016 +0200

    awful.placement.no_overlap: use screen.workarea as fallback
    
    When there is a maximized and floating client,
    `awful.placement.no_overlap` would end up with an empty list of areas to
    place the client into.
    
    This patch fixes it to use the default `screen.workarea` in that case.
    
    Closes https://github.com/awesomeWM/awesome/issues/813.

commit cdb5a0f04627e0410a3ff7130c2f65c1036b4ac0
Author: actionless <actionless.loveless@gmail.com>
Date:   Mon Apr 25 15:43:14 2016 +0200

    fix(awful: rules): floating property

commit 58a6cdb4408f906f051ae3305cd5fb67cb5125fd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 24 02:44:19 2016 -0400

    doc: Add a missing '@' sign in mousegrabber documentation

commit 2ccc7c88d67ab2bed85cacbbdbc99bf450c52488
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 23 22:12:23 2016 -0400

    awful.mouse.snap: Fix invalid fallback

commit 135ff4b0c8eb812f98efa9f3f80a9f00ef9a3b6a
Author: Daniel Hahler <github@thequod.de>
Date:   Wed Apr 20 22:34:16 2016 +0200

    Use gears.protected_call with awful.rules callbacks (#843)
    
    Fixes https://github.com/awesomeWM/awesome/issues/840#issuecomment-211823483.

commit d736850e6058537dea4c9ec9b52ffc5ca9030458
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 17 06:09:47 2016 -0400

    tests: Fix urgent test use of deprecated functions
    
    It caused noise in the test results

commit f2a19690ac908a5cbc856deb0576919e5e9b2338
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 17 05:15:21 2016 -0400

    tests: Test geometry changes

commit a4f1b760bdaef2f5041c5ed0ddf4a10c3610933d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 17 05:00:02 2016 -0400

    awful.rules: Apply size_hints_honor early
    
    There is a property race with width, height and geometry

commit 8875b66d2e4fdf02ef64d91ece248791c4f25d26
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 13 03:22:29 2016 -0400

    tests: Test awful.rules

commit 9798b455cbe4ba1f0d773e8a72a5885a5e9601e7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Apr 12 23:18:09 2016 -0400

    tests: Add a flexible dummy client.
    
    XTerm isn't really a perfect test candidate.

commit 6bc99fe52f2fd9ca932b61da453951f15836d7cd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 16 05:51:25 2016 -0400

    awesomerc: Use rules to set the default position instead of "manage"
    
    This avoid a conflict when rules try to set overlapping geometry.

commit f5a27ab99bf90d05881a7abc40d3484b20ff2c59
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 17 03:28:44 2016 -0400

    tests: Test maximizing and fullscreen

commit e54387904b16e3087cb989e862d9c98196a6d7b7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 15 05:09:41 2016 -0400

    client: Add request::geometry
    
    Remove request::fullscreen and request::maximized_* and use
    a single request for them. The other client resizing features
    will soon also start to use this.

commit f681ace58721f0f636c7daf30829192ca806f407
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 15 01:43:58 2016 -0400

    ewmh: Take focusable into account in request::activate

commit c678a0d426d48a7ab083986d41a654c0dd1f56bf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 02:56:25 2016 -0400

    awful.rules: Apply floating early

commit 06716df05a27e5753f01196db544aa4fd41aff6c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 02:55:54 2016 -0400

    awful.rules: Apply border_width early

commit 89edc921104af30db88124d2c41b52c2a35ebd2f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Apr 12 04:41:59 2016 -0400

    awful.rules: Add the 'tags' property
    
    Due to recent changes, it was no longer possible to disable the
    default tag selection handler. This commit extend the already
    existing request::tag mechanism to let handlers select the tags.

commit f72dcce4bde862124216aaa5b0beff0f362f0731
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 14 03:13:06 2016 -0400

    titlebars: Use the request system rather than 'manage'.
    
    As awesomerc.lua "manage" section is executed after the rules, using
    a 'geometry' or 'placement' property in the rules was broken.

commit 299e155acca4eaa5b440e0b387c3c439ecc4bbf5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 17 03:52:59 2016 -0400

    client: Extend request::tag instead of awful.tag.withcurrent
    
    There was a regression when refactoring the API. It was no longer
    possible to disable the automatic tag selection.
    
    Due to recent changes, it was no longer possible to disable the
    default tag selection handler. This commit extend the already
    existing request::tag mechanism to let handlers select the tags.

commit 7cd76e052919c9fe4b69294663dec1f5adc8465d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 17 03:52:33 2016 -0400

    awful.rules: Add 'placement' property

commit b0aedcda674489002c4faee01b72e1ade049c7df
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 14 23:45:04 2016 -0400

    awful.rules: Add `new_tag` property
    
    Create a new dynamic tag for the client.

commit 090f2b83ac6c4ef6ce54df93f24d50100c2054f8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 14 23:51:17 2016 -0400

    awful.rules: Avoid trying to set some properties
    
    This avoid unwanted signals or properties being set twice.

commit ddf14a3ffc7637c1298c7c9c9e820d3caaba84dd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 20 00:08:28 2016 -0400

    awful.rules: Refactor the code to avoid many race conditions.
    
    Testing demonstrated that many rule properties were broken when used
    together. This commit try to address this by forcing an execution order
    that doesn't trigger the problems.
    
    It is still possible to write broken rules, but it should not happen by
    accident anymore. Users should not try to assign the client a tag on
    screen 2 and also use screen=screen[1].

commit a2a5448442d2d862c9b99e7241e0a2309d523449
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 20 00:02:38 2016 -0400

    awful.rules: Remove dead code
    
    Also change the focus callback signature to match the others

commit 2a8cc08ca11779e4bea35c39bf3b66cd3223cfda
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 16 06:23:09 2016 -0400

    awful.rules: Make adding new properties easier.
    
    This commit also add a 3 step process to apply rules.
    
    Testing showed that many rules are currently broken because
    of execution races.
    
    Create a new dynamic tag for the client.

commit 761e244b32ea52372cb363458d68b25e78d3beed
Author: Daniel Hahler <github@thequod.de>
Date:   Tue Apr 19 22:37:14 2016 +0200

    Handle `awful.util.deprecate('Use ‚Ä¶')` style (#837)

commit fe8beaeaacf1011e0de82da95e6eb65c53f0e2e9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 23:56:23 2016 -0400

    placement: Fix incorect use of the border_width
    
    The code and tests assumed the border was equaly applied around
    the geometry while the {x,y} pair of the geometry include the
    border.

commit 798729ff11124bccde450593789f4f82e14ec8bf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 16 05:56:41 2016 -0400

    tests: Test placement composition

commit bfc8f35fb93d34f3c1613b3501db8781cc9cdfe2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 16 05:49:17 2016 -0400

    placement: Support composition.
    
    Multiple placement function can now be daisy chained like
    in gears.matrix. This is useful for building rules.

commit 2b5d918a8d8282b58ffa10e9f69ff6171b87af24
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 15 05:09:05 2016 -0400

    awful.placement: Add a memento system.
    
    It is used by the ewmh methods.

commit fcd320c7f6145b3bf40a9fc3da2ae7f81cc666aa
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 17 05:30:34 2016 -0400

    Make awful.rules mandatory
    
    There was many unfixable race conditions that could only be
    solved by better integrating the request:: system and
    awful.rules. This has the side effect to make rules mandatory.

commit 30a527fcfd1bdc5f4dce7c662d9647dacccf7b18
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 13 05:20:16 2016 -0400

    travis: Install GTK
    
    So the tests can generate custom clients to suit their purpose.

commit 5ebe073cdc377fb4f04d8f9f2613447d482e4a3d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 23:26:39 2016 -0400

    mouse: Correctly round floating points
    
    Fix #835

commit 473df11e1f2d55ddde68e6f82f08bbc5d034983a
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 18 23:20:16 2016 +0200

    Streamline/cleanup util.deprecate calls

commit 8387d8fecc693193ca2a124621aef8451fb365ea
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 18 22:35:50 2016 +0200

    .travis.yml: improve comments

commit bb47aa5861bf0ca9ce9407bd68a0360106e48d42
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 9 02:57:56 2016 -0400

    tests: Test all client layouts

commit 7654abcedc4f42a6dabb399d5a5915e0dc69c715
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 01:27:50 2016 -0400

    layout.tile: Avoid negative geometries

commit b938a99e1e032d7515c02e1936e67b75db325183
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 01:24:12 2016 -0400

    layout: Avoid creating negative geometries when adding gaps

commit 9991f9ccc8786744430c2c0c7bb913f4f4699215
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 01:15:15 2016 -0400

    geometry: Use the relevant rounding functions instead of integers
    
    In the case where one want to put the cursor at the middle of the
    workarea, it is logic to do:
    
       x=screen.workarea.x+screen.workasrea.width/2
    
    However, this can cause floating points. This commit move the
    burden back to the C-API so the Lua placement code doesn't have
    to add a large number of rounding methods. Given 1 type of rounding
    cover a vast majority of use cases for each types of coordinates,
    the C-API can take care of it in peace. For the other corner cases,
    it is still possible for the Lua code to do the rounding there, but
    no longer necessary. The convenstions are:
    
     'x' and 'y': use round (move to the closest point)
    
     'width' and 'height': use ceil (to avoid involontary truncating)

commit d46e11f5e13c2c20c16d18f35dcea6035440060c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 13:44:05 2016 +0200

    Add range-checking to lots of arguments in the C code
    
    This change catches things like c:geometry { width = -42 }.
    
    Helps-a-bit-with: https://github.com/awesomeWM/awesome/pull/820 (fixes X errors)
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 39c031241f5e04e6c1a32a67508f79b47ee6b4e8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 18 00:55:22 2016 -0400

    Add number range checking.
    
    Add the "number" equivalent functions for the integers one
    introduced by the last commit.

commit 3c3e2daeb23cb9d33042dad47f58bd7b9c2d15f7
Author: Abdo Roig-Maranges <abdo.roig@gmail.com>
Date:   Sun Apr 17 14:30:39 2016 +0200

    fix deprecation warning

commit 7d866318c4152683b1145eeb8ef94044b0ee5910
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 16:12:08 2016 +0200

    Packaging: Print some information about supported packages
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 96370e32a3ee9e22e800065d0d7854643b8adbe4
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 16:10:18 2016 +0200

    Use a_find_program() instead of find_program()
    
    a_find_program() prints some status, making it easier to see what was found and
    was not.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 76266abcfa636cc6e8e54aeb85ed96d557411cb8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 15:21:02 2016 +0200

    naughty: Print notification content in "no screen" warning
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 163c15979e1737cab5b391cd0fbfb81de2d6b459
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 13:37:15 2016 +0200

    Add range-checking Lua stack -> C value converters
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2cf4ea5cd41754b602ca831a433d5f61bdb74a00
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 17 13:35:23 2016 +0200

    xutil.h: Add defines for valid coordinates and sizes
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3e75e800ad4901fd095a5eb33a9c02c28466d743
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Apr 15 19:38:09 2016 +0200

    Fix build warning
    
    Commit c543f596968a7 introduced the following warnings:
    
    objects/screen.c:307:1: warning: return type defaults to ‚Äòint‚Äô [-Wimplicit-int]
    objects/screen.c:307:1: warning: no previous prototype for ‚Äòscreen_scan_randr_monitors‚Äô [-Wmissing-prototypes]
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit af6586a72313c610b8dbcd429d7bed316b2d3a3b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 14 21:31:19 2016 -0400

    build: Be more careful about the use of ..

commit 70d095df06a613cbc6559cd6800f95daf0d52f04
Author: Kirill A. Shutemov <kirill@shutemov.name>
Date:   Wed Apr 13 02:32:58 2016 +0300

    screen: detect monitor configuration change
    
    Xorg server from git[1] generates ConfigNotify event when monitor
    configuration changes.
    
    We handle the event, but only trigger required awesome_restart() if
    screen size is changed. It's not what happens in case of monitor
    configuration change.
    
    Let's relax the condition and call awesome_restart() in response to all
    ConfigNotify events to root window.
    
    I'm not entirely sure that it wouldn't lead to superfluous restarts, but
    I don't see an option.
    
    [1] dbe8d03c42f0 ("randr: Send ConfigNotify when manual monitor list changes")
    
    Signed-off-by: Kirill A. Shutemov <kirill@shutemov.name>

commit c543f596968a765a7510f0b51fca74ed3bdb001a
Author: Kirill A. Shutemov <kirill@shutemov.name>
Date:   Tue Apr 12 14:26:17 2016 +0300

    screen: XRandR 1.5 support
    
    XRandR 1.5 adds support for the new monitor objects.
    
    'Monitor' is a rectangular subset of the screen which represents a
    coherent collection of pixels presented to the user. Each Monitor is be
    associated with a list of outputs (which may be empty).
    
    The patch below matches 1:1 screens in AwesomeWM with XRandR's Monitors.
    This way I get one screen across my 4K monitor, which is represented by
    two CRTCs.
    
    Background info: http://keithp.com/blogs/MST-monitors/
    
    Signed-off-by: Kirill A. Shutemov <kirill@shutemov.name>

commit 79e16cf950ba15308a2d4f1d5b417f6681a41e30
Author: Uli Schlachter <uli.schlachter@informatik.uni-oldenburg.de>
Date:   Tue Apr 12 09:33:39 2016 +0200

    awful.rules.execute: Make for loop easier to read
    
    Signed-off-by: Uli Schlachter <uli.schlachter@informatik.uni-oldenburg.de>

commit fb8c70b07d146dafdadefc81636fd4511fc0135c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:32:53 2016 +0200

    awful.rules: Fix switchtotag with tag names
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9efc5ca40962718d2b48fef11c5782a9efcfc5f7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:32:16 2016 +0200

    test-urgent.lua: Test "tag by name" rules
    
    With this commit, the code added previously to awful.rules is now also tested.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3f0483003c42c9f566cbc7d470e455fcfc7181da
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:21:37 2016 +0200

    Default config: Use strings for tag names
    
    Tag names really are strings. Numbers just work accidentally since the C code
    uses luaL_checklstring() to access the tag name and this function silently
    converts numbers to strings.
    
    This also has a nice documentation effect, making it easier for people to figure
    out that they can change the name of a tag. Plus, with this the changes done by
    previous commits make more sense (specifying an awful.rules-rule that identifies
    a tag by name).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 65fa565cef0710db0d307392249631f993b11193
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:18:07 2016 +0200

    Update awful.rules tag-related examples
    
    Fixes: https://github.com/awesomeWM/awesome/issues/799
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9cc28a8da54d0edd95efd71feb7f088b04fb6062
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:15:21 2016 +0200

    awful.rules: Allow specifying tags by name
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7d5e80a8ee95d5f53a0d74bbd3d45d2bc0206a7e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:12:31 2016 +0200

    Add awful.tag.find_by_name
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 53bebfde0258c7b4ba575772b39f3999ef0c8e84
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:03:01 2016 +0200

    awful.rules: Add support for screen names
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2fe9a6dfdf7ac4186436c37c3bb6e935d8f17268
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 10 11:01:53 2016 +0200

    awful.rules: Fix a typo in the docs
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f9add1c49af0167d6071c26be239402bf3188c31
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 11 00:50:46 2016 -0400

    awful.tag: Rename nmaster to master_count

commit e8908e2c62306b8b47e9006e2dada1ec1732d677
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 11 00:30:05 2016 -0400

    awful.tag: Rename mwfact to master_width_factor

commit ff9e74ac0bb419b8bcccdd9c4dbfb5084c65dc12
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 9 05:06:44 2016 -0400

    awful.tag: Remove the old dynamic property system
    
    It is no longer relevant.

commit 194720c82175df7c0d62e8539794160c7b9db58c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 8 02:46:01 2016 -0400

    tests: Test awesomerc keybindings

commit 5e7b1bf50703ab974da0fb72ab5379433ba519c2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 8 00:59:20 2016 -0400

    tests: Test awful.tag against regressions

commit c7fb00dd47b849349081807aee969c854788adb9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 7 23:53:00 2016 -0400

    tests: Test awful.screen against regressions

commit f8fc0e27bf97b049d0bca94fd2b1a77cd16a6aaa
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 7 04:41:55 2016 -0400

    tests: Test awful.client against regressions
    
    This make sure the property system did not introduce infinite
    dependency loops.

commit bfccd1c4677ee06846af31ff616c6650cc688703
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 7 00:50:54 2016 -0400

    luaobject: Make the miss_handlers documentation private
    
    As the code is now reliant on a single implementation, it cannot
    be replaced by the users anymore without breaking Awesome.

commit 7772386f23af7cdf7d29ee99476c1e45ded28118
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 6 23:13:13 2016 -0400

    tag: Add better documentation

commit dd52f1ce864de096a820dd9f02bd75eba290cce9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Apr 5 03:02:00 2016 -0400

    awful.tag: Move functions to awful.client and screen

commit 643e35af22dc98cbce904916447d36b0e8fd5189
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Apr 5 02:27:21 2016 -0400

    tag: Use the new property ldoc syntax

commit 493684a5c086b378a2a18d220c7e8a6a4ae1240f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 11 22:53:22 2016 -0400

    awful.tag: Merge API documentation with tag

commit fda5802498b62cb0d1363b9d443850364a3934e6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 4 04:14:18 2016 -0400

    mouse: Fix ldoc

commit 1bbdbc7053c40eab1eaa8c5c49132149bb9d35c0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 4 04:02:46 2016 -0400

    screen: Add more documentation

commit eb133175ba2d2534094c6aa93296e8e33412f155
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 7 00:09:20 2016 -0400

    awful.screen: Add some client getter properties

commit 00d782f3d3687e6f44e18e60c8d8a0725ffbc8da
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 4 23:35:03 2016 -0400

    awful.screen: Deprecate functions, add methods

commit 5927c1ceed3ffd2258a0d2d6def69dd1e40f7267
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 4 02:35:57 2016 -0400

    screen: Update the documentation

commit a4bc49b54014853d3df686586349e881d9c9fae6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 4 23:34:35 2016 -0400

    awful.screen: Merge screen and awful.screen API doc

commit 16fe91d5f323d1b38bfbf12fa3a227b11c4b4c98
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 2 04:02:43 2016 -0400

    awful.client: Add a new section for layout related functions
    
    The new stateful layout system try to avoid coupling and therefor
    doesn't use these methods. It is not planned to deprecate the
    stateless layout API, so these functions are just kept as-is with
    the old naming convention.

commit d44d83fdb627fa575b19adaee6617cf9bf884b44
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 3 03:50:04 2016 -0400

    awful.client: Refactor all marked function into a property
    
    This is unused internally since Awesome 3.2. There is probably 0 users
    of this left, but I don't want to break the API.

commit 43f1561f26219c41ca2795e40aee0e205209ab56
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 2 03:27:45 2016 -0400

    awful.client: Convert all remaining functions to methods.

commit e15fea6a46276e9e058ae259b375156f4091acec
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 3 03:59:58 2016 -0400

    awful.client: Use the explicit @function tag for each helpers
    
    This allow them to be placed in the right category.

commit 0c1e4e3a2be85808a7c6eab71c58e6345602ae73
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 1 03:46:05 2016 -0400

    awful.client: Move `urgent` in their own submodule

commit 587fc1fbb4f270b79c57b14308adb72d2690b875
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 10 23:27:19 2016 -0400

    awful.client.shape: Turn into a client submodule.

commit 608f3eb7cfbedeea07b081627639e101c27a73af
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 1 01:29:06 2016 -0400

    awful.client: Add an is_fixed  property

commit dfdb6aedf7e0342c56840aa1e374b28dccc2b269
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 04:14:42 2016 -0400

    awful.client: Document the new signals.

commit 9027cabd8c87ce9731ece707db33073352a9b5e5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 03:30:20 2016 -0400

    awful.client: Move `dockable` to the property system
    
    Note that the setter is no longer necessary and is implicitly
    generated.

commit fad55a868b5d5444f20c301cc7ea16181378dd3c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 03:16:34 2016 -0400

    awful.client: Move the focus related methods into a submodule

commit 29feceb80d8f920ace2d02d3b5d0dc8cd954f92d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 02:36:44 2016 -0400

    documentation: Merge awful.client and client pages
    
    ldoc doesn't allow to specify fields from class "A" into class "B",
    so the only solution is to merge the 2.
    
    Also, one of the most common complain on IRC since Awesome 3.0 is
    that the client API doc is  confusing since it is in 2 different files.
    
    Also restore the `awful.client` doc link, point to `client`
    
    This will avoid broken links.

commit 82342f055cc5c46fecdb82b324563f428ce929a9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 14 02:21:29 2016 -0400

    awful.client: Deprecate .floating.get/set
    
    Begin to formalize the getter/setter syntax into a coherent one

commit 828543c838e293da9bc8c20d0dde0922806fcc29
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 01:20:04 2016 -0400

    gears.object.properties: Support 'obj.is_something'
    
    Used when there a property is set by mutators instead of accessors.

commit 5655521ec370d866caecd7f71440168394647b50
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 04:10:52 2016 -0400

    client: Use the new @property and @beautiful tags.
    
    Also improve the documentation.

commit e5f7a278605a09cea6953706dd6da67e8fe5f2fe
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 3 02:59:50 2016 -0400

    documentation: Add various tags and fix section order.
    
    Previously, the `Signals` section was shown before the `Functions`.
    This was confusing and different from other framework documentation.
    
    It partially work. Not all ldoc output display the functions at the
    top, but some does. Previously, none did.
    
    This commit also add 3 new sections:
    
     * property: For object properties, replacing the "fields" table
       from the current documentations.
     * deprecated: For deprecated methods
     * beautiful: For widgets theme options

commit 11f0620d7cb350db19b5369ca0c159c699e131c5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Apr 8 02:45:29 2016 -0400

    awful.key: Add a function to execute keybindings

commit 8d9561036311621697711ec744c9a8bb13b407cd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 10 03:22:23 2016 -0400

    placement: Fix a minor issue with closest_corner
    
    It was using the wrong matrix in 2x2 mode.

commit 8a63c589a6e81f574a0984895ded2e2a6db9a6c1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 9 16:06:21 2016 +0200

    Update root window size on RandR notify
    
    The code that claims to do what XRRUpdateConfiguration() would do was actually
    wrong. That function does not send any requests to the X11 server, but it just
    updates the local, in-memory state.
    
    This commit makes us do the same: We update the size of the root window if it
    changed. The code is directly inspired from the code in libXrandr.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cb46a1163e904d37deee0e069cc81320ff34ea37
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 9 15:56:44 2016 +0200

    Update root window size on ConfigureNotify
    
    This commit copies part of what XRRUpdateConfiguration() would do. When the root
    window is resized, we update the information that the X11 server sent to us when
    we connected to it to contain the new size of the root window.
    
    This is 50% ugly, but having our own copy of the root window size would be 51%
    ugly, so it's better to write to the XCB-owned structure.
    
    Right now this is all dead code anyway, because we restart anyway, but since the
    goal is to get rid of that restart, this is a step in the right direction (e.g.
    root.size() will automatically return the new size).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 80a6f2f510dfd39f852d80481e447a12f205a540
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 9 15:44:54 2016 +0200

    Clean up static variables in event_handle
    
    This function needs the event numbers for events from some extensions. These are
    assigned dynamically by the server. Right now, this is done by having a bunch of
    static variables that are initialized when needed.
    
    Refactor this to have a function event_init() instead that sets variable in
    globalconf (where all of our state should be saved). Also, a preprocessor macro
    is introduced to handle event dispatch which also looks a bit nicer.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7863a5e65b7307c02b19a1c7efd1b62ef64d650b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 9 15:19:46 2016 +0200

    gears.wallpaper: Use root.size()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fe11c5abbfa631f4003c440d7b9415835a7da9b1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 9 15:14:48 2016 +0200

    Add root.size()
    
    This function returns the size of the root window.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8a0738a4bc2195b7dae97831a2e71307029cee1b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Apr 5 00:01:31 2016 -0400

    gears.screen: Merge into awful.screen
    
    gears modules usually don't depend on Awesome C-API. This code has
    been placed there for unclear reasons.
    
    Also, there is ongoing work to unify each "concepts" API into one
    single page. Having `gears.screen` go against this effort.

commit 5eec87e0430fb2559295e18ff4defe46a0fba8ab
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Apr 6 02:12:48 2016 +0200

    Travis: move BUILD_APIDOC=true (Lua 5.2) to the beginning

commit 7116fda78de96b93fef9711e09b12edfd00edca2
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Apr 6 02:06:30 2016 +0200

    Travis: cleanup LGIVER matrix assignment

commit 7cbbfdf1814c7093e64532f81442270a400ea7d0
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Apr 6 01:48:30 2016 +0200

    Travis: move luarocks install into single block

commit 9c76d2dbb68296c7bbbb41e8c7eddbc62ef97f81
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Apr 6 01:29:57 2016 +0200

    Travis: build luajit from source (2.0.4 as of now)

commit b6810576b05fd35cd6d4f0ff0404dcb1defdfbcb
Author: Daniel Hahler <github@thequod.de>
Date:   Wed Apr 6 01:54:18 2016 +0200

    tests/run.sh: display number of errors [ci skip]

commit 9ea207afaa71ca443fe22437aa5cd35d737743ea
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Apr 5 08:53:14 2016 +0200

    Revert "Only define screens after the config is loaded"
    
    This reverts commit e6037b47385bb908e56ee8aaf32097b971790c38. It causes many
    issues with non-trivial solutions that we first need to come up with. As a
    middle ground, we will for now only emit signals if something changes after the
    config is loaded.
    
    See https://github.com/awesomeWM/awesome/issues/799.

commit a0e98c61573e5a9978e4217624b9a832a633544d
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Apr 5 00:59:29 2016 +0200

    travis-apidoc: shellcheck fixes, especially for non-empty GH_TOKEN

commit c85bbeafdbbec73aa582f4006be54c14c72a81c7
Author: Daniel Hahler <github@thequod.de>
Date:   Tue Apr 5 00:31:45 2016 +0200

    naughty.notify: handle non-existing screen, print a warning
    
    Ref: https://github.com/awesomeWM/awesome/issues/796

commit c431f06538c206fcf0cbac18d5424e3da750d080
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Apr 5 00:28:21 2016 +0200

    travis-apidoc: important note about valid json

commit a10431e7a433e1cd33fe5547d7b5e73526925276
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Apr 5 00:27:57 2016 +0200

    travis-apidoc: reference PR only in merge commit for less noise in the PR

commit 7f17f6bc0f5486c909e43687ca24e7eb3d0adb72
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 4 23:36:26 2016 +0200

    travis-apidoc: add link to pull request to commit messages

commit 755088e87affd7c19c205647c3fbbc7eca9aa026
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 4 23:35:40 2016 +0200

    travis-apidoc: fix old/new revisions in PR comments

commit 742717ec22dd4632840734b562f2c3dfdcf32ace
Author: Daniel Hahler <github@thequod.de>
Date:   Mon Apr 4 23:49:43 2016 +0200

    doc: improve doc for awful.screen.focused

commit aae81b7e2a46e232fce72953c12b2ec4db812c9b
Author: Daniel Hahler <github@thequod.de>
Date:   Mon Apr 4 22:44:49 2016 +0200

    docs: add section about gdb to readme
    
    This should maybe get added to a separate section/page altogether
    
    instead, but in this short form it seems to fit here.

commit ce3e6648ac014463bcafeef60049476836a4961a
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 4 20:50:43 2016 +0200

    Travis: pin lua-term to 0.4-1 to fix the Lua 5.3 build
    
    Ref: https://github.com/hoelzro/lua-term/issues/16
    Ref: https://github.com/awesomeWM/awesome/pull/792#issuecomment-205123319
    Closes: https://github.com/awesomeWM/awesome/pull/801

commit 0cbab1320c98630b3a9f90a78428998f4654cc17
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 4 20:41:22 2016 +0200

    Travis: update luarocks: 2.2.2 => 2.3.0

commit c86c873779660cea655c43e4b2f879fed3ea55c2
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 4 20:28:54 2016 +0200

    minor: clarify mod-ctrl-shift-X comment; fix typo

commit df21a85a9a01134db81838a5fe2659fc90bfec10
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Dec 26 18:45:34 2015 +0100

    doc: fixes for spawn.with_line_callback

commit 5db280ab73ed748d91d1b6a562a4ae277b802be0
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 20:16:48 2015 +0100

    minor: doc / formatting

commit b643279e4a2ccf852cd655aa600abb7c9a1cad08
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Apr 4 20:13:27 2016 +0200

    Fix crash in screen_getbycoord without any screens
    
    Ref: https://github.com/awesomeWM/awesome/issues/793#issuecomment-205245346

commit 449974ca6148c67b7167c856b5fb102847ef644e
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 4 20:04:19 2016 +0200

    luaA_checkscreen: display number of existing screens with error
    
    This is meant to be helpful in the case of 0 existing screens, e.g.
    during executing the config initially.

commit e24cb901cbe95718901c5b0b73b15ac0448f989d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Apr 4 00:56:11 2016 -0400

    Typo: Ajust -> Adjust

commit 4819be4f4f3037ef3ff2c3f932d59ff8524d791d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 3 23:38:42 2016 -0400

    build: Do not exit when gears.debug.print_warning are issued

commit 8a09ef707ae32f2f79a41536e6308785a41c1dd6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Apr 2 04:07:39 2016 -0400

    Fix an ldoc mistake

commit 421c10b19a660a678b052b69e9db08c601088ee0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 23:42:05 2016 -0400

    Change autogenerated images name
    
    Github drop files when the leading character is ., ~, # or _
    
    This commit add a prefix in front of the name to avoid leading
    underscores.

commit ef5ec333cc590733f2231b513d14a323421ad59d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 02:14:09 2016 -0400

    tests: Test the remaining existing `awful.placement` methods.
    
    Notes that some asserts are missing because the tests fail. This
    will be fixed later. It is not a regression.

commit f7b524057109aa270db52ab6193e83f433c7a672
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 17 04:09:16 2016 -0400

    awful.placement: Improve documentation

commit 4bc3f04ec162ee9c1f671ec9e7850831d3da0daf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 02:09:34 2016 -0400

    tests: Test `awful.placement.maximize` aliases

commit 12c80e3977cd1a6093e864f4a8e1b0b05c9b7d2f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 23 23:56:28 2016 -0400

    awful.placement: Add `maximize` aliases
    
    Use the same conventions as `align` and `stretch` aliases

commit 7ab83afbbc0407b286c9ff001da4b2787f912ad2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 02:02:27 2016 -0400

    tests: Test `awful.placement.maximize`

commit 59b24cbd359db7a415f118510023f0881524efde
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 23 23:01:52 2016 -0400

    awful.placement: Add a `maximize` method
    
    It should eventually be re-used by ewmh.lua

commit 7b7d09edff48c06c83fbce88ed6547506b425cf4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 01:53:39 2016 -0400

    tests: Test all `awful.placement.stretch` aliases

commit 19913ba62d0686586a5bb6fb6a178d50fe0aa826
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Mar 15 02:09:32 2016 -0400

    awful.placement: Add various `stretch` aliases
    
    Use the same convention as `align` aliases

commit 7b7802f559ec14d89c92db3ccac43681dda97df4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 01:49:17 2016 -0400

    tests: Test `awful.placement.stretch`

commit b4d2a5c541db737b3aa3806f8bf2f4cccdbe44ab
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Mar 15 00:18:42 2016 -0400

    awful.placement: Add a `stretch` method
    
    This will eventually be re-used by `awful.wibox`

commit dd0ea33015e6fc97276c5d7722929b1e0123eba0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 01:37:26 2016 -0400

    tests: Test the new `awful.placement` aliases

commit d85b7eb3e5d37a0d24ab650ee7f0420c7636fac9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Mar 18 02:32:12 2016 -0400

    awful.placement: Add aliases for the `align` method
    
    This re-use the `align` code for the existing `centered`,
    `center_horizontal` and `center_vertical` methods. It also
    add all the other edges and corners alias.

commit db2f545411ec82b4371bf6906cf6555168ff9ea6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 01:26:44 2016 -0400

    tests: Test `awful.wibox.align`

commit 456f0bb70c53f3829c983c4c81ba1825e1fc901c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Mar 18 02:22:45 2016 -0400

    awful.placement: Add `align` method
    
    This allow to place a client, wibox or cursor at the
    edges, corners or center of the parent geometry.
    
    This also add code from `awful.wibox` to ajust the workarea.
    Future commit will use `awful.placement` to place `awful.wibox`.

commit 61d143fe98b9432387bbac49527bcc4126684cff
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 01:16:51 2016 -0400

    tests: Test `awful.placement.closest_corner`
    
    The output image look fine, some `assert()` could be added.

commit 5a5f0167cfac73a2af2ab4da44cdb45d2f6bf10c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Mar 18 01:25:36 2016 -0400

    awful.placement: Add `closest_corner`
    
    This commit also add many local helper functions. They will be
    re-used by the next few commits.

commit ea40fbd198d22f331ba1d28b8fb910dd251d876d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 31 05:04:10 2016 -0400

    shims: Add property::workarea

commit c64c223edec8b6f5eddbb4ebfde8f310fc11a9d2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Mar 29 00:42:31 2016 -0400

    tests: Improve wibox.widget.background documentation

commit c62116f505a6f90942637c61aa329373de5a525e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 19 04:58:43 2016 -0400

    tests: Add wibox.widget.background tests

commit 25c76322a093af45b2a64beee86d4608404dcc12
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 19 04:58:02 2016 -0400

    tests: Add a template to take screenshots of widgets

commit 9f1565c7982977f48bffd30aaa25d9763dfaafa6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 21 04:45:40 2016 -0400

    tests: Add a template to test clients, screens, tags and mouse

commit c9f8690a60afa345840f5cb4fe5800469731aba2
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 19 04:57:37 2016 -0400

    tests: Add some shims to emulate CAPI without an X server

commit e7652a053d25ca7b2164a8ff8edc3f8ce77234ba
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 19 04:59:06 2016 -0400

    tests: Add a new testing framework

commit 9da40d010cbecc025c1d8f699d44dda9c4201a5d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Mar 29 00:10:37 2016 -0400

    gears.surface: Add methods to convert widgets to surfaces
    
    It can be saved directly to a PNG or SVG file or used as a cairo
    surface or pattern.

commit 18ef42abfca99002c0231bdfd540ffb24520c83e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 30 03:20:56 2016 -0400

    tests: Update the miss handler test

commit 3322a1718214aa811523ba5aa94ca37c85a22e53
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Mar 13 03:44:27 2016 -0400

    screen: Support property fallback

commit 89a1dab845df4f551ba0a8bda2b89a6f5ba1f4f6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Mar 13 03:44:19 2016 -0400

    client: Support property fallback

commit e0897cf17070700c47efbffde7bce4ab72a4930e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Mar 13 03:43:50 2016 -0400

    tag: Support property fallback

commit 20bfcdc614699a73bff62233c15f44917ad8c0a9
Author: Abdo Roig-Maranges <abdo.roig@gmail.com>
Date:   Wed Mar 30 17:03:28 2016 +0200

    add test for us(altgr+intl) keyboard layout

commit cb46f093615281818181fc327a86107b59e6b4bc
Author: Abdo Roig-Maranges <abdo.roig@gmail.com>
Date:   Wed Mar 30 14:37:18 2016 +0200

    make keyboard layout naming function easily overridable

commit 18799665569cf136a40f7b722d88259dd97ac9b1
Author: Abdo Roig-Maranges <abdo.roig@gmail.com>
Date:   Wed Mar 30 14:32:21 2016 +0200

    handle layout names like us(altgr-intl)

commit a77e650c5fbbaf1c625a2616b7880529648e69b6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Mar 13 03:42:57 2016 -0400

    gears.object: Add a new "property fallback" object type

commit af7495de5a6fa9a6d8ecdf768a2f2a699c910cc8
Author: Abdo Roig-Maranges <abdo.roig@gmail.com>
Date:   Tue Mar 29 17:03:07 2016 +0200

    fix number check for the screen argument
    
    The check was not done for the elseif case, and caused a comparison
    runtime error.

commit c04718a15072a90e285d1b73f49265e9fc78f948
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 28 15:49:49 2016 +0200

    Fix awful.spawn to work with more LGI versions
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 995361449a4b587f172c5a8d725a4d4589183621
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 28 04:35:16 2016 -0400

    awful.screen: Fix addition between object and number
    
    Fix #784

commit 222f0a133cb73a9e8cf747e1f841b07a581f09df
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 27 11:36:23 2016 +0200

    Keep the cairo surface we use for setting the wallpaper
    
    This fixes a race where we would keep giving the old wallpaper surface to Lua
    when a new one was set, because we didn't get the "wallpaper changed"-event yet.
    Fix this by just keeping the surface we use for setting the wallpaper around.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d9c918c14a75d8ad837037b9616960ed018a47da
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 27 11:29:28 2016 +0200

    wibox.drawable: Stop caching the wallpaper
    
    The C code now does this for us.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3117b439a24d48c908a9ea89fe8b7f5165a61b48
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 27 11:28:02 2016 +0200

    Cache the wallpaper
    
    Instead of querying the wallpaper every time that root.wallpaper() is called, we
    just remember it in globalconf.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5fe03442328eca8b70731da1a8d510aef74a3d1f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 27 11:26:04 2016 +0200

    Fix invalid memory usage in event.c
    
    p_dup really only duplicates the given region of memory. It does not append a
    zero byte. Thus, the string we are using here was not zero-terminated.
    
    Fix this by just using lua_pushlstring() so that we do not have to worry about a
    null terminating the string at all.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e6037b47385bb908e56ee8aaf32097b971790c38
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:38:44 2016 +0100

    Only define screens after the config is loaded
    
    This gives us the worst of both worlds: We still restart on RandR screen changes
    and the information about screens isn't available during startup. However, it's
    a step in the right direction, because all Lua code will now have to handle
    kind-of-dynamic screen changes.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3233eb6cce076e49a501f5db9e411a9dc2a4a6a9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:37:55 2016 +0100

    gears.wallpaper: Use connect_for_each_screen()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bed09f6c1834648beee95b82c4c0292da4a9b660
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:36:38 2016 +0100

    Default config: Use connect_for_each_screen()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3f4018317738acb75ddace4161caa3591f38c617
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:36:04 2016 +0100

    naughty: Use connect_for_each_screen()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 94dede75113b934d7f49cf8b880e61dfdb170e58
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:33:45 2016 +0100

    Add functions for calling something for every screen
    
    This adds gears.screen which contains a wrapper around
    screen.connect_signal("added", func) that also calls the callback function for
    each screen that already exists. This is added in gears.screen so that it can
    also be used from e.g. wibox, if needed. Feel free to move this elsewhere if
    that's a bad idea (I'm not really convinced of it).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2432dda3e3315c3a26a6872a8647075c175e17cd
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:25:51 2016 +0100

    screen: Add "added" signal
    
    This signal is emitted when a new screen is added.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3ffbb8b2b8d2ac14afb1f6c701412a1b7a6070a1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 27 10:22:14 2016 +0200

    Update API doc for mouse.screen
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8ef96bcde7f1556b9ad2e447b44b8fa0ffe7d192
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 19:37:21 2016 +0100

    gears.matrix: Remove (now-)unused code
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 96055fc86bab3b08316a9a7282957b1b9f700393
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 19:33:10 2016 +0100

    gears.shape: Stop using _call on a matrix
    
    Instead of using a special _call field on gears.matrix instances which has to be
    copied around suitably, this commit changes the code so that the magic is
    restricted to a single function in gears.shape.transform. With some metatable
    magic, suitable redirection to everything is added.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 19f146de5f98de994ada7dabacb2cc3a6b9e9c90
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 19:32:40 2016 +0100

    Add missing modeline to gears.shape
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 611cd7c2d8330ba8204b436661539e489a9316f8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:13:55 2016 +0100

    Remove luaA_pushscreen
    
    It's just an alias for luaA_object_push().
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5ccdb933bf2583699b1613e55474e1bdd5afa79d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 26 18:09:24 2016 +0100

    C-API: Return screen objects instead of indicies
    
    This commit makes all C code that previously returned a screen index now return
    a screen object, continuing the deprecation of screen indicies. Note that this
    is an API break and will likely cause all kinds of problems for users.
    
    The change also breaks some tests which are suitably fixed in this commit.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 182f21b48a16bb09e6f0a4430df14c95cbac7364
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 05:14:56 2016 -0400

    tests: Call collectgarbage 3 time
    
    Try to avoid a race condition when testing awful.layout

commit a3542c638a69fe4f20384a574635b362ad58358f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 03:22:20 2016 -0400

    awful.layout: Use awful.screen to compute geometry

commit 83df30d3a436f0842c5c6b159a519dcaefa0e6d3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 03:12:07 2016 -0400

    awful.screen.focused: Fix documentation and make more flexible.
    
    Telling the user a method can be monkeypatched is **not** a good
    idea.

commit e66166cceeef4137b6a1bec2a70b324a53b7b740
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 03:07:20 2016 -0400

    awful.screen: Add a method to apply various paddings.
    
    This avoid code duplications.

commit 9fd329c44958824eb98af40a5289ce5e2dab4a71
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 03:05:45 2016 -0400

    awful.screen.padding: Always return a valid table.
    
    This also fix a bug when the user edit the table. In that case,
    the padding was (accidentally) changed without the correct
    signals.

commit 242652be943f43a5396e4ffa9ad1046da04a71ec
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 03:05:17 2016 -0400

    awful.screen.padding: Support padding number value

commit 35ece57a78bad6ac4243c0d0026141938d3ad719
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 01:46:47 2016 -0400

    layout.margin: Fix the documentation

commit 87813a5597ae7e13e94ef866d63f5ba66beb7cc9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 26 01:40:59 2016 -0400

    layout.margin: Avoid unneeded redraw

commit d2c5e362941cf7dbfc9cedf66602c9686992574c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 23 18:12:04 2016 -0400

    Fix a documentation typo

commit 03f5f5b7f9dd8dc4ccff434620cb56c51c1bddd3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Mar 22 03:26:13 2016 -0400

    cmd: Document --no-argb in --help

commit 2eb085c263f097f21aecad041c140a288f77530b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Mar 21 03:25:17 2016 -0400

    wibox.background: Add shape clip support

commit 24fa4ba6a39851f833b6374381238c5435a8e269
Author: Bernhard M. Wiedemann <bwiedemann@suse.de>
Date:   Sun Mar 20 16:22:52 2016 +0100

    dont add timestamps to created images
    
    This allows for reproducible builds

commit f1816474df6aa091996bb79d4a515888d7671697
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 19 16:51:20 2016 -0400

    wibox: Add widget and layout metatable for widget creation
    
    Calling wibox.widget.base.make_widget_declarative{} is too long, so this
    commit add wibox.widget{} and wibox.layout{} alias.

commit 02cdb5103b6d7485621a25b89207c20cacda7587
Author: Uli Schlachter <uli.schlachter@informatik.uni-oldenburg.de>
Date:   Thu Mar 17 09:40:16 2016 +0100

    Run shape-example-generation under LuaCov
    
    This is ugly, but at least it works. Hopefully...
    
    Signed-off-by: Uli Schlachter <uli.schlachter@informatik.uni-oldenburg.de>

commit f6556b145f6449ab1459001ab06738796281361f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 16 04:21:43 2016 -0400

    gears.shape: Improve documentation

commit b6871833c475ec4851ffb49dbc2bafbd0b6c6cdf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:45:22 2016 -0500

    cmake: Generate gears.shape SVG and example code

commit ac15475c5879805ae5a9fd32b031209593398eda
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:44:00 2016 -0500

    gears.shape: Add unit tests / examples / SVG generator

commit 9bd150f39adc482bd89ea8383237037de0842485
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 16 05:48:16 2016 -0400

    shape: Add radial_progress shape

commit 650d8d0cb53b9c8f2e7946daa48c6610610a07c5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 16 04:18:50 2016 -0400

    shape: Add partially_rounded_rect shape

commit 57e370700f91a2fce5afa279f8de035237a5adee
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:42:41 2016 -0500

    shape: Add losange shape

commit bc16b75ff5d2c81bde18e54a1ad24519b0594aa1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:42:29 2016 -0500

    shape: Add parallelogram shape

commit 7b4109265eba8827a588f93d63b5f7e4de519e13
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:42:14 2016 -0500

    shape: Add rectangle shape

commit 990619db5ad9da44a32a8dab9a714fd4f1dc0921
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:42:03 2016 -0500

    shape: Add circle shape

commit 3b95d2467f559a136b2bfe7e43d580c5ce58ce3b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:41:48 2016 -0500

    shape: Add octogon shape

commit f0bf642f321c5058c367906b7b1071b009a0171b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:41:32 2016 -0500

    shape: Add cross shape

commit 5dbffc73c1903acb718f82f27b2bcc317351fac9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 9 23:40:50 2016 -0500

    shape: Minor fixes

commit d4218da053dafcb80a3677978ca3150223928015
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 13 17:17:34 2016 +0100

    Fix indenting for code in list
    
    Markdown requires 8 spaces for code in lists.
    
    Ref: https://github.com/awesomeWM/awesome/pull/752#issuecomment-194182994

commit dc687c0e31c614ae8d30aef77695baa4e5fb36eb
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 12 21:14:09 2016 -0500

    wibox: Clone missing signals

commit 3d660ba37e4f1e2c0477c8c8dff93d4ced2f8ab9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Mar 10 23:47:29 2016 -0500

    awful.tag: Add "volatile" property
    
    Useful when using dynamic tags. The tags will be closed once
    it is empty. This was part of Tyrannical for many years, but is
    generally useful for other workflows too.
    
       local t = awful.tag.add("my_tag",{volatile=true, screen=2})
       awful.spawn("ayapp", {tag=t})

commit 19d0cbdb651165b9bd2cac2be87d74951fd6be6a
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Mar 9 00:12:53 2016 +0100

    README: link to contributing guide on master
    
    Fixes https://github.com/awesomeWM/awesome/issues/739.
    Closes https://github.com/awesomeWM/awesome/pull/750.
    Closes https://github.com/awesomeWM/awesome/pull/752.

commit 89b2ea6c08d51711d36a606d8e3bee68b5a445fd
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 6 14:46:39 2016 +0100

    Add exclamation mark with error in luaA_dofunction_on_error
    
    This makes it more obvious/visible in the log / output.

commit 8966c73599dae9210754299119214cede3226317
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 6 14:46:13 2016 +0100

    Minor doc fixes

commit 95e5bdf5d250b67525b22bbed615c9016e78638c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 13:31:30 2016 +0100

    Use the new way to iterate over screens in Lua
    
    This gets us one step closer to removing screen indices.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0a394596054d862ba22f01d04872bcb4e27f8172
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 13:25:10 2016 +0100

    Add a non-index way to iterate over screens
    
    This is a preparation for getting rid of screen indices.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dd78f8e6f260f45dea9816c4fdb0add0c6752841
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 11:38:52 2016 +0100

    Remove another useless iteration over screens
    
    Any signal on a screen instance is also emitted on the screen class, so the here
    can just connect to the screen class.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8b65bad3fcfa5a2042edb007fdf05e6ee85fdd4d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 11:37:38 2016 +0100

    Remove useless iteration over screens
    
    Signals on instances are also emitted on the class and thus we can just connect
    to the signal on the class here.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8fd801a6f4256ef4cb4cb1f69ff0fab87deef93c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 11:34:44 2016 +0100

    awful.util.get_rectangle_in_direction(): Use pairs
    
    This code works just fine with non-integer table keys. Also, this is used by
    awful.screen.focus_bydirection() and thus will be used with screen objects
    instead of screen indicies when we get rid of screen indicies.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7f43608d73ea752b0215db949163483ed49ca01a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 11:16:49 2016 +0100

    dbus.c: Check string return values properly
    
    Apparently some versions of dbus kill the process with a failed assertion if
    invalid UTF8 should be send out. Mine doesn't. Also, our behaviour of replacing
    non-strings silently with strings is weird.
    
    This commit thus makes converting from Lua to dbus fail if a non-string should
    be sent as a string or if a string contains malformed UTF8.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/728
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 77507a2877b5722fe56bf5882847542d527b7d64
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 11:12:10 2016 +0100

    dbus.c: DBUS_MSG_RETURN_HANDLE_TYPE_STRING is only used once
    
    So undefine this
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9a030ba29989a287a7a1c8ea250b12c597bf1623
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 11:06:25 2016 +0100

    dbus.c: Fix handling of DBUS_TYPE_BYTE
    
    From the DBus docs of DBUS_TYPE_BYTE:
    
       Type code marking an 8-bit unsigned integer.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2d8421730bb05179b40ce72796f8b27f407ba9d3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 10:43:23 2016 +0100

    Fix stack handling on errors for the mouse grabber
    
    This one actually uses the return value from the function (where's the
    consistency?!), so the code is fixed to only pop the return value if there is
    actually one.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b59b28f7161420371a4aa54915428327eb03395f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 10:35:49 2016 +0100

    Fix error handling in the keygrabber
    
    We called the keygrabber and told Lua we are expecting one return value, so Lua
    will always get us one return value on the Lua stack. However, when an error
    happens, nothing is pushed on the stack, but we still tried to pop the return
    value. This corrupted the Lua stack.
    
    The easiest fix is to just not ask for a return value that is not used anyway.
    
    Not adding a test for this, because the test has to cause a Lua error which the
    C code will then log to stderr and the test runner considers this a test
    failure...
    
    Fixes: https://github.com/awesomeWM/awesome/issues/735
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e18bece3df8911102c92f60fc06fa5da62438c35
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 6 10:20:45 2016 +0100

    Make tests more reliable on "early errors"
    
    When e.g. test-leaks.lua fails, it will cause a Lua error before starting the
    test runner. This means that the test will just hang, because nothing causes
    awesome to quit.
    
    Handle this by starting a timer when the test runner is loaded and quitting
    awesome in there if no test run was started yet. This only works if all tests
    load the runner before doing anything that could fail, so the require("_runner")
    is moved to the beginning in every test.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2e2e3f07e26cd14041eea0070d3d14645b83811e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 5 16:53:38 2016 +0100

    systray: Emit layout_changed / redraw_needed where needed
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a1b20ef6bb1b648f6559d01c998370c0b8f87827
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 5 16:49:49 2016 +0100

    Systray: Add settings for which screen to display on
    
    This makes it possible to have the systray only visible on the primary screen,
    which is the new default value. This also makes it possible to configure
    directly on which screen the systray should be visible.
    
    This breaks the API in the sense that people who use "the old method" to
    configure the systray's screen possibly don't have a systray.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/724
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1e5dd0c7825620a5595577469684a63f77844bfb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 5 16:39:25 2016 +0100

    systray: Add API documentation
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ea95963726e8dce30a510c0bafae52f74503ce9b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 5 16:17:35 2016 +0100

    systray: Turn this into a singleton
    
    There's no point in having multiple instances of this, because there are no
    per-instance settings and the systray can only be visible in a single place at a
    time anyway.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7739a6a7edee7f137902872194d4484e41203abc
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Mar 2 20:04:19 2016 +0100

    Add a property::visible signal to tooltips
    
    As requested here:
    https://github.com/awesomeWM/awesome/commit/b4224a651f5a1bd28f9835e5fbc0342e696d7067#commitcomment-16402861
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e347f7191c958935ffca1e649d0b8a6f51f516d6
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Mar 2 20:00:44 2016 +0100

    awful.tooltip: Use metatable magic to create wiboxes lazily
    
    This might make the code a bit easier to follow. Unless you want to know where
    the wibox is created...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 78ed3abe1afff0b16b8fb2c9aceab1040621c4cf
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Mar 4 00:24:38 2016 -0500

    wibox.widget: Minor enhancements
    
     * Better widget names when using the declarative syntax
     * Add ratio.get_ratio to avoid using the private API
     * Also support `set_widget` when swapping widgets

commit 2aa15c94542027c187e954e0dba36b9688d4d223
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Mar 4 03:16:56 2016 -0500

    gears.color: Add transparent constant
    
    Avoid repetitive "#00000000" for transparent wiboxes and such
    elements.

commit 167f5e282111f59b067fbd0fba998894bbd319e8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Mar 4 02:41:59 2016 -0500

    drawin: Use numbers rather than integers
    
    This solve issues when using wibox with `awful.placement`

commit 3730086bcc14e6ebef5c6a0590a75e20990af099
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Mar 4 01:41:43 2016 +0100

    tests/run.sh: avoid warnings by setting up fg/bg/colors in xrdb

commit ef19a8213a572957432bb0da14de77eb2524d683
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Mar 1 22:55:27 2016 +0100

    awful.client.jumpto: un-minimize clients
    
    Fixes https://github.com/awesomeWM/awesome/issues/472.
    Closes https://github.com/awesomeWM/awesome/pull/729.

commit a256c9676b3217d1304f5dae0b3f576e28230bc1
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Mar 3 22:05:59 2016 +0100

    doc: link to automatically built docs for master
    
    [ci skip]

commit b93d6a4b2569cfb5731f97ff119d4d13bec36cda
Author: actionless <actionless.loveless@gmail.com>
Date:   Wed Mar 2 02:22:08 2016 +0100

    fix(lib: menubar): take in account common list padding

commit b40b69d379f7d198c21d2d849bf4310dcfad4bb5
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Feb 29 22:09:18 2016 +0100

    Fix the mirror layout
    
    Issues involve:
    - :layout() had the wrong signature and expected a cr argument that was left
      from when this was still the :draw() function.
    - horizontal and vertical reflection were mixed up (I guess it has always been
      this way?)
    - The return value should be a table of widget placements. Instead it was just a
      single widget placement.
    
    This is broken since commit 85ab3f045b.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/718
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b8b270a91e3b9759f43309ce1367ceff56870707
Author: Uli Schlachter <psychon@users.noreply.github.com>
Date:   Mon Feb 29 11:13:58 2016 +0100

    Make xrdb_get_value() behave as documented
    
    The documentation states that this function returns nil if the property does not
    exist, but it actually returned nothing. And yes, in Lua this is a difference...

commit 924e8892710f6b5c5a0fadfc23d7592cb2e9760d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 29 03:09:16 2016 -0500

    awful.screen: Fix regression

commit 19f874a73fa84ddac16a1f01f01898ae4ec796d3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 29 03:09:43 2016 -0500

    awful.widget.graph: Expose private data

commit 07631ccc9abb110d943001c55fdea0db635b3ac7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 29 02:46:55 2016 -0500

    awful.layout: Allow parameters to be called when no tags is selected
    
    There seem to be a little race condition (either in my layout code or
    elsewhere) when playing with multiple screens. As most properties do
    not depend on the tag, there is no point in returning early anyway.

commit 0278d5f123bbd14573fd8f1cf310657d90b2400f
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 28 22:45:15 2016 +0100

    Add callback support for client.jumpto
    
    Instead of true/false `merge` can be a callback now, which allows for
    more dynamic handling of the client not being visible, e.g. moving it to
    the current tag, instead of merging.

commit 9205feea5e6fb23769af45e5f2253814598ad522
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Feb 26 22:22:01 2016 +0100

    menubar: rename utils.parse to utils.parse_desktop_file

commit 25eff818788da9cdff81a53d3e1cb4864c8de766
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Feb 26 22:19:35 2016 +0100

    menubar: look for .desktop files recursively
    
    It was missing apps/entries from /usr/share/applications/kde4.
    
    This patch also makes sure that entries are unique (by Exec/Name).
    
    Closes https://github.com/awesomeWM/awesome/pull/711.

commit b05b699129cd4cc7b488745deaa7461666a97bf3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 17:24:24 2016 +0100

    gears.wallpaper: Free wallpaper from memory when done
    
    Wallpapers are usually big images that use up a lot of memory. This commit makes
    gears.wallpaper call :finish() on all involved surface to make them free their
    memory.
    
    This is a lot faster than waiting for the garbage collector to collect these
    surfaces. Due to the large size of wallpapers, such a special case makes sense
    for this code.
    
    Hopefully-helps: https://github.com/awesomeWM/awesome/issues/368
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2ad147d740ba2940d327f953269d9daa159194c0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 17:21:10 2016 +0100

    gears.surface: Change the way that caching works
    
    Loading a file normally has the same behaviour as before. First the cache is
    checked and if nothing is found, the file is loaded and cached.
    
    This commit changes the behaviour of loading a file uncached. This no longer
    removes the file from the cache if it is cached (why should it?) and also does
    not put it in the cache.
    
    This means that users of load_uncached and load_uncached_silently can now freely
    modify the resulting surface without interfering with other API users.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ee7a41370fb25c15caba3e15cdcd6939ee8b0034
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 16:24:30 2016 +0100

    Lazily apply changes to border_width and border_color
    
    Fixes: https://github.com/awesomeWM/awesome/issues/592
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e49b1de0b2968d6101857e2c336be0f7a2718281
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 15:38:06 2016 +0100

    awful.tooltip: Some minor optimizations
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b4224a651f5a1bd28f9835e5fbc0342e696d7067
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 15:34:43 2016 +0100

    awful.tooltip: Create wibox lazily
    
    This makes awful.tooltip create its tooltip lazily when it is first needed
    instead of immediately when the tooltip is created.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/591
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 157895735533e3d8c9293bdd8437d68b52028554
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 14:43:40 2016 +0100

    awful.tooltip: Inline place() into set_geometry()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit aae960e99ed748a0d6451e531e2b0ec353572ae1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 13:29:25 2016 +0100

    Make client key bindings for e.g. xeyes work again
    
    Instead of focusing the root window, we now create a "focus window" inside of
    our frame window. This window is placed so that it is not visible, but we can
    grab key bindings on it to simulate the window having the input focus.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/699
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8560c6d2af9c6d8747b0f0df587ad6bb97633921
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 12:28:55 2016 +0100

    Use gears.protected_call where applicable
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 504c105cba2297ee8f4c12439dab928b8d8e87e1
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 4 14:03:50 2016 +0100

    feat(awful: widgets): add 'watch' widget

commit 7bf2f17a8a6781159e189e64934a11031ba8797d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 12:11:36 2016 +0100

    Make gears.widget.{fit,layout}_widget more robust
    
    This commit makes these methods invoke the method on a widget in a protected
    context. Thanks to this, e.g. the wibox and other widgets are protected from
    errors in a child widget.
    
    Additionally, fit_widget() now assumes 0 if a widget's :fit() method didn't
    provide a number.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 01f11003d6207dc153daf7dc7203a8c9090e3cf1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 12:07:02 2016 +0100

    Add gears.protected_call
    
    This library is a wrapper around pcall() / xpcall() that prints an error message
    via gears.debug.print_error() in case of errors.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2ad49dfd0c1cca74bab0321680701169726dd255
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 12:05:55 2016 +0100

    Fix some broken documentation in gears.debug
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a78f2359d1ed2ba6b5bc472b21fc5b49b619174b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 11:10:46 2016 +0100

    Fix the test case that the previous commit added
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 923d0b87674b84e693f1b724f4d16dcde80d9365
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 11:09:21 2016 +0100

    Add some unit tests for errors in :setup()
    
    This adds a test that checks that :setup{ false } filters out the false, just
    like it already filters out nil values. Then, this also adds a test that checks
    that properties (:setup{ foo = false }) are not filtered out, because the first
    version of me check did that accidentally.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9900cdacd664bdaee3ccadcc3685a35a390b4827
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 28 10:43:48 2016 +0100

    Add a unit test that I have laying around
    
    Weird, no idea why this isn't in Git and where it should have been committed...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0283bab54f12a276f71b655dec46bf6b689e488f
Author: Jarrad Whitaker <akdor1154@gmail.com>
Date:   Mon Jan 19 11:20:33 2015 +1100

    implement basic DEB packaging

commit b02b2f79569f1a155ff04a81a087804a5779b860
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 16:45:43 2016 +0100

    Fix screen index by output name
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2027dd8b02b57834c525ea6cfc6058d1a3e8a445
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 15:57:57 2016 +0100

    Correctly set globalconf.primary_screen under RandR
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 110893d9cbc001759033bd0803cfb3174a0ce55c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 15:44:25 2016 +0100

    Add screen.primary
    
    Right now this just always returns the first screens, but this can easily be
    implemented properly later.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1dd63b04de3cd61cc22db23d4deb1ed5091737e2
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 14:01:31 2016 +0100

    check_widget(): Also check .is_widget entry
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b1e7d3c22c07a5a35e8472e4898e87815fce680a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 13:58:48 2016 +0100

    Call check_widget() in :setup()
    
    I just spent too much time tracking down a bug that happened while drawing a
    widget. This is the reason why we should apply sanity checks while widgets are
    constructed, so that we get a useful backtrace.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cf3c81fa9e0693868c2440387c05ae6a917ccb18
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 13:55:34 2016 +0100

    Implement :set_children() sanely everywhere
    
    This makes the code use the existing functions for setting widgets. That way,
    all the sanity checks that the existing functions have are applied for this code
    as well.
    
    I just spent half an hour tracking down a bug where a boolean ended up as a
    "widget" in a fixed layout. The symptom was that while drawing the widget, an
    error happened. Via this change, the error would instead be flagged while
    constructing the widget.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a2301ae8f3dc21bc3e7457cc470fc0fba153ac86
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 10:57:07 2016 +0100

    Add and use luaA_pushscreen()
    
    Even when a screen is just an integer, the code becomes a bit more
    self-documenting. Even better, if we start to handle screen objects to Lua
    instead of screen indicies, there will only be one place that needs to be
    changed.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d56b5c031b98d45b4e4f5bc6f92a402db2f82585
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 27 09:24:19 2016 +0100

    Remove some now unnecessary uses of s.index
    
    Because all our Lua code can now work with screen objects, most of the uses of
    s.index that the previous patches added for reaching this goal can be removed
    again.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5fd47e508fe1e39a9104bee25bfd6af9b08cd3a0
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 20:16:07 2016 +0100

    Support screen objects in awful.client
    
    This commit makes the code in awful.client work with screen objects where
    possible (which is not possible in awful.client.movetoscreen() because it uses
    screen_idx + 1).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fb5a98c765699e37acbcb824f6060b947c1e4239
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 20:07:26 2016 +0100

    Support screen objects in awful.tag
    
    This commit makes the code in awful.tag work with screen objects.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c17e331b92f31823af289719b77f941c11bde524
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 19:56:07 2016 +0100

    Support screen objects in awful.screen
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b3f43f91103c52934130881768fe4b408499e98a
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 19:19:58 2016 +0100

    Support screen objects in more of awful
    
    This commit makes the code in awful.widget work with screen objects.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2792fe731e702f0932f878bad642d253e3cde60d
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 19:08:35 2016 +0100

    Support screen objects in some of awful
    
    This commits makes a random selection of modules in awful support screen objects
    and accept them as parameters everywhere where a screen index is accepted.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 65b403c34a193c87d09572698afe2765da2378f2
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 18:42:57 2016 +0100

    wibox: Support screen objects
    
    This commit documents that a textbox already accepts a screen object where a
    screen index is expected. Also, this changes the widget API in that a widget's
    context.screen is now a screen object instead of a screen index.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8de29856b8b02ddbf87e3296eb4f0d17ea5fecf8
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 18:30:42 2016 +0100

    naughty: Support screen objects
    
    This commit makes naughty accept a screen object everywhere where a screen index
    is accepted.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d9f4ed9fb60b64b3095081dd853122e96fe4ecf7
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 18:25:55 2016 +0100

    menubar: Support screen objects
    
    This commit makes meanubar accept a screen object everywhere where a screen
    index is accepted.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 20e13602de8efadbe36515eb2ac247be3f449180
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 26 18:19:24 2016 +0100

    beautiful.xresources: Support screen objects
    
    This commit makes beautiful accept a screen object everywhere where a screen
    index is accepted.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d598a4115a0285bb18e24fcc83505a8476cea286
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Feb 22 21:09:25 2016 +0100

    Update transient_for when a new window appears
    
    When we manage the transient before the main window, the client object's
    .transient_for property would stay nil. This happens because the property points
    to a window which we don't know (yet) and thus is ignored.
    
    Fix this by remembering the value of WM_TRANSIENT_FOR and checking in
    client_manage() if the new client is the "missing window we did not find
    before".
    
    Fixes: https://github.com/awesomeWM/awesome/issues/181
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9907f804b2851d49972a7c6d2a2be860b85a7345
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Feb 22 21:02:47 2016 +0100

    Refactor setting of c->transient_for
    
    This creates a new helper function for setting the transient_for property of a
    client. This is a preparation for a following commit. No behaviour changes
    intended.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f6ccda84999372733ea92c29e28e550eaa3b1bfd
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 21 16:44:40 2016 +0100

    awful.ewmh: React to workarea changes
    
    This commit makes awful.ewmh re-apply the maximized geometry to any maximized
    clients when the workarea of a screen changes. This happens e.g. when a wibox
    that is docked to the edge of the screen is hidden.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/705
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f3091154f64b98b1efdbd5617293984cb62ad6e2
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 21 17:08:50 2016 +0100

    Make beautiful work directly under unit tests
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3db87c693abb4dfa35c09ea01050f8763f43fa95
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 21 16:53:46 2016 +0100

    menubar.icon_theme: Don't require("awful")
    
    This avoids having to mock half the C API just because all of awful is loaded
    needlessly in this unit test and is generally a good idea.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f02b75f826d453827de6e1114e2b0ab8ed78bc5c
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Feb 17 19:07:06 2016 +0100

    Fix arguments to luaL_checkstack()
    
    The argument to luaL_checkstack() is the amount of new stack to make available,
    not the new size of the stack. Thus, remove the addition of lua_gettop(L) here.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2209f58e5db6fd09a5fa969c76c1594418f1fbf2
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Feb 17 19:03:48 2016 +0100

    Balance the stack in luaA_loadrc()
    
    In various conditions, luaA_loadrc() left luaA_dofunction_on_error and an error
    message on the Lua stack. Also, it used LUA_MULTRET without looking at the
    return values. Fix all of this and reorder the code a bit to make it easier to
    follow.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9eab892124176d6ee9a7e746b14f6fc4bdbdfc5b
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Feb 17 18:52:35 2016 +0100

    Fix unbalance Lua stack usage in event_handle_leavenotify()
    
    Commit 42e00819584c removed a call to lua_pop(L,1) that was still necessary.
    This commit adds that call again.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/703
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 68691ff81846e4a9cb4a77892b0eb211549e69db
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Feb 17 18:40:01 2016 +0100

    Check that the Lua stack is empty in the main loop
    
    The Lua stack is a finite resource and everything that pushes something there
    should also clean up. This is not a problem for functions that are called by
    Lua, because their "stack frame" is freed when they return. However, in global
    context, Lua does not and cannot automatically clean up for us. Thus, it makes
    sense to print a warning in this case.
    
    (Additionally, this cleans up the stack if something is left)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 43dba09c28aa273034711089f675664702a78ca0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 15:29:04 2016 +0100

    Add& use Luacheck support
    
    This commit adds a new "luacheck" target to the Makefiles. This target is
    automatically included in "make check" when luacheck is found in $PATH.
    Additionally, this includes luacheck in Travis so that the build fails when
    luacheck complains about something.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 267ab282b251072d5df0962fbfed3556ec60f26d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 14:13:43 2016 +0100

    Sanitize argument handling for wibox.layout.stack constructor
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 976b03f8a7f3d04c2b379bb6361d6cd2b96bdede
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Feb 16 19:31:20 2016 +0100

    Don't modify WM_HINTS in client_set_urgent()
    
    To quote from ICCCM (¬ß4.1.2): "The window manager will not change properties
    written by the client."
    
    We tried to do this anyway to update WM_HINTS so that the current urgency state
    is reflected. Apparently, Chrome does a similar read-modify-set cycle and the
    resulting race condition meant that the "accepts input" hint on Chromium's
    window was permanently disabled.
    
    This helps with https://github.com/awesomeWM/awesome/issues/670, but I still
    think that Chrome shouldn't try to implement "please don't focus me when I do
    the following" by temporarily claiming "please don't ever focus me".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e5d3b2a25c534b6078adcd486335615658841b3e
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Feb 15 22:09:10 2016 +0100

    Fix test-urgent.lua
    
    Step 1 starts a client and uses awful.rules to move it to a not-selected tag.
    Because this rule still has focus=true, this calls awful.ewmh.activate() via the
    request::activate signal. This function makes the client urgent because it is on
    a not-selected tag.
    
    Step 3 does the same thing, but also uses switchtotag=true. Now
    awful.ewmh.activate() doesn't make the client urgent because it successfully
    focused this client. However, the test was wrongly assuming that the client
    became urgent (copy&paste error? I don't know).
    
    The fix is of course not to require the client to become urgent.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4b9584fdb14fc362f48f207ac1df8165d21002a2
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Feb 15 21:15:41 2016 +0100

    Fix awful.ewmh to handle window gravities
    
    Since commit b2aaefd095c964491f2c93a, we correctly handle window gravities when
    the border width of a client changes. Since most windows out there have a
    NorthWest gravity, this means that most windows do not have this problem.
    However, e.g. mplayer uses gravity "Static" and this causes this issue (any
    gravity other than NorthWest will do).
    
    This affects the fullscreen handling in awful.ewmh. The code has to set the
    border width before it changes a client's geometry so that the move when the
    border width changes doesn't matter.
    
    No new integration test for this since I didn't find anything usable with a
    non-NorthWest gravity. A test would be easy to write, just test if `c.fullscreen
    = true ; c.fullscreen = false` restores the previous window geometry.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/697
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 029a6a18b0f4f3c7fdd90b2b5e2cf43a0b59ab70
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Feb 15 20:51:52 2016 +0100

    Lua 5.3: Disable Lua 5.2 compatibility
    
    Lua 5.3's build system provides the LUA_COMPAT_5_2 and LUA_COMPAT_5_1 defines to
    enable some compatibility with these older Lua versions. LUA_COMPAT_5_2 is
    defined by default while LUA_COMPAT_5_1 is not.
    
    This commit also disables LUA_COMPAT_5_2 on the Lua version that we build on
    Travis so that the build will hopefully break if some feature is used that was
    removed.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d462e107901bc873557703abf06dd71d2b616492
Author: actionless <actionless.loveless@gmail.com>
Date:   Mon Feb 15 02:00:39 2016 +0100

    fix(awful: prompt): fix variable name after luacheck fixup

commit 426da4f8bb882df487675f6510a9c6dbbf252e9a
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 12 09:08:21 2016 +0100

    Fix one more luacheck warning in awful.widget.tasklist

commit 798be638d9d5b5510015b7411f8b56d8dbea4bd1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 15:21:13 2016 +0100

    Fix this master fill policy stuff
    
    awful.layout.suit.corner does awful.tag.getmfpol(t), but doesn't actually have a
    variable t in scope. I just copied the needed stuff from the tile layout.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b4148f5dfadd58190d0dceba8677973eb78f4e64
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 15:11:12 2016 +0100

    Mark a bug in awful.widget.common as such
    
    No idea what the correct value for this argument is supposed to be, but since
    there is no variable "m" in scope, this always uses nil as the value.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c7aed3bd8826b5284ff2a93329d433810da1674c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 15:06:54 2016 +0100

    Fix wrong variable in awful.widget.taglist
    
    There is no "s" variable. This code wants "screen" instead. The effect of this
    typo was that with multiple taglists, only the one that was created last got
    updated.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b01f48043141721184ebb6e57ebaf1475ea72c01
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 14:45:53 2016 +0100

    awful.prompt: Fix with newer Lua
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ee530a65d62f21676212b7112517bff87e60a018
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 14:42:54 2016 +0100

    Fix typo in awful.tag.swap
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a4e598d444b7f77159d0cd8e73cf8352fda94041
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 14:19:12 2016 +0100

    Fix naughty.reset_timeout
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9db539fbf2ead08564c98149a5ff4f500a7058e6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 13:57:35 2016 +0100

    Fix wibox.layout.mirror
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3bc8aa2d4030aaa6bd4eb3ebeb590b86b79e6599
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 13 08:04:14 2016 +0100

    Fix images in the documentation
    
    Instead of copying images to ${BUILD_DIR}/docs/images, which is the directory
    with the input to ldoc, this now copies the images to ${BUILD_DIR}/doc/images,
    which is where ldoc generates its output. That way, the images are together with
    the html files and are automatically picked up by a lot of stuff.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/681
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f87da55dfc2c4fd6203e548fd0352fa80d54c53e
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 12 18:12:21 2016 +0100

    Make the functional test runner more robust
    
    Currently, an error in the default config in the right place isn't noticed. Fix
    this by doing two things:
    
    - Also grep for "error" (this catches runtime errors with a stack trace)
    - Make _runner print a "success" message at the end and also grep for that
    
    Fixes: https://github.com/awesomeWM/awesome/issues/689
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f2b6f5835e49cc269a125219cd1728004182f3e8
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 12 18:33:53 2016 +0100

    Enable titlebars by default
    
    This means that titlebars, which are an important feature, get more testing. As
    was recently shown, they don't get enough testing currently. Also, new users
    will likely expect titlebars these days.
    
    Everyone who doesn't want titlebars can easily disable them.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a0d4d729d3f8d39f578f5e1080ded8c00bdeab68
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 12 18:27:40 2016 +0100

    Remove awful.mouse.finder
    
    This module is partly broken since 2009 (the way to use it that is mentioned in
    the docs doesn't actually work) because the mousefinder object doesn't have a
    find()-method (the line doing "self.find = find" should do "self.finder =
    finder.find"). Since no one really noticed, this module is apparently not used
    much.
    
    When someone wants to still use this, they are free to copy this to their own
    config. It's not much code, but it's enough code that I am annoyed that we ship
    something broken to users. Everyone who copies it to their own config will make
    sure it works the way they want.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6a4df17e701f6d4b091828b901a301e5a6ab248d
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 12 18:19:22 2016 +0100

    Fix missing import from commit 7842f92f089b
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 432908dd26cbfcd62c39a756b43038136bba9573
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Feb 12 09:23:41 2016 +0100

    Fix test-leak-client.lua under LuaCov
    
    Both the test runner and the wibox use gears.timer.delayed_call(). The test
    runner uses this to call steps and the wibox uses it to trigger redraws. When
    running under LuaCov, the Lua code becomes slow enough that the wibox didn't
    redraw yet when the leak check is run. This causes the check to fail, because
    the client is still referenced by the tasklist and thus cannot be garbage
    collected.
    
    Fix this by waiting one more iteration before running the leak check.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9e05ff63ce99145cd1215732de86e6c9c1b568b0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 6 17:18:23 2016 +0100

    Code coverage: Also consider functional tests
    
    Lots of our code depends on the C API and thus can only be tested when that is
    available. Hence, it makes sense to also run the functional tests under LuaCov.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b823dd4ed4d69db1ba8a24172dabf250e6b16c4f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 6 15:23:28 2016 +0100

    Add code coverage support
    
    This uses coveralls.io and integrates the collection of coverage information
    with Travis.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2c77f9dcf8c4bc8f63bab2fe86a1f49e77a365d4
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 14:19:42 2016 +0100

    Fix luacheck warnings in lib/naughty
    
    A warning pointing out an actual problem is left.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 15e72fb0375a99fdac7f0ee21508bdee8e4ab173
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 14:13:43 2016 +0100

    Fix luacheck warnings in lib/wibox
    
    Warnings pointing out actual problems are left.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bf3b9b5f42556bdd8b2896c8e2c26ee72cfaf67c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 13:04:01 2016 +0100

    tests: Fix luacheck warnings
    
    This leaves one warning in tests/test-urgent.lua which points out an actual
    bug/problem.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8c26e2dab4a00339dc8b41133bbd8ede6f75f1ad
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 13:29:46 2016 +0100

    Fix all luacheck warnings in lib/gears
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2501f128e467ed1463ae44870b0c8934339a671d
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Feb 12 00:57:01 2016 +0100

    chore(awful: hotkeys: vim): rename key groups

commit 36e124d894d681999cb1f9817458384b289d7634
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Feb 12 00:50:55 2016 +0100

    chore(awful: hotkeys: vim): add `find` and `scroll` categories

commit e5466feb0744d89560146ddfd3fad7bb20986956
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Feb 12 00:49:54 2016 +0100

    fix(awesomerc): fix importing vim hotkeys

commit 80410786185ef811be074084611952921febecb6
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 11 00:26:57 2016 +0100

    chore(awful: hotkeys: vim): small improvements in hotkeys descriptions

commit 7ec74839289940edacc7402aeced0a494f3fec55
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 16:00:31 2016 +0100

    Travis: Run "make check"
    
    Wait, what? Up to now Travis hasn't actually used "make check" but called some
    things individually?!?
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c75741c578234a711f596dc8fed257dacfc3e4f3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 15:24:08 2016 +0100

    Fix luacheck warnings for the rest of awful
    
    This fixes *most* luacheck warnings in awful. However, some non-trivial ones
    remain for latter.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 99a41842240b0ddd39be841f236cd4d84619b361
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 15:12:22 2016 +0100

    Fix luacheck warnings in lib/awful/widget/
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c455e1f90e01364021c7d6c4cc435b8f38d92d8e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 15:02:25 2016 +0100

    Fix luacheck warnings in half of awful
    
    Boy, awful is huge... Let's better do it in two parts
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f2cf4a638511a1eb91726ca07ff17d449d2d4ca8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 14:29:40 2016 +0100

    Fix luacheck warnings in beautiful and menubar
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cf1576cdd8ecc55d40fb98e7bb6dccc796830f95
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 13:10:21 2016 +0100

    Fix all luacheck warnings in spec/
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2c24449a96afd99dc2884ea62ec733b97aca159f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 13:05:11 2016 +0100

    Default config: Add a missing "local"
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0ef214ef8d6112f52bfac3c5d65b30f676c32f24
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 12:53:26 2016 +0100

    Themes: Use "local"
    
    All themes (except for xresources) were setting a global variable "theme" with
    the defined settings. Prefix this with "local".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2a57f0335f933a6a6c73c96749e535fad7af86ca
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 11 21:40:22 2016 +0100

    .travis.yml: fix indent

commit 901771e51b3d607b8e77f6eac6129f0736fa959b
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 11 12:33:02 2016 +0100

    feat(awful: hotkeys): extended matching rules

commit cb896ca87f4274ea0741f855d1de2893cf7046f4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Feb 11 03:51:40 2016 -0500

    wibox.widget: Add method to create declarative widgets directly

commit d59bdec32fa2b28b47b5d0b056102ee07e5ccd9a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Feb 11 03:43:19 2016 -0500

    Fix make install when documentation is disabled

commit 4aaedb0f8614ad8afa1efa7693ffcad01da84d4e
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 11 03:43:13 2016 +0100

    fix(awful: hotkeys): restore continuation symbol

commit 0a39d196c7144e386c4924598b8f8f0418c8070a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jan 10 02:39:14 2016 -0500

    wibox.layout: Add the new 'ratio' layout
    
    This layout allow each widgets to take 'r' percent of the total
    space, where 'r' is configurable.
    
    It re-implement the 'wfact' system used by `awful.layout.suit.tile`

commit 20030e6f932d222e074d6d6d11d71f4be389e379
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jan 16 01:13:07 2016 -0500

    wibox.layout: Add new 'stack' layout
    
    This layout display the widgets on top of each other. It can also optionally
    display only the first one.
    
    The most common use case is to create a composited widget. Other use case
    include the creation of a "paged" stack to only display the most
    relevant widget without adding extra complexity to the parent layout.

commit 333c5cd31c961dcb599329d7f5713ddf4bc3990c
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 11 03:32:11 2016 +0100

    fix(awful: hotkeys): case when description is missing (+prettify)

commit 3a9f7a1ceef69364af3cd54ae6a5dd318c7e1735
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 11 01:04:54 2016 +0100

    fix(awful: hotkeys): compute length of the line correctly

commit 64bd09d38d9ccf7b04bf70ddad33264bf7fa2b87
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 11 00:54:47 2016 +0100

    fix(awful: hotkeys): fix sorting of hotkeys

commit b1e69dba8c606cb9a962aff8d9d5b39668f7f96d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Feb 10 01:21:29 2016 -0500

    doc: Move the new widget documentation to a new file
    
    This will help with discoverability

commit 8be110461532d002f81dc27fa17d2064a0499980
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Feb 10 01:07:47 2016 -0500

    doc: Add layout system documentation

commit 0e833fd5f4719d8a9663b51c5727b2a4be1c0770
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 27 17:00:01 2015 +0200

    awesomerc: Use the new declarative syntax

commit 7842f92f089b238dba63f5d95841326c96bc7a83
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 27 17:00:01 2015 +0200

    wibox: Support the declarative container syntax
    
    Also support it for titlebars

commit 6a68173ccb96a8b81603ddd44137bb355a2c3d71
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Sep 27 17:00:01 2015 +0200

    widget: Add a new container declaration syntax
    
    This new syntax is inspired by the Awesome widget 3.2-3.4 API. It
    allow cleaner widgets declaration. The produced code is usually much
    shorted and easier to read than wibox.widget imperative syntax.

commit e36f23171bfc7147020d93bbc8c111c1aa9fc25d
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Feb 4 01:11:10 2016 -0500

    wibox.widget: Add `set_children` method
    
    Provide a generic method to set the widget content

commit 3ef5003acedf57a3b2fe5a40587e3351da4e3860
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Feb 4 22:42:54 2016 -0500

    doc: Add support for images

commit 4a20f9e5333356cb6413b6f3f3f5e5f2411b78f6
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 8 03:37:49 2016 -0500

    titlebar: Support bgimage

commit c957b3d5a88b0ae91850c5b4fdf96b6a840b673b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 8 03:37:37 2016 -0500

    wibox: Support bg_image

commit 76669765387097388a9258342fcbc24753864c54
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 8 03:37:09 2016 -0500

    drawable: Add background image support
    
    Copy what's done in `widget.background`

commit cbea82f1c8a25e0c85007f4673ac6eb887c245eb
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 8 03:34:31 2016 -0500

    widget.background: Allow function as background image
    
    There is already a hack into `awful.widget.common`. This system aim
    to make the hack obselete while preserving the useful part.
    
    I think this is also necessary to properly support SVG (with DPI
    and resize).
    
    Finally, Qt handle this using the QBrush concept, where you can have
    programmatic patterns. Cairo doesn't have this concept, so there is no
    "clean" way to have programmatic brushes.

commit 94e9a030c17ceb7183a948037be9b4a60bcf940f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 7 12:19:24 2016 +0100

    Remove gears.sort
    
    It's unused since commit 0aa4304bda4069e. Before this was a stable sorting
    algorithm since table.sort is allowed to be unstable. Apparently we don't need a
    stable sorting algorithm anymore.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 801d297648e5f469b4a95b1281705fc9d658c556
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Feb 5 20:09:33 2016 +0100

    feat(awful: spawn): add 'easy_async' wrapper

commit d09ece6b5a8b7105362cc056c73205b8cf48c851
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 6 13:59:14 2016 +0100

    Require "integer" instead of "number" in more places
    
    E.g. trying to press mouse button 1.5 via root.fake_input() doesn't make sense.
    Previously the code silently truncated the number to an integer. Now it
    complains about this instead.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 051d0de85fab3a176ab3b9df03fb5d69cdb58d9a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 6 13:46:46 2016 +0100

    Replace many pushnumber calls with pushinteger
    
    The only remaining calls are for a window's opacity and in the DBus type
    handling. Everything else wants integers, not something with a comma.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 33c943d9b8480c73717338d500615dcda7f004b9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Feb 1 23:39:03 2016 -0500

    widget.background: Add shape border support

commit e2d75dbcfd6ba8ee821fef690d17ca3bce07fdeb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 24 13:38:48 2016 +0100

    Add a functional testing for leaks with clients
    
    This opens xterm, closes it and makes sure that the client object representing
    xterm is GC'able at the end. The test will fail currently.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7d32f7b733a502a4d58844649fc1faba8981f0a0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 24 16:28:07 2016 +0100

    tasklist: Unreference client in unmanage
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 69d96ba34d69708001adb0bf0a542d5e04b1bc7a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 24 16:27:31 2016 +0100

    awful.titlebar: Unreference titlebars in unmanage
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 791794fa42d22b582191c7de4676bbfd45246198
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 24 13:45:06 2016 +0100

    awful.titlebar: Fix memory leak with clients
    
    Any awful.titlebar.widget.button widget (e.g. floatingbutton or closebutton)
    decides on the currently visible symbol based on several factors. One of them is
    "is the client currently focused?" and thus the button has to be updated when
    the client is focused/unfocused.
    
    The way the code did this was to use client.connect_signal("focus", f) and
    client.connect_signal("unfocus", f). However, these signals are never
    disconnected and kept alive forever. The callback function had a strong
    reference to the client (as an upvalue) and thus this also prevented the client
    from being garbage collected.
    
    Fix this by using c:connect_signal("focus/unfocis", f) instead. These kind of
    signals are only kept alive by the client object and don't prevent it from being
    garbage collected.
    
    This fixes the new test that the previous commit added.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cd63cabaddabd61bbbea44bf4dc8a4f575901e92
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Feb 4 18:21:25 2016 +0100

    Always send ConfigureNotifies
    
    ICCCM specifies when the WM has to send a ConfigureNotify. Java does not care
    and wants one all the time. Meh.
    
    Fixes: #248
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8a9ae1a07317ceeba847984aeb6e82c34c68cae0
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 4 12:55:54 2016 +0100

    feat(awful: hotkeys widget): merge hotkeys with the same modifiers and descriptions

commit 1f5dae8c182fb216f8217c02bd0bce93e05fb413
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 19 17:52:08 2016 -0500

    awful.tag: Fix mistakes from cd0503f55

commit e6151735521c785e14f61cdb9f6f8a0434e42ea9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jan 17 23:23:50 2016 -0500

    layout.fixed: Add methods to manipulate the layout after creation
    
    Until now, this layout was "append only". There was no official
    APIs to remove, replace, insert and swap widgets. This is fine
    for the usual wibox + sensors widget used by the majority of
    users, but lack flexibility necessary to use the layout system
    to place dynamic elements such as clients.
    
    The methods introduced by this commit are also recursive. This
    allow widgets to be decorated, wrapped and splitted without
    having to add boilerplate code everywhere.

commit 330c8d97e1095419b86f9bcf3f127d40aac14e90
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jan 18 02:51:09 2016 -0500

    layout.flex: Base on layout.fixed rather than widget.base
    
    This remove duplicated code and will allow more "collection"
    style layouts to be implemented without logic duplication.
    
    This commit also do some small cleanup to remove duplicated
    code now present in `awful.util`.
    
    Fixes https://github.com/awesomeWM/awesome/issues/617

commit b2d121aa18e2cac8df4e2d3c5f18872ece294757
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jan 18 02:35:28 2016 -0500

    widget.base: Add ':index(w, r)' method
    
    This function is optionally recursive. This allow to manipulate
    abstract layouts without really having to care about the exact
    hierarchy.

commit 8da5c79bb80b21de8703932980e206980a340921
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jan 16 01:13:07 2016 -0500

    wibox.widget: Add new `get_children(recursive)` method to all widgets

commit 7a7f9f2b64034f85f273301c0e23a0375296cdf9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 19 17:14:29 2016 -0500

    awful.util: Make 'util.table.merge' return the table
    
    This avoid having to add a temporary variable when returning
    from functions. Qt does the same.

commit 4556728b9932e3f28aad19daefbab84da8376637
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Jan 15 22:46:35 2016 -0500

    util: Add util.table.from_sparse
    
    Go around a limitation of the lua language spec. The return value
    of this method guaranteed `ipairs()` correctness.
    
    Please note that both the official Lua and Luajit implementation
    provide a sparse table compatible `ipairs()` and __len implementation
    by default.

commit 3d2b31bbb99282a12bd79e97b434bcf35a316bdd
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Fri Jan 15 22:05:24 2016 -0500

    util: Add awful.util.table.crush
    
    Allow to replace copy pasted code used to apply class heritage in
    much of wibox.widget

commit 348cd3a590077ea441435aad19a5d45c085f094f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 26 02:40:50 2016 -0500

    gears.shape: Add isosceles_triangle shape

commit 0bf76dc984f01fb5b5c0acca57c8d7e89ea7ac58
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 26 02:39:48 2016 -0500

    gears.shape: Add powerline shape

commit 4a44b0dc8146e79169139f26c1221a9e2e4fde9e
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 26 02:36:42 2016 -0500

    gears.shape: Add hexagon shape

commit a89b21ba2f2070948c36018f4100f352729e3c77
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 26 02:35:35 2016 -0500

    gears.shape: Add arrow shape

commit 1060a3487ef8a62266de6f899a25bec2b2526f22
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 26 02:31:42 2016 -0500

    gears.shape: Add rectangular_tag shape

commit a49b259c7f3420119f7c3b5a76ba8f7497c16c68
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jan 26 02:30:13 2016 -0500

    gears.shape: Add infobubble shape

commit 704c0286211f04993717b7253f34c9614385f99f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Jan 20 01:53:15 2016 -0500

    gears.surface: Add a method to create a surface from a shape
    
    Useful for icons

commit 1d1e487d1991bca29a1bf45130d07b29b79813c1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Jan 20 02:09:07 2016 -0500

    wibox.imagebox: Add a `clip` method based on the `gears.shape` API

commit 98d8b8a199e3499ef638e0c103e36a288a6d165f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Jan 20 01:50:15 2016 -0500

    gears.shape: Add a transformation mechanism
    
    This allow to take a generic shape and transform it into a more
    custom one without bloating the shape code.

commit a3b31089b14b4ab328e3e04c625f747b230fdba3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jan 25 03:33:39 2016 -0500

    gears.matrix: Add ability to attach a function
    
    It is an internal API and is used by `gears.shape`, `gears.pattern`
    and `gears.composition` only.
    
    This commit also add `:rotate_at` and `:copy` methods.

commit 5d27aa812cc552a12326e8a83440ff1676960eaa
Author: Cory Burgett <cmburget@gmail.com>
Date:   Wed Jan 27 14:40:04 2016 -0500

    Add signal emission for monitor connect/disconnect

commit 4c8128eaa903575a46cc069ea9da3c001f55fb2b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 30 10:43:58 2016 +0100

    Make errors from LDoc fatal
    
    Via this commit, any warnings from LDoc are fatal and make "make" fail. The
    intention is to cause failures on Travis for PRs that introduce broken
    documentation.
    
    Closes: https://github.com/awesomeWM/awesome/issues/643
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ad4c62e6392a4f7a057610839e91798ff8a3faf9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 30 10:43:41 2016 +0100

    Fix warnings from ldoc
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6479baf0ba02feb02ab8bfdd85fdc5bcfc7f3cb3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 24 15:52:29 2016 +0100

    Travis: also run against Lua 5.3
    
    This also removes some obsolete dependencies and it also and creates
    `/usr/bin/lua` even when using luajit.  Without this, our lgi-check.sh
    script complains about a missing lgi installation because it cannot find
    a lua binary.
    
    Closes https://github.com/awesomeWM/awesome/pull/652.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 44fcfa2d4898b769b0ef7d0c2e55d997a51077b6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 23 17:12:10 2016 +0100

    Remove prototype of xutil_lock_mask_get()
    
    This function was removed in 4ad516c63a1c0426e2e, but I forgot to also remove it
    from header. Whoops...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a98fc92b81f52a61ce94774bfc9271778b86f189
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 23 17:03:29 2016 +0100

    Move handling of MappingNotify to xkb.c
    
    A quote from the XKeyboard specification:
    
      The server notifies interested clients of keyboard map changes in one of two
      ways. It sends XkbMapNotify to clients that have explicitly selected them and
      core protocol MappingNotify events to clients that have not. Once a client
      requests XkbMapNotify events, the server stops sending it MappingNotify events
      to inform it of keyboard changes.
    
    This commit moves the code that we had for handling MappingNotify events to the
    place where we handle XkbMapNotify events. This might even fix some bugs where
    parts of awesome continued to use old key binding "stuff"!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6d6cf20790ac986def1efd3b9198d6656afa506b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 23 16:08:33 2016 +0100

    Make benchmarks less exact
    
    The benchmarks in tests/test-benchmark.lua have two modes. When CI=1 is set in
    the environment, only a "quick" and less exact test is done. Otherwise, a slower
    and more exact measurements is taken. This was added so that we do not waste CPU
    time on travis.
    
    However, most of the time the user running "make check" doesn't want exact
    measurements either. So instead of only being quick when CI=1 is set, this
    commit changes the logic to always being quick unless BENCHMARK_EXACT=1 is set.
    Additionally, a message is printed next to the benchmark results so that the
    user is reminded to set this var if the measurements should actually mean
    something.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dc432eb7a653b41478941e883186071a7cf160b1
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Jan 21 22:48:26 2016 -0500

    widget.background: Fix error introduced in d01c1d2d6
    
    Fix a copy/paste mistake.

commit 67132e904d38ff3d68cffaefd0073efbeadcdea7
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Jan 16 04:01:29 2016 -0500

    awful.layout: Split the layout parameters computation from 'arrange'
    
    It is necessary to have it beforehand when creating layout objects
    for unselected layouts.
    
    In the current layout system, there is no layout object, but to allow
    tabs and dynamic tagging features like ion3, layouts cannot be stateless.

commit 81019487f051b841f54bd7236c620a5bbec1af40
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Dec 29 07:45:01 2015 -0500

    awful.client.idx: Avoid error when called with a floating client
    
    Before, it was the caller job to make sure the client wasn't floating.
    
    This limitation is unecessary. awful.client.idx now return nil instead
    of an error. awful.rules setting the master width factor are now
    foolproof.

commit d01c1d2d6d2a993dff7a6790684f4d08b0b66245
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jan 18 17:08:21 2016 -0500

    widget.background: Allow background to have a shape

commit dd93418afb5297211c7078bd6567e4895b14b595
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jan 18 17:22:44 2016 -0500

    gears.surface: Add an helper to set a shape to drawable

commit fb0c82a79891aaa7dc577194325d46334e286653
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jan 18 17:20:32 2016 -0500

    gears.shape: Add a new module to make it easier to use shapes
    
    This code is imported from Elv13 config and make it very easy
    to create shaped objects.
    
    If accepted upstream, other shapes, such as arrow and powerline
    will also be added. This commit introsuce the 2 most common
    shapes, rounded rectangle and rounded bar.

commit b74b8ea0cdf753e05b131b705691863c04425b3f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Jan 18 03:38:46 2016 -0500

    margin: Add an option to :fit() -> 0,0 when the content is empty
    
    Make it easier to write "optional" widgets, like empty textbox
    that can be filled only in certain scenarios.

commit cd0503f5526c969773950586a860e98a6477b7b4
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Jan 6 18:22:45 2016 -0500

    layout: Support layout with a constructor
    
    This allow the most basic kind of stateful layouts to be created.
    It is now possible to have layout instances instead of global
    stateless layout arrange functions.

commit 55190646c4912a091be54dabd40ae49bff746bb5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jan 3 03:29:21 2016 -0500

    client: Add swapped, raised and lowered signals
    
    This allow layout "arrange" to be called less often and react on
    the cause of the change itself rather than it's consequences
    (usually, the "focus" signal).
    
    Previously, the layout were re-arranged everytime the focus changed.
    Now, with "raised" and "lowered", it require less "arrange".
    
    "swapped" allow smarted layouts. Currently, swapped cause a full
    re-arrange. It re-read the "index" list from scratch and create
    a "new" layout. With "swapped", incremental layout changes are
    possible.
    
    Fixes https://github.com/awesomeWM/awesome/issues/616

commit 23d60b065927989ab7482082516ad4c40ddd069d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 17:39:52 2016 +0100

    gears.wallpaper: Remove some dead code
    
    gears.surface now returns a fallback image surface that is good enough for what
    this code tries to do here.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit de6d9334d89bff3bc05eff07868155566d89051d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 17:38:52 2016 +0100

    wibox.drawable: Handle gears.surface's new error handling
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0a21931ffc0a96eca9ee1e86cdecacb55f58f262
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 17:34:44 2016 +0100

    awful.client.shape: Fix for API change in gears.surface
    
    A nil-value is no longer simply passed through, so this has to do some "special
    things" to work properly.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a2c11064012b2eb3b6304a75b0a2c86266a77dab
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 17:33:39 2016 +0100

    gears.surface: Also apply default when called with "nil"
    
    Before this, calling one of the loading functions with a nil argument always
    made it return the default 0x0 surface. With this change, the passed-in default
    value is now properly applied.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e7a8df29204eb31be8599bde9fe994b1ae88e30b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 16:51:07 2016 +0100

    naughty: Follow textbox API change
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b3ab06896d97537ff460fa47a3b96b2fbaeb235e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 16:50:03 2016 +0100

    awful.widget.common: Follow :set_markup() API change
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 178204449c477ba437946b94ec29ae019d54caad
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 16:43:22 2016 +0100

    Textbox:set_markup(): Print errors to stderr
    
    Instead of throwing a Lua error, the code now just prints an error message to
    stderr on invalid markup. For callers which want to handle this case specially,
    we add :set_markup_silently() which returns error messages.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/546
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 781f8d30bb626e77c0d0a6e76607f12f25acd2c9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 16:16:39 2016 +0100

    test/run.sh: Handle updated beauitful.init call in default config
    
    While setting up an environment to run the integration tests in, the run.sh
    script uses sed to generate versions of several files that refer to the
    not-installed version of files. One of these needs to replace the call to
    beautiful.init().
    
    Before commit 20c9723c5b1645, the corresponding line was:
    
      beautiful.init("@AWESOME_THEMES_PATH@/default/theme.lua")
    
    Now this wants to find and replace the following:
    
      beautiful.init(awful.util.get_themes_dir() .. "default/theme.lua")
    
    To handle both versions, this commit adds some wildcards to the sed-expression
    so that any line containing a call to beautiful.init is found and replaced.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 79d3dc003a34bf6828784480949ada273bca2be0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 17 14:27:29 2016 +0100

    gears.color: Add support for named colors
    
    Oh hey, Pango exports an API that allows to query for named colors based on the
    famous rgb.txt! Let's use that!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0956aa01d9e664a1eed3088312ee130b07f103c6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 9 18:17:30 2016 +0100

    Add support for short/long colors
    
    This adds support to gears.color.parse_color to parse things like "#fff" (one
    character per color component, without alpha) and "#ffff0000ffff0000" (four
    characters per component, with alpha).
    
    This makes sense on its own, but should also help with
    https://github.com/awesomeWM/awesome/issues/585.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ab0e3b6112bafebfde0d45d3ec69b172b71c16e9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Jan 3 03:29:21 2016 -0500

    tag: Refactor awful.tag.setproperty to call setters
    
    *WARNING* This introduce a minor API break as awful.tag.setscreen
    arguments are now swapped for consistency
    
    This allow to introduce logic for each properties and improve
    awful.tag.add and execute logic when setting properties.

commit 1367968824b11689b5005f07f3f5f05b67094fc9
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 20:12:19 2016 +0100

    naughty: Don't try to parse our version number
    
    The code here doesn't always work, so it's best to just don't mess with
    awesome.version, but return it directly.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/569
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 82f74aa895d25440ebc323842c4fa6c6601fb930
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 20:08:34 2016 +0100

    a_dbus_convert_value(): Be less strict about wrong strings
    
    The code doesn't check the type of any of the values that it converts. However,
    string elements are silently skipped if they cannot be converted.
    
    The proper fix would be to make this code check types. For now, it will be ok to
    "convert" non-strings to an empty string.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 76b1d348a15f2a81f14ab4feee369e50fbe2a41c
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 18:47:09 2016 +0100

    imagebox: Remove dead code
    
    Since some commits, surface.load() handles printing an error message for us.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9d97a98b4df4e2d2d683ae50c32a6d1c68a817f1
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 18:45:44 2016 +0100

    naughty: Remove dead code
    
    Since some commits, surface.load_uncached() handles errors itself and thus we
    don't have to print an error message here any more.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4d562306d247a81849eac1d8b7713c252e4c022f
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 18:43:56 2016 +0100

    taglist: Remove dead code
    
    The image "library" is long gone.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 86f2d05382edac78567104e0c993721578fb31e0
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 18:43:10 2016 +0100

    awful.menu: Remove useless surface() call
    
    The imagebox calls surface() for us.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 58ecd92b8e41347156f4781af66ef280f8aec7af
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 18:27:22 2016 +0100

    Add better error handling to gears.surface
    
    Previously, a Lua error was thrown when loading a file failed. Most callers are
    not prepared for this and the result is less than optimal.
    
    This commit makes the functions print the errors and return nil instead. For
    callers that want to handle errors themselves, "_silent" variants of the
    functions are introduced which just return errors to the caller.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2e58a9c6eb7e8f819ed1022e4fe3761a7445070a
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 18:38:23 2016 +0100

    awesome.load_image(): Return errors instead of "throwing" them
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 43896f68ca3ab82848352f348b060a0539bfe844
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 18:37:08 2016 +0100

    drawable.surface: Return nil if there is a surface
    
    Before this commit, it would return a NULL pointer as a lightuserdata.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8b3087dc4ee9a9d2fc8985af2178f6bc245e63d3
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 15 17:21:26 2016 +0100

    Unmap the systray immediately when it becomes empty
    
    The new widget layout code was created because we needed to support partial
    redraws (only redraw the parts that were changed). Thanks to this, the code also
    skips drawing widgets of size 0x0. Thus, when the systray becomes empty, it's
    :draw() callback isn't invoked and thus our systray container window stays
    visible.
    
    Fix this by making the C code unconditionally hide the systray when it becomes
    empty. There's nothing to display anyway.
    
    Fixes https://github.com/awesomeWM/awesome/issues/624
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f19b38d45bd72945739df730eb7e0c34f76ffc86
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Jan 14 16:56:37 2016 +0100

    fix(awful: hotkeys): caching on multiscreen setup

commit 55b90cbd30d83b642b1d7dffe50afaf43f7a92ba
Author: Tristan B. Kildaire <tristankildaire@gmail.com>
Date:   Wed Jan 6 20:25:24 2016 +0200

    awesomerc.lua: spelling fix in comment
    
    Closes https://github.com/awesomeWM/awesome/pull/619.

commit 430f4fab15bb101b4af9fadbebb9a9bfa47ba9de
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 10 19:27:55 2016 +0100

    Leave titlebars early
    
    When a client is unmanaged, we know emit mouse::leave on its titlebar before the
    client object is invalidated, so that Lua can still work with it. Before, this
    event was emitted only when we got a LeaveNotify from the X11 server.
    
    Fixes: #620
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e74eb9775b6923da982d6a61bf2ddbfe5f82d5ef
Author: actionless <actionless.loveless@gmail.com>
Date:   Wed Jan 6 13:20:04 2016 +0100

    feat(awful: titlebar): make tooltips optional

commit 7546c236db6b306aba59522c7b27748b501c9851
Author: actionless <actionless.loveless@gmail.com>
Date:   Tue Dec 15 11:32:53 2015 +0100

    feat(spawn, lib: awful: spawn: with_line_callback): make callbacks optional

commit 720cd879f339760f459b7ae333007a6ae9b5965b
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Dec 22 19:28:05 2015 +0100

    Add timestamps to messages on stderr (#602)
    
    Closes https://github.com/awesomeWM/awesome/pull/606.
    Fixes https://github.com/awesomeWM/awesome/issues/602.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fc8c91c0754d31c433fa8ea4fe1aef33c5ab1a7b
Author: Kimball Thurston <kdt3rd@gmail.com>
Date:   Tue Dec 22 21:46:17 2015 -0800

    Fix focus handling with multiple awesome instances
    
    When there are multiple X11 screens (i.e. :0.0 and :0.1) for zaphod mode
    style X setups, this triggers a refresh of focus when the instance
    running on a particular root receives the mouse
    
    Fixes https://github.com/awesomeWM/awesome/issues/599.

commit 5e6a8932078e3352c972dfb811669f3b96cb3978
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Dec 23 14:01:10 2015 +0100

    Replace various calls to warn() with luaA_warn()
    
    luaA_warn() prints a Lua backtrace and thus generates more useful output. warn()
    should only be used in awesome-internal places (e.g. receiving an error from the
    X11 server).
    
    Closes https://github.com/awesomeWM/awesome/pull/608.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5cbd4402d9ae71a2d73b8dd729abb74c4c52b3a3
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Dec 23 14:42:22 2015 +0100

    awful.autofocus: Handle sticky clients (#603)
    
    Closes https://github.com/awesomeWM/awesome/pull/610.
    Fixes https://github.com/awesomeWM/awesome/issues/603.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bd8e2d2ca83f2eaa121d30cfd89681ad75563753
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Dec 29 05:17:52 2015 -0500

    typo: replace 'wibox' with 'context' where relevant
    
    Closes https://github.com/awesomeWM/awesome/pull/613.

commit b2be471fafbf1d5cdff94aa69f278c66783d8e86
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Dec 23 14:19:18 2015 +0100

    Fix icons
    
    Since commit ea94f7f7e64fd2b, the code has a preferred icon size and it tries to
    find the closest matching icon. However, the default size of 0 and thus this
    never returned any icon at all (no icon matches better than an icon of size
    0x0).
    
    Fix this by saying "every icon is better than no icon at all".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit daff5cd58b33f074ba94d1e288546e5cce3628c8
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Dec 23 14:16:24 2015 +0100

    Refactor _NET_WM_ICON parsing
    
    This shouldn't change the logic here, but hopefully makes it easier to
    understand.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 16994f3b1253dd7f2e84bd3d148a02fd594dd342
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Dec 22 18:31:48 2015 +0100

    Fix API documentation broken in eb8577a424c2fc69d
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4ad516c63a1c0426e2ee80373d5abc8f44657ad0
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Dec 22 17:25:45 2015 +0100

    Remove some unused fields from globalconf
    
    These fields were only ever written to since commit 19137a55c3c2c80d77f7d99.
    This commit removes the fields and the code that sets them.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b70af4cf2b096943001104415e52f92373585f69
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Dec 22 17:24:01 2015 +0100

    Fix regrabbing of keys on layout change
    
    In commit 532ec0cd, we started grabbing keys on the client window directly
    instead of its parent window (the frame window). This commit fixes one place
    which was overlooked back then.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0eac1ee91e89f5871312b06cb48900bae9d05e06
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Dec 17 00:18:20 2015 +0100

    Travis: use travis_retry with `apt-get update`
    
    Ref: https://travis-ci.org/awesomeWM/awesome/jobs/96732636

commit a86d1137eeaa70e6cc138e2a0b89f2e6196a08f7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 13 17:54:37 2015 +0100

    Select button press/release events on drawins
    
    Some words about X11 event handling: Every X11 client can select input on any
    window. For this, inside the X11 server each window has for each client a
    bitmask for the kind of events that this client is interested in. When a mouse
    button is pressed inside of a window, a corresponding event is generated for
    that window and sent to all X11 clients which asked for
    XCB_EVENT_MASK_BUTTON_PRESS. When no client is interested in this event, the
    event is propagated to the parent window and the same procedure is done again
    here. This continues up until the root window is reached.
    
    Some words about the event masks that awesome uses: For clients, we ask for
    button press events on the frame window that we reparent the client window into
    so that we get any kind of press on the titlebar (and also events inside of the
    client window if the client itself doesn't care for click events?). We are also
    interested in button presses / releases on the root window. However, before this
    commit, we didn't actually ask for button events on drawins (e.g. the wibox).
    This worked fine, because no one asked for these events and the event propagated
    to the root window where it was then sent to awesome.
    
    However, newer Qt versions do something weird and the above broke. I don't
    actually know what is going on. I know about the above propagation rules, but
    looking at protocol traces of what Qt does, awesome should still get the button
    events. During startup, Qt asks for button events on its own windows. After a
    hotplug event, it asks the same again, but now also includes the root window.
    So... how can Qt asking for button events on the root window cause awesome not
    to get them? I have no idea.
    
    (And yes, I guess that Qt asking for mouse events on the root window is a bug,
    but I have no idea how exactly this happens nor about any other side effects of
    it).
    
    This commit makes us ask for button events on our drawins so that the server
    will send them to us. This is the right thing to do anyway and it was reported
    to have some positive effects.
    
    Ref: https://github.com/awesomeWM/awesome/issues/415
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9031a813968beb0af565703aecb1e9e41ebc28b1
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Dec 12 20:10:27 2015 +0100

    doc fixes to awful.menu.clients

commit c5ad6069d4ae8fb9776177b515a917d4e4b80f61
Author: Dario Gjorgjevski <dario.gjorgjevski@gmail.com>
Date:   Wed Nov 4 12:00:41 2015 +0100

    Add an optional filter to `awful.menu.clients`

commit feb7b3672867a1526903ff0ea290f46fdc7acc6e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 12 17:48:42 2015 +0100

    Add an EditorConfig file
    
    I didn't (and couldn't) actually test this in any way, but hopefully this makes
    it easier to edit awesome's source without vim.
    
    Thanks to Daniel Hahler for telling me about this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 63653bed766b84e2d3dc52a7c1b0548ca9875342
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 12 17:42:33 2015 +0100

    Add the right vim modeline to all lua files
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a14137070457ceeb46a7f3f612098d460164340e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 12 17:37:35 2015 +0100

    Add a vim modeline to all C source
    
    Most of the files already had this, at least.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5db6c04c425173274fa032bb216bbca9154ddb55
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 12 17:34:16 2015 +0100

    Add vim modelines to all shell scripts
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 469433e10a140fa1f05696b9448ee6a7f1ba8144
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Dec 11 18:50:41 2015 +0100

    awful.spawn.with_line_callback: Use an arguments table
    
    Having many arguments can easily get confusing and hard to understand. This
    commit uses a table instead so that we have names that identify what each
    callback does.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 20c9723c5b1645f3ec638e734bcdb46e62ef6f08
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Dec 11 18:24:30 2015 +0100

    awful.util: Add getters for themes and icon paths
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8953218e5ce0bfe1bf567bf3069a7aae28797d02
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Nov 28 19:36:26 2015 +0100

    Use get_cache_dir() instead of getdir("cache") everywhere
    
    Just because I like that function more. :-)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5a34f6f0473a1bfc1f3399d040822d26eb715d71
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Nov 28 19:33:33 2015 +0100

    Add various functions for getting directories
    
    This adds functions for getting directories according to the XDG base dir
    specification. This might be useful in general.
    
    This also adds a function for getting the cache dir, because I like an explicit
    function call more than something which "switches" based on a string argument.
    Better error messages if you mis-type something. :-)
    
    Finally, this adds a function for getting the directory containing the rc.lua
    file. Sadly, awful.util.getdir("config") did not actually do that. See #218.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/218
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e39504a30f34654d53a8b97cc68ea92effce78c3
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Dec 11 00:54:00 2015 +0100

    Make textbox widget respect the current theme
    
    Without this fix `wibox.widget.textbox` ignores current theme font
    setting and resets it to the initial one.
    It becomes handy when the initial theme is tweaked during runtime, ie.
    in `rc.lua`. Other AwesomeWM components like `awful` (taglist,
    tasklist, menu) are aware and do respect the actual theme settings.
    
    Closes https://github.com/awesomeWM/awesome/pull/89.

commit ce965424c34baeb175aea1116156fc56e83bb428
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Nov 19 18:11:51 2015 +0100

    gears.object:weak_connect_signal: Use a weak-value table (#520)
    
    Lua will remove objects as values from a weak table before these objects are
    finalized, but as values only in the next garbage collection cycle after the
    object was finalized. Up to now, gears.object uses a table with weak keys so
    that :disconnect_signal() works. This means that a signal can still call methods
    which were already considered garbage by the garbage collector and thus can use
    userdata from the C side which was already finalized. Crashes and other bugs
    result.
    
    This commit changes the code so that the function is also a value in the weak
    table. Thus, the GC will remove the entry before the object is finalized.
    
    Special magic is needed for Lua 5.1, because there only userdata has the
    behavior that we want while we have a function. We do some magic with function
    environments to make this work...
    
    Closes https://github.com/awesomeWM/awesome/pull/567.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0fdecfb2dfbb40ce032fc278a24cecb12c6d3aa9
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Nov 19 18:06:58 2015 +0100

    Add a test case capturing problems with weak_connect_signal (#520)
    
    This adds a cyclic dependency between the function used for the weak signal and
    an object with a __gc metamethod. The problem occurs since the GC will first
    finalize the object (call its __gc metamethod) and only in the next generation
    will it actually collect the garbage and remove the functions from weak-tables
    using it as a key.
    
    And yes this needs special code for Lua 5.1 because there __gc doesn't work on
    tables. :-(
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 970a92bb514767851dd6e3644fe88bfae9d8660f
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Nov 19 17:58:49 2015 +0100

    spec for gears.object: Test weak signals better
    
    Since weak signals specifically exist to do magic with the garbage collector, do
    a couple of garbage collection cycles and verify that this does not disconnect
    the callback function prematurely (the function is kept alive since it is a
    local variable).
    
    (I actually did a mistake that makes this enhanced test fail and fixed it before
    committing)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit eb8577a424c2fc69d03453df9ccb1bf145370be4
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Nov 20 13:49:26 2015 +0100

    feat(lib: menubar): dpi support in menubar
    
    Closes https://github.com/awesomeWM/awesome/pull/580.

commit f6d08274a63ef187b26d2d7e7163416f2adda0c8
Author: Barlik <barlik@users.noreply.github.com>
Date:   Sat Dec 5 10:15:20 2015 +0000

    Use integer size when creating titlebar
    
    Closes https://github.com/awesomeWM/awesome/pull/584.

commit ea94f7f7e64fd2be233f5127e149ff622fbb668b
Author: Luk√°≈° Hr√°zk√Ω <lukkash@email.cz>
Date:   Mon Nov 30 20:26:26 2015 +0100

    add an option to set the preferred client icon size
    
    _NET_WM_ICON contains a list of icons and until now, the first one was
    picked without regard to it's size. This adds a global option to set
    the preferred icon size. When getting the client icon, the best size
    match is picked. The size can be set via
    awesome.set_preferred_icon_size() and the default is 0, which will pick
    the smallest non-zero size icon available.
    
    Signed-off-by: Luk√°≈° Hr√°zk√Ω <lukkash@email.cz>

commit 2d7fc8bc49b96801618599c1016d0c8ca2ab6705
Author: actionless <actionless.loveless@gmail.com>
Date:   Mon Dec 7 09:31:16 2015 +0100

    feat(beautiful: xresources): read rgb: and argb: prefixed colors

commit 742cbd712273f51a48e7d239567f5b31306e0295
Author: ShadowKyogre <shadowkyogre.public@gmail.com>
Date:   Sat Dec 5 17:26:15 2015 -0800

    Call :set_bg for the mouse finder's wibox
    
    Before this, it was trying to assign it to `.bg`, which isn't how
    backgrounds are stored on wiboxes.
    
    Closes https://github.com/awesomeWM/awesome/pull/587.

commit f4077def8eb30fff0810fc4478d2002aa0ffbfb3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 5 12:31:33 2015 +0100

    Add :set_{width,height} to widgets (#291)
    
    This adds new functions to all widgets that allow to force a specific
    width/height. These values override the result from :fit().
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c2be60fb54eab8b53d22f0f5b7639dbf28609c3c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 5 12:25:25 2015 +0100

    wibox.widget.base: Factor out functions available on all widgets
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0516203610a988c4bc42b6e32f9e02d57a8accdf
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Sep 20 16:42:24 2015 +0200

    feat(lib: awful: hotkeys_popup): widget to show awesome and third-party keybindings
    
    Closes https://github.com/awesomeWM/awesome/pull/421.

commit ecf6b55b5531a9f52c7b1c1520a33b5b86c5cd63
Author: dyslesiq <nicolas.michon@zoho.com>
Date:   Fri Nov 27 11:44:47 2015 +0100

    Added value check of required 'Name' entry in .desktop parsing
    
    Closes https://github.com/awesomeWM/awesome/pull/574.

commit 97048de60e901ee2866f5011d81e791ea4c6a977
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Nov 19 17:15:48 2015 +0100

    Remove useless information from awesome -v
    
    Most of this information isn't interesting. If you are getting awesome from a
    distro, then the time, hostname and username of the build are likely 'random
    stuff' and if you are building awesome yourself, then the hostname and username
    are obviously yours and the time can still be interfered based on the awesome's
    binary ctime.
    
    The GCC version shouldn't make any difference at all.
    
    Closes https://github.com/awesomeWM/awesome/pull/566.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 56e85d45d4851125aeef09defbb3fb1baf5ddd7b
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 20 01:57:21 2015 +0200

    default config: enhance list of default floating clients
    
    Closes https://github.com/awesomeWM/awesome/pull/329

commit c02969bb0e139b57471c546156f247af3bda9466
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 29 12:33:13 2015 +0100

    wibox.widget.systray: Also emit redraw_needed
    
    When emitting layout_changed, the widget is relayouted. If this doesn't actually
    change anything, nothing will be redrawn. Thus, this also emits redraw_needed to
    force redraws.
    
    This fixes a race condition with some weird tray icons. A new tray icon is
    created and the systray is updated. Then this new icon is destroyed immediately
    again and at the same time another icon is created. Then, the systray isn't
    updated since the number of icons (=the layout) did not actually change.
    However, it needs to be updated and so we ended up with broken/missing icons.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/487
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2f5ade49c27c9b610bbfe5cb8f1807531447d800
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 29 11:57:35 2015 +0100

    test-spawn.lua: Also test exit statuses
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 44a3e27e813fbda449c92e4a2361dfc622c1913e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 29 11:56:05 2015 +0100

    awful.spawn.with_line_callback: Add exit callback
    
    This adds support for the callback that was added in the previous commit to this
    function. We can just pass on the function that the caller gives us.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/185
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a8ac146bd0516635326a85060e19943f1bf84992
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 29 11:53:12 2015 +0100

    awesome.spawn: Add exit status support
    
    This adds a new argument to awesome.spawn. This argument is a function that will
    be called with the exit status once the spawned process terminates. For normal
    exit, the function is called with "exit" and the exit code. If the process is
    terminated by a signal, the function will be called with "signal" and the signal
    number of the signal that caused termination.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1c8aa0f5f4574c1885ad778fcef7f2b9b5f8c958
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 22 18:19:53 2015 +0100

    Add a scroll layout
    
    This allows scrolling a widget if there is too few space available. There are
    several different modes available for how the scrolling "looks like".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 58bd21ad7956aeec677a158c04f14ac17eada368
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Nov 22 00:30:18 2015 +0100

    layout.arrange: fix screen arg in call to tag.getgap
    
    Fixes https://github.com/awesomeWM/awesome/pull/568#issuecomment-158682756.

commit 8557a7e0e48cd94dc2565ded7145560f6bff1fda
Author: ‚ñü ‚ññ‚ñü ‚ññ <dodo.the.last@gmail.com>
Date:   Thu Apr 2 01:10:45 2015 +0200

    properly flush dbus connection after send

commit 33d4100ea0740acbd5002d340c1eba268f55ed94
Author: ‚ñü ‚ññ‚ñü ‚ññ <dodo.the.last@gmail.com>
Date:   Thu Apr 2 01:10:16 2015 +0200

    prevent segfault when dbus signal creation failed

commit e8d209fde60333885e09d6c618b39ea9ac7c7c63
Author: ‚ñü ‚ññ‚ñü ‚ññ <dodo.the.last@gmail.com>
Date:   Thu Apr 2 01:08:54 2015 +0200

    fix typo

commit 0d2e6d20684936035d438ea4da6a8c232f39d294
Author: Frederik <fbraun+gh@mozilla.com>
Date:   Fri Nov 20 16:51:30 2015 +0100

    Get LuaRocks via HTTPS instead of HTTP
    
    [ci skip]
    
    Closes https://github.com/awesomeWM/awesome/pull/570.

commit 269bb90e186b7afe96aac1b54efd49eb07dde4f8
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Nov 19 20:33:04 2015 +0100

    Only use useless_gap with multiple tiled clients
    
    Fixes https://github.com/awesomeWM/awesome/issues/564.
    Closes https://github.com/awesomeWM/awesome/pull/568.

commit 6ca85af53bf56eacb819b76002146d77634322c7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Nov 7 11:48:10 2015 +0100

    Set WM_CLASS and WM_NAME on all our windows (#551)
    
    The only exception is the window for _NET_SUPPORTING_WM_CHECK. That window
    already had a _NET_WM_NAME property before and doesn't get a WM_NAME property in
    this commit. I just decided for myself that it doesn't need one. :-)
    
    Right after startup with the default config we now have the following situation:
    
    $ xwininfo -root -tree
    
    xwininfo: Window id: 0x2d7 (the root window) (has no name)
    
      Root window id: 0x2d7 (the root window) (has no name)
      Parent window id: 0x0 (none)
         7 children:
         0x200011 "Awesome drawin": ("awesome" "awesome")  1500x20+0+0  +0+0
         0x200010 "Awesome drawin": ("awesome" "awesome")  1x1+0+0  +0+0
         0x20000d "Awesome drawin": ("awesome" "awesome")  100x30+0+0  +0+0
         0x20000a "Awesome no input window": ("awesome" "awesome")  1x1+-1+-1  +-1+-1
         0x200009 "Awesome systray window": ("awesome" "awesome")  1x1+-1+-1  +-1+-1
         0x200008 "awesome": ("awesome" "awesome")  1x1+-1+-1  +-1+-1
         0x200007 "Awesome WM_Sn selection owner window": ("awesome" "awesome")  1x1+-1+-1  +-1+-1
    
    One of those drawin is the awful.wibox. Another drawin is created by awful.menu.
    I guess that the third one is created by awful.tooltip, but I'm not sure. Wow,
    so many windows...
    
    Closes https://github.com/awesomeWM/awesome/pull/556.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 234100ebdfbbf4762ad9ac0a21b481990f2a49e9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Nov 7 13:55:04 2015 +0100

    Fix/silence various ldoc warnings in menubar
    
    Closes https://github.com/awesomeWM/awesome/pull/559.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c8e078b1bff5d1d1aae1055dcdac2e7cc7d62e30
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Nov 9 18:37:47 2015 +0100

    doc: fix example with awful.prompt.run hooks
    
    It should return `command` for it to be executed.

commit b7d398f3392790176814a93f80211217dc808ec0
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Nov 19 20:13:37 2015 +0100

    awful.widget.tasklist: Use pairs instead of ipairs
    
    This is a weak table whose entries might be removed by the garbage collector.
    I'm not sure if this will every cause problems, but it's better to be prepared
    for tables having "nil holes" (which would mean ipairs ignores some entries).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7eed74b814d597fe866476efd80c0b081e98a773
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Nov 19 20:11:42 2015 +0100

    Fix multiple tasklists on the same screen (#563)
    
    The code already tried to handle this correctly, but at some point it used the
    wrong variable as the screen number...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f7bbcf126387878774a6021faedac673b5694d36
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 15 19:36:15 2015 +0100

    wibox.drawable: Make screen_getbycoord() local
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ba0d8e38e5bcac99b2d643dd581fb89380ff4a4e
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Sep 27 18:01:18 2015 +0200

    awful.prompt.run: handle command return value from hooks

commit b3c7efd5e45a46b3d655ab12a1942c7c47631ad5
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Sep 27 16:55:46 2015 +0200

    Add awful.widget.prompt.spawn_and_handle_error helper
    
    This is meant to avoid boilerplate code when creating prompt hooks.

commit ce2d31cbdefdfa9a39e6faf1662521a6dff5e9f9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Oct 13 17:14:33 2014 -0400

    prompt: Add the ability to add new shortcuts to awful.prompt
    
    Example:
    
    awful.prompt.run({ prompt = "Run: ", hooks = {
        {{         },"Return",function(command)
             local result = awful.util.spawn(command)
             mypromptbox[mouse.screen].widget:set_text(type(result) == "string" and result or "")
             return true
        end},
        {{"Mod1"   },"Return",function(command)
             local result = awful.util.spawn(command,{sticky=true})
             mypromptbox[mouse.screen].widget:set_text(type(result) == "string" and result or "")
             return true
        end},
        {{"Shift"  },"Return",function(command)
             local result = awful.util.spawn(command,{ontop=true,floating=true})
             mypromptbox[mouse.screen].widget:set_text(type(result) == "string" and result or "")
             return true
        end}
        }
    },...)

commit 6f2424e90170be4acaa1d140f966ab6bb8a4d217
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Nov 7 12:45:04 2015 +0100

    Enable detectable autorepeat (#550)
    
    Imagine the following snippet is run:
    
        keygrabber.run(function(mod, key, event)
          gears.debug.dump{mod, key, event}
        end)
    
    The above starts a keygrabber and prints the events that are received.
    Currently, when a key is pressed and held down, this prints a series of press
    and release, because that's what the X11 server sends us.
    
    This commit enables detectable autorepeat. This means that the X11 server only
    sends us a series of press events for autorepeat and a single release when the
    key really is released.
    
    Testing this is a bit hard, because detectable autorepeat does not seem to work
    with Xephyr. Instead, a "real" Xorg instance is needed.
    
    We do not check the response to the PerClientFlags request, because it doesn't
    really tell us anything useful. If the server does not support detectable
    autorepeat, we could print a warning, but so what? As I just said, this does not
    work in Xephyr and yet Xephyr announced to support this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e279d686705f7311a533f3be4c1f7bfd4d9b4973
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Nov 7 12:27:35 2015 +0100

    xkb.c: Remove trailing whitespace
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 10daa6b09e2e207fe2162940b0a9455d745c670c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Nov 7 12:24:21 2015 +0100

    xkb: Don't use _checked() requests
    
    In XCB, each request has a checked and an unchecked version. The checked version
    can be used to check if the request caused any errors. Since the code here
    doesn't do this check, it shouldn't use the checked versions of the requests.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2bca03cb873dd66a6d91092f3dac48c8878bfe58
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Nov 2 21:22:56 2015 +0100

    doc: fix format for wibox.widget.base.make_widget
    
    Closes https://github.com/awesomeWM/awesome/pull/548.

commit 339e2b0ecc7bc740c616b6ccd124fbeb71e62bc8
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Oct 28 01:00:00 2015 +0100

    Add failing test: c.startup_id should be nil when snid is disabled
    
    When using `spawn` without startup notification support, the
    `startup_id` property on the client should be nil.
    
    This adds rxvt-unicode to the Travis build, because it supports startup
    notifications, but xterm does not.  We should replace xterm with it in
    the existing tests then later.

commit 9afb2578f8ae4856b8df8d9ae4bc24581d897681
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 1 17:53:53 2015 +0100

    Spawn: Improve handling of startup notification
    
    The ID for startup notification is transmitted to the spawned process via the
    DESKTOP_STARTUP_ID environment variable. Before this commit, we set this
    variable in the main process. This meant that if we started something "without"
    a startup id, then it might get the ID that was used by the last spawn and which
    was still saved in our env. Fix this by setting the environment variable only
    after fork().
    
    Small anecdote: The above wasn't enough to make Daniel's test case succeed and
    at first I couldn't figure out why.
    
    Turns out that rxvt-unicode doesn't unset the DESKTOP_STARTUP_ID environment
    variable (I think it should, according to some spec), even though it supports
    startup notification. So awesome was already started with DESKTOP_STARTUP_ID set
    and thus all spawned processes used this ID.
    
    Fix this by explicitly unsetting DESKTOP_STARTUP_ID if we don't set any new
    value (even though this breaks encapsulation; we shouldn't have to care about
    this "implementation detail" of libstartup-notification).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c4d21d5f1280e6054c67bb81c8b34728625b063b
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Oct 16 16:48:37 2015 +0200

    Travis: use dist=trusty
    
    http://blog.travis-ci.com/2015-10-14-opening-up-ubuntu-trusty-beta/
    
     - Use apt-get install -y, and not -qq.
     - Fix LUAROCKS_ARGS for Trusty.
     - Installing libxcb-cursor-dev, libxcb-xkb-dev, libxkbcommon-x11-dev
       and libxkbcommon-dev via apt-get.
     - Use before_install to set LUAINCLUDE
     - Cleanup the apt-get install block.
     - Use travis_retry with 'luarocks install' and 'wget'.
    
    Ref: https://github.com/travis-infrastructure/packer-templates/issues/42.
    Closes: https://github.com/awesomeWM/awesome/pull/533.

commit a410326ba6482839822b05af6912bc9c5bfa5a53
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Nov 5 01:53:43 2015 +0100

    Improve doc for awful.spawn: module/spawn/with_shell

commit a69d901c64ab5eefcaba7e999f76985f694b443b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Nov 1 17:08:20 2015 +0100

    Add some documentation to gears.timer
    
    It feels weird to document the signals like this, but apparently that is the way
    this needs to be done.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9b3558899b203aa48eaa5d1f8e36dda506fcd6cb
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Oct 30 00:02:19 2015 +0100

    travis-apidoc: swap 'relevant' and 'boilerplate' commits

commit b655b74cb92342c9537a3b2dfeaee4f216959970
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Oct 28 01:21:16 2015 +0100

    travis-apidoc.sh: fix diff -I pattern for h2
    
    `diff -I` appears to match the parentheses as-is.
    
    It should not have been triggered for
    https://travis-ci.org/awesomeWM/awesome/jobs/87792709#L3334.

commit b9db1d032a37e0a2f1501de6ef0e4acb6b645275
Author: actionless <actionless.loveless@gmail.com>
Date:   Sat Oct 17 13:05:35 2015 -0400

    feat(awesomerc): add descriptions for some keybindings

commit 0a11cd0c4dbda0c1bf590fb9d6083545e9081910
Author: Benjamin Petrenko <benjamin.petrenko@gmail.com>
Date:   Wed Sep 9 23:15:43 2015 +0300

    Make client.movetotag emit request::activate on client
    
    Closes https://github.com/awesomeWM/awesome/pull/439.

commit 112ce3b419245bdae8e12252415c0da9d3059349
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 14 16:28:17 2015 +0200

    Set the wallpaper more intelligently
    
    Usually users want a wallpaper on all their screens. With the current code, this
    resulted in a loop of upload-wallpaper, {download-wallpaper, add-new-part,
    upload-wallpaper}*.
    
    Fix this by being more intelligent: Instead of setting the wallpaper
    immediately, this now uses gears.timer.delayed_call() to set the wallpaper. All
    following modifications which come in before the delayed call runs will still be
    part of the current update. This should mean that during startup, there is just
    a single upload of a wallpaper.
    
    (The above is what happens if there is no wallpaper yet. If there is already
    one, we use :create_similar() and thus should only upload the part of the
    wallpaper that changed, but this doesn't really make a difference.)
    
    As a side-effect, the new code no longer draws to the old wallpaper to modify
    it, but always creates a copy of it. This means that:
    
    Fixes https://github.com/awesomeWM/awesome/issues/288.
    Closes https://github.com/awesomeWM/awesome/pull/530.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 57e3927cbdc69c58f02b7282ccf0ceeecc7390b1
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 18 13:04:56 2015 +0200

    Add awful.util.is_dir
    
    Extracted from https://github.com/awesomeWM/awesome/pull/187.
    
    Closes https://github.com/awesomeWM/awesome/pull/536.

commit 0be33a0707494ffddaf822e11b124841f8f80306
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 24 08:44:50 2015 +0200

    awful.placement: Add the border to the client's geometry (#540)
    
    Thanks to the way that X11 works, geometries consider the size of the client
    without the border width, but the position of the top-left corner of the border.
    This commit adds a new function get_area() which returns the area that is
    actually covered by a client. Then, all the code is changed to use this new
    function (even the part of the code which did get this border thing correct).
    
    Closes https://github.com/awesomeWM/awesome/pull/541.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3d3570a998048a0343537361f5105ea22202178a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 24 08:43:22 2015 +0200

    awful.placement: Only set position
    
    None of this code wants to resize clients. Thus, it makes sense to only set the
    position of a client and ignore its size.
    
    Also, this sneaks in a fix for no_offscreen which is documented to return the
    client's new position, but didn't actually do so.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4db998fdf2f68f3b433e678294e41a49288a4832
Author: Kazunobu Kuriyama <kazunobu.kuriyama@gmail.com>
Date:   Sun Oct 18 05:20:52 2015 +0900

    Accept keysym/unicode symbols on keys
    
    This is an enhancement to make non-ASCII symbol keys usable for
    implementation and configuration of Awesome.
    
    The enhancement was proposed and had been developed under the
    initiative of Daniel Hahler.  Thanks to his sharing of his results with our
    community, we gradually deepened our understanding on the issue.  This
    commit is the fruit his enthusiasm spawned.
    
    Closes https://github.com/awesomeWM/awesome/pull/538.

commit 035e905836fe3de36f7cc6c9e061e398a3213ed8
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Oct 22 23:57:47 2015 +0200

    awesomerc.lua: remove trailing whitespace

commit b61026310da91f33d3b4483778c8f4b9a187f0fb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 18 15:31:52 2015 +0200

    gears.timer: Add start and stop signals (#348)
    
    This makes the timer emit signals for when it is started and stopped. This does
    not add a signal for :again(), because that function just calls the other two
    functions and thus already emits start and stop.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4577e32a385f74bc333b434392b166601dc87d2c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 17 18:52:41 2015 +0200

    naughty: Use :get_height_for_width()
    
    This changes the code in naughty so that it first decides on a width for the
    notification and then uses the new function :get_height_for_width() to find a
    suitable height.
    
    This makes a difference in the following example where before this change the
    text is cut off and afterwards it is shown completely:
    
      naughty.notify({
          text = string.rep("abcdefghijklmnopqrstuvwxyz\n", 4),
          width = 75
      })
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fcfed22d8a2f35d0f5272decff84c3cb3d32106c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 17 18:44:07 2015 +0200

    Remove hacks for querying a textbox' size
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cdd8d2ed5f513d94ab273ae898742c3f46648288
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 17 18:27:40 2015 +0200

    Textbox: Add API for queriying preferred size (#466)
    
    This adds :get_preferred_size() and :get_preferred_size_at_dpi() which return
    the size (=width, height) that the textbox would need if unlimited space is
    available.
    
    This also adds :get_height_for_width() and :get_height_for_width_at_dpi() which
    return the height that the textbox would need if the given width is available.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dc0afe9f596f9e74e2325faedef13a919a0ce856
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Sep 28 21:00:49 2015 +0200

    Add some constructor arguments to some layouts
    
    This adds new constructor arguments to align, fixed and flex which allows adding
    widgets directly while creating the layout.
    
    Idea originally by actionless:
    https://github.com/awesomeWM/awesome/pull/486#issuecomment-143606301
    
    Closes https://github.com/awesomeWM/awesome/pull/490.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 532ec0cd9015d3d279f208af37ead1d635e30802
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Oct 16 17:30:46 2015 +0200

    Grab client keys on the client window (#496)
    
    Before this, we grabbed the keys on the frame window. That meant we only got key
    events for things that nothing else grabbed directly on the key window.
    
    After this, we grab directly on the client window itself and so we "fight" with
    everything else which wants to grab keys. I don't actually know how the winner
    is decided... First come, first serve, the rest gets an error?
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 085bc00a24e95eea106e8d46346a4511238d0f2b
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 14 19:40:18 2015 +0200

    Emit property::geometry only if something changed
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 438a10973baf5793ea8089200968694e50775201
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 14 19:35:23 2015 +0200

    Add property::geometry to drawin/drawable [#411]
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 555ccc15a8fb19836b5412dea940f401d33b7e91
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 04:14:39 2015 +0200

    doc: typos/grammar

commit 29323227752fe303aa6e328ebada2fb8d195063c
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 04:12:49 2015 +0200

    doc: params for request::activate

commit e7663e1ebdc6fba6a29df01c4474effd1781bf2f
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 27 01:05:01 2015 +0200

    Some doc fixes

commit 4bffa7e47e3901fd68775778b56e618ff1aeab01
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Oct 14 00:21:29 2015 +0200

    doc: fix unintentional rendering as code due to indent

commit 22f90752f74e9957e3518db5c1ed3f45f5901ee4
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Oct 13 23:57:45 2015 +0200

    doc: improve doc for awful.spawn(.spawn)

commit a648b27af66f95b160100912c833432b6372e726
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Oct 13 11:11:45 2015 +0200

    menubar.icon_theme: cache index_theme instances
    
    Ref: https://github.com/awesomeWM/awesome/pull/523#commitcomment-13716821

commit 7d9b78c13c7ae502855c937b0e74a292f8c74a2f
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Oct 12 01:01:04 2015 +0200

    menubar.icon_theme.lookup_icon: check for dist in outer loop

commit 75341d9e38ebc5385ab8aa72b6c09395510080eb
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Oct 12 00:29:18 2015 +0200

    menubar.menu_gen.generate: do not call lookup_icon again
    
    `menubar.utils.lookup_icon` gets called via `menubar.utils.parse`
    already.

commit efbddb587587a13d8ffebe51807ec4c9450efa41
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Oct 12 00:25:39 2015 +0200

    Add cache for menubar.utils.lookup_icon
    
    I have tried to use `utils.icon_cache =
    require("gears.cache").new(utils.lookup_icon_uncached)`, but that
    appears to get garbage-collected too much?!

commit 7fa3dc97c8494c0c9d17c5e1dd64ef89bc0486e5
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Oct 12 00:18:28 2015 +0200

    Optimize menubar.icon_theme.lookup_icon: do not look twice

commit 7afd8e3179fb4ca9cb081876f047d9f4fb4c6cb0
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 11 19:53:00 2015 +0200

    get_icon_lookup_path: only return readable/existing dirs

commit fbfa6b899594f20fbe933646e6148988b9c4b3bf
Author: Kazunobu Kuriyama <kazunobu.kuriyama@gmail.com>
Date:   Tue Oct 13 01:21:52 2015 +0900

    menubar/icon_theme.lua: Handle scalable icons correctly
    
    This bug was caused by typos.
    
    Closes https://github.com/awesomeWM/awesome/pull/525.

commit 1bd7aa103be569b164a6c26eadd1243ca4891f7a
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 11 14:34:52 2015 +0200

    Fix signature for recursive find_icon_path_helper
    
    Ref: https://github.com/blueyed/awesome/commit/81072c042087b7dd7b214b44a7e559f09e0280f6#commitcomment-13705007.
    
    This reverts a part of 81072c0.
    
    Closes https://github.com/awesomeWM/awesome/pull/518.

commit 37aad883a6323a433727a4fb2d669312f1d752db
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Oct 13 12:02:09 2015 +0200

    awful.client: handle focus history through `manage` on startup
    
    After fcccc77 the focus history was not handled correctly any more during
    restart.
    
    Closes https://github.com/awesomeWM/awesome/pull/526.

commit 2acc125354eabd9103a1b31509114f45623b992f
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Oct 13 12:00:33 2015 +0200

    ewmh.activate: document focus handling

commit b092ef82ec9967068c484b3b86dc232b07636ab1
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Oct 13 12:20:36 2015 +0200

    doc: clarify 'stacked' argument: top to bottom

commit 3da2508ace689c92aef95a736b1937bc43812063
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Oct 13 12:17:54 2015 +0200

    client.focus.history.get: use stacking order
    
    This should make it faster in general, and provides a better fallback in
    case nothing was found.
    
    Ref: https://github.com/awesomeWM/awesome/pull/526

commit 0060ea9d63b3e1e6ed9a254a04612d1143e561a0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 11 12:44:28 2015 +0200

    Fix awful.screen.focus
    
    This is broken since 23b2fae6a908e.
    
    Closes https://github.com/awesomeWM/awesome/pull/516.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 33f8a06594ba1f3b51dd9f1fdcdfa70ac9c27393
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 11 15:00:08 2015 +0200

    Document "--replace" better
    
    This adds it to the output of "awesome -h" and translates the version in the man
    page to italian. Thanks, eri_trabiccolo for the translation!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0c57cc0155a12c64dc5edba2bc0eb28c5378521d
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 11 14:06:27 2015 +0200

    Default config: use shorter `awful.spawn`

commit 79e86d409ae7a996f94d19d404d363ae00f813e1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 11 12:42:50 2015 +0200

    Fix awful.spawn.spawn
    
    The C code wants a boolean as its argument, so we should give it a boolean.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 27233997852240cac4aef0cf67f11c09ba619231
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 11 13:14:15 2015 +0200

    Move is_readable_directory to awful.util.dir_readable

commit 765a5f57906ffe1941369147d4b4b072ae164949
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 11 12:35:14 2015 +0200

    menubar.icon_theme: use GLib.build_filenamev to join paths
    
    This eliminates double slashes from the resulting paths.
    `GLib.get_system_data_dirs` might return paths with and without trailing
    slashes.

commit e93ce7c2a8a200750a71abc947e15606d0716aaa
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 11 11:54:15 2015 +0200

    menubar.icon_theme: minor code style fixes
    
     - fix/streamline usage if metatable.__call

commit a140d80d764baa2e335d65f9db8ddf539e572aff
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Oct 11 11:53:31 2015 +0200

    icon_theme.find_icon_path: fix typo: s/filaname/filename

commit 6902e4bf5b68d2994d46505854f6184cb9d045ff
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Oct 10 23:08:20 2015 +0200

    Travis: fix building apidoc: add missing $

commit aaea20170d57f2d6b91d5ce9b88be14f6d525ef3
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Oct 10 22:37:02 2015 +0200

    Default config: use new `awful.spawn.spawn`

commit 7ed29196bb8862ac7ef2cd7f07362a70acf58997
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 22:25:56 2015 +0200

    Make awesome.quit() during startup work
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4d5a3eb3ba836fe2b17d4993904816d553f3f371
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Oct 10 20:26:07 2015 +0200

    Fix awful.util.spawn*/.pread deprecation wrappers
    
     - Fix `util.spawn_with_shell`.
     - Provide deprecation wrapper for awful.util.pread.
     - Return in deprecation wrapper for awful.util.spawn*.
    
    Closes https://github.com/awesomeWM/awesome/pull/506.
    Closes https://github.com/awesomeWM/awesome/pull/511.

commit f6e633eee4e8c4f6390ad6bf484a11c9ed520ac2
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 22:19:22 2015 +0200

    Add a --replace argument
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 19111121ce51e555ba92d1f10e4735d9c217f7ad
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 22:12:25 2015 +0200

    Check if WM_Sn is already owned before acquiring it
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 86313e0afdd19880a3a4c05b52f1a696c7b305bf
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 22:06:41 2015 +0200

    Send an event after we acquired the WM_Sn selection
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e824f8f30d3f797374f6597baf4fb70f48f51b25
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 21:59:12 2015 +0200

    Exit when we loose the WM_Sn selection
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5a17b3978c7aafa720197f670c961aa8cd794dd6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 21:51:04 2015 +0200

    Acquire the WM_Sn selection during startup
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 79fa6ad017f88ed87410db108505df0ecbf6f80e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 21:13:40 2015 +0200

    Fix client_apply_size_hints()
    
    The bit that indicates that the base size is set is
    XCB_ICCCM_SIZE_HINT_BASE_SIZE. However, instead this code checked
    XCB_ICCCM_SIZE_HINT_P_SIZE which is set to indicate how the initial window
    position is chosen. So we were checking the complete wrong bit. Whoops...
    
    Fixes: https://github.com/awesomeWM/awesome/issues/456
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4daa6e8befeb2461eaa298195d0296f85ce7fd4d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 20:34:43 2015 +0200

    Select SubstructureRedirect on our systray window
    
    This ensures that systray icons cannot resize themselves. We assign them some
    size and they have to deal with what they get!
    
    Fixes: https://github.com/awesomeWM/awesome/issues/487
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d03762c322541f03982b8d05eb718f4ecad14a33
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 20:30:08 2015 +0200

    systray: Make sure the widget is only placed in a wibox
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b1b28528879e3f0873906a1f64d7482b1a1f573e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 20:16:49 2015 +0200

    awful.screen.getbycoord: Use the same algorithm as in C
    
    We recently changed the C function screen_getbycoord() and this commit makes
    awful.screen.getbycoord() use the same algorithm.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d4168f3c36aba80343ad45ca7e065b2bb3bb868e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 20:10:23 2015 +0200

    screen_getbycoord: Change definition of 'closest screen'
    
    Instead of comparing only the top-left corner of the screen to the provided
    coordinate, this now compares the screen in a more intuitive way, e.g.
    coordinates inside of the screen have a distance of zero.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b2aaefd095c964491f2c93aa01ec7f0fcc9c340f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 17:45:24 2015 +0200

    Apply window gravity for border width changes
    
    Together with the previous changes, this also fixes the initial positions for
    metacity's test-gravity.c.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3b97d1c1a7616177eabcd6e25ae19f245efa28b8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 17:44:11 2015 +0200

    Apply window gravity for titlebar resizes
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e73335d52d75b3288e774a4f09a0a93fcb71eae5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 17:42:25 2015 +0200

    Refactor code a little
    
    The previous commit added some variables and this commit makes the surrounding
    code use these new variables as well.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 367c3acbcdbf8f4cbc18a121fbdd310525721878
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 17:41:05 2015 +0200

    Apply window gravity when a window moves itself
    
    This just makes us do what ICCCM requires us to do. Tested via metacity's
    test-gravity.c.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 39df6d98e7785d7694aadc507cb9c8ef2e299b8c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 17:38:51 2015 +0200

    Fix obvious typo in xwindow_translate_for_gravity()
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5760e536f95b08b987807e7625fb4f5af4531f83
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 10 16:03:16 2015 +0200

    Revert "Apply left/top titlebars in event_handle_configurerequest"
    
    This reverts commit ecddee44cb72c2211e188b97886f0a2ca6925ab5. The commit broke
    window gravities as can be reproduced with metacity's test-gravity.c.

commit 4003331b41f51f39d5ff57a4163a5e7bc64aa72a
Author: lesell_b <lesell_b@epitech.eu>
Date:   Fri Oct 9 20:54:17 2015 +0200

    fix missing scope on the mouse position table

commit 67faf52bab188fc0be38d2df3907088e1848f418
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Oct 9 20:59:18 2015 +0200

    Properly update multiple taglists
    
    My recent refactoring accidentally made the taglist only connect to the signal
    for the first screen on which a taglist is created. This commit fixes the code
    so that it connects for all screens.
    
    Fixes https://github.com/awesomeWM/awesome/issues/500
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dcdd60382fbb02739bedfa2c4df4b59c9472868c
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Oct 8 00:12:00 2015 +0200

    Raise client in awful.client.movetoscreen
    
    The intention of [#98] / fbc72624 was to actually raise the client,
    but that was never the case apparently, and got totally lost in
    [#441] / 57755b3.
    
    [#98]: https://github.com/awesomeWM/awesome/pull/98
    [#441]: https://github.com/awesomeWM/awesome/pull/441

commit f2b6aa105c9b0b14eecb49984f388df7d47bc10c
Author: lesell_b <lesell_b@epitech.eu>
Date:   Thu Oct 8 04:40:59 2015 +0200

    Update saved mouse position on screen focus change
    
    Signed-off-by: lesell_b <lesell_b@epitech.eu>

commit 23b2fae6a908e313d426fdc448ccb64c220c21d8
Author: lesell_b <lesell_b@epitech.eu>
Date:   Thu Oct 8 03:52:03 2015 +0200

    Remember mouse position per screen
    
    The mouse position is saved and restored when focusing another screen
    
    If the target screen has no saved mouse position, the relative position
    of the current screen is used
    
    Signed-off-by: lesell_b <lesell_b@epitech.eu>

commit fa1dea6df42856d256b067ffa5ba5d93a8ccda88
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Oct 3 14:54:17 2015 +0200

    Improve test runner to be usable for git-bisect

commit 0e3009936c4b4531ae7350da42bfde8ec9b31c09
Author: actionless <actionless.loveless@gmail.com>
Date:   Wed Sep 30 13:17:12 2015 +0200

    feat(lib: awful: key): save current hotkeys

commit 4095eb91a837efb69a82caca3218ebbbb74e76a9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Sep 29 18:05:56 2015 -0400

    Move util.spawn to a new module, add ability to spawn with properties
    
    * This commit add a new module to avoid a (4 level) loop dependency
    * It is now possible to call awful.spawn() with a table of properties
    * awful.rules is used to execute the rules.
    
    * Everything is public to allow alternative workflow modules such as
        Tyrannical to use their own callback implementation.

commit 5f6bbdfc63d2b74af3d7a7bff0257526a5d2dd8b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 16:51:50 2015 +0200

    Add and use luaA_tolstring()
    
    This is a version of luaL_tolstring() that also works with Lua 5.1.
    
    Closes https://github.com/awesomeWM/awesome/issues/471.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a3e690d19176154045f3020c9fb78889a9415cbb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 16:48:54 2015 +0200

    imagebox: Redraw in :set_image()
    
    If someone modifies a cairo surface and then sets the resulting object as the
    image of an imagebox, the imagebox needs to redraw. Thus, since surfaces are
    modifiable, we cannot assume that nothing changed when the same image is set
    multiple times on an imagebox.
    
    However, the dimensions of a surface cannot be changed and thus this does not
    need to emit widget::layout_changed.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a71d12f07b2621fe3c03d7d1cc68451a8534fb66
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 16:47:53 2015 +0200

    awful.client.cycle: Fix API docs
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2f78ec5b30b71fc7e793f2fe6bf117485dc1a3c8
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Sep 23 20:48:56 2015 +0200

    Never explicitly focus the root window
    
    Whenever client.focus == nil, we set the input focus to the root window to
    express "nothing has the input focus". However, thanks to the way X11 input
    works, this means that whatever is under the mouse cursor gets keyboard input
    events. This can easily be reproduced with urxvt and some small addition to the
    config to unfocus things.
    
    This commit changes things. Instead of focusing the root window, we create a
    special "no focus" window that gets focused if we want nothing to have the
    focus.
    
    Closes https://github.com/awesomeWM/awesome/pull/470.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d544421c67831446fc7af6bb8e218884a076b731
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Sep 27 18:10:02 2015 +0200

    Travis: add luajit-5.1
    
    This refactors the env vars for the build matrix:
    
     - add LUANAME
     - drop LUALIB
     - add LUAINCLUDE for special luajit include dir.
     - add LUAROCKS_ARGS for luarocks' `configure --lua-suffix=jit-2.0.0-beta9`.
    
    Closes https://github.com/awesomeWM/awesome/pull/484.

commit 2f7f25dcc7e0cc8cc081c4877d14614a0af9c3f3
Author: Kazunobu Kuriyama <kazunobu.kuriyama@gmail.com>
Date:   Mon Sep 28 14:41:04 2015 +0900

    Fix the definition of A_STRNEQ_CASE
    
    Replace A_STRCASEEQ whose definition is not given anywhere with A_STREQ_CASE.
    
    Closes https://github.com/awesomeWM/awesome/pull/488.

commit a5a106f97f1fb89aeb2d25fddd3dcebd49ace09e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 14 10:06:53 2015 +0100

    Make it possible for Lua to emulate arbitrary properties
    
    This makes it possible to add something similar to a __index / __newindex
    metamethod to all our C objects. Based on this, Lua can then easily implement
    arbitrary properties on our capi objects.

commit 3e9fdea650e5b65cc70901f563a3ecaa6f0721ab
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 16:04:20 2015 +0200

    test-leaks: Fix with Lua 5.1
    
    I have no idea why this needs collectgarbage() to be called twice.
    
    On the other hand, I can explain the change in tooltip.lua. Lua 5.2 introduced
    "ephermeron tables". This means that in the following sitation, lua 5.2 can
    collect the entry from the table, while 5.1 keeps the entry alive, because the
    table has a strong reference to the value and that in turn has a strong
    reference to the key:
    
      t = setmetatable({}, { __mode = "k"})
      do
        local k = {}
        t[k] = function() print(k) end
      end
      collectgarbage("collect")
      print(next(t, nil))
    
    To handle this incompatibility, this commit just removes the whole indirection
    through the module-level variable "data".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 94271e8c913bac1245ebc94a5654919ccb407b5a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 15:31:42 2015 +0200

    test-leaks.lua: Also test tooltips
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f7799cbb7fb21483ba2df825aff5a4eb3a29f496
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 15:30:04 2015 +0200

    Refactior test-leaks a bit
    
    I think it looks nicer with this helper function.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cd1ad8b753b554cfb259e8bc0ca92403d3c08b19
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 15:07:22 2015 +0200

    Don't measure time for creating wiboxes
    
    Apparently some of the last commits speeds up create_wibox() a lot. This
    highlights that this is a bad test: After creating thousands of wiboxes, awesome
    needed 15 seconds to draw all of them and in the end some dbus timeout aborted
    the test run.
    
    However, it's irrelevant how quickly we can create wibox. The interesting number
    is how quickly we can display a new wibox. Thus, this commits changes the code
    so that it also measures the time that is needed to update the wibox. This way,
    we don't accumulate a huge number of pending repaints and everything's fine.
    
    Some results (but there is nothing to compare this with):
       create&draw wibox: 0.0373947  sec/iter ( 28 iters, 1.59 sec for benchmark)
        update textclock: 0.00198174 sec/iter (515 iters, 1.937 sec for benchmark)
      relayout textclock: 0.000614439 sec/iter (1710 iters, 1.051 sec for benchmark)
        redraw textclock: 0.00116882 sec/iter (865 iters, 2.962 sec for benchmark)
              tag switch: 0.000705579 sec/iter (1498 iters, 3.703 sec for benchmark)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dc2147208f0280a7ef974f8aa8a0296164a84d43
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 14:44:19 2015 +0200

    tests: Return more widgets from create_wibox()
    
    All of these are checked for being GC'able in test-leaks.lua.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bd47edb4ef692e04a949c39c8a90f552382d589f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 14:42:39 2015 +0200

    leak test: Make the layoutbox test pass
    
    This commit does two things: It gets rid of the reference to the layoutbox that
    the default config created and it changes the widget dependency cache to not
    keep widgets alive unnecessarily.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit abc5a552a494b5cab0a842afb50cebf7a4fa4c52
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 14:10:45 2015 +0200

    Make tasklist garbage-collectable
    
    Again, instead of directly connecting to various signals for updating a
    tasklist, this commit changes the code so that there is just a single, global
    connections and based on this a weak table with all tasklist instances is used
    do the updates.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 40db0b7337359118e53ac3e3f8b8ec65dc3f24e3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 14:03:59 2015 +0200

    Make taglists garbage-collectable
    
    Similar to what the previous commit does for layoutboxes, this changes the code
    for the taglist so that there is only a single, global connection to the various
    signals and these update all taglists via weak tables.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6f2e7bba25d2d6ccab635e86d16cdd5584b5fb31
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 13:19:12 2015 +0200

    Make layoutbox kind-of garbage-collectable
    
    Instead of connecting to the needed tag-update-signal again for every layoutbox,
    this now just creates a single connection and updates all layoutboxes from here.
    A new weak table is used to find the layoutboxes from these callbacks.
    Additionally, layoutboxes are now per-screen unique. So even if you try to
    create three layoutboxes for screen 1, the code will now always return the same
    instance.
    
    This kind-of fixes the leak test for layoutboxes. The problem is that the
    default config also creates a layoutbox and adds it to a wibox. Since this is
    now the same layoutbox, the test still fails. Just removing the layoutbox-part
    from the default config makes this problem go away.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e9377c480857c3edbd6bdf1d97c25690f62273e7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 12:38:57 2015 +0200

    Make textclock garbage-collectable
    
    This fixes the textclock-specific part of the test that the previous commit
    added.
    
    To fix this, gears.timer.weak_start_new() is used. This function creates a timer
    that is automatically stopped when its callback function is garbage collected.
    The callback function is saved as a member of the texbox widget that is the
    "widget behind the textclock". Thus, the timer can only be stopped after the
    widget is garbage-collected, but the timer does not keep the widget alive.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 901c8f680ae797c7ea4adab2f9e85d186b3d232b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 12:25:20 2015 +0200

    tests: Add some memory-leak tests
    
    This creates some random collection of widgets and tests if they can be garbage
    collected again.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 225022be844f4d3dd72acbf6ed4fe51679fb209c
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 27 11:58:35 2015 +0200

    tests: Move create_wibox() into a helper script
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9ae945c931c12597920b081bee409e1e0674c761
Author: Kazunobu Kuriyama <kazunobu.kuriyama@gmail.com>
Date:   Mon Sep 21 17:17:20 2015 +0900

    Enhance menubar icon path lookup
    
    The way of icon path lookup for `menubar` is enhanced so that it is
    based on a theme-oriented way as described in the specification:
    
      Icon Theme Specification, Ver. 0.12
      http://standards.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html
    
    To accomplish this:
    
     * Add the two new files `icon_theme.lua` and `index_theme.lua`.
    
       The former implements an icon lookup algorithm suggested in the URL
       above.  The latter implements a helper object to parse the cache file
       `index.theme` of which data is used by the former.
    
     * Modify `menu_gen.lua` to use the new algorithm.
    
       - The implementation of `lookup_category_icons` is changed
         accordingly.
       - The values of the field `all_categories.icon_name` are changed file
         names to icon names, i.e., file extensions which are used to
         indicate image file formats are removed.
    
     * Add the new file `icon_theme_spec.lua` for a unit test for checking
       if `icon_theme.lua` together with `index_theme.lua` works as
       expected.

commit 116c90c8d89052a2923146a88ac7837209a690d9
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Sep 25 01:29:00 2015 +0200

    minor: taglist.taglist_label: join if / remove indent

commit f4d6011f2301c31cadff951e3074fedc467322b9
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Sep 25 01:06:17 2015 +0200

    awful.widget.taglist: handle/display urgent property always
    
    For non-selected tags, display the urgent bg/fg always.
    Previously, this was skipped in case the tag had the focused client,
    which is possible since a while.
    
    Ref: https://github.com/awesomeWM/awesome/issues/455#issuecomment-143072993

commit 5431b18f335055c892783697c9cae2a0e029b9fa
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Sep 25 00:43:52 2015 +0200

    Rename client_maybevisible to client_on_selected_tags
    
    This makes it more clear what it is about, and also fixes its
    documentation.

commit b824d002843e637af9acf6ad08e45b65cfd96ee0
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Sep 25 00:18:33 2015 +0200

    ewmh.activate: only focus visible clients
    
    Since focus can be moved to non-visible clients nowadays, this needs to be
    checked in the `request::activate` handler.
    
    Fixes https://github.com/awesomeWM/awesome/issues/455.

commit 81e59cdfc86e9f120aa85ea94193c092346432a0
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Sep 9 22:26:39 2015 +0200

    ewmh.activate: raise a client always
    
    When a client is not visible, this would adjust its stacking order
    still.
    
    This also addresses https://github.com/awesomeWM/awesome/issues/472,
    because it raises unminimized clients after they got focused.

commit 0414a579c280a78887bf74b754389216311511ed
Author: ‚ñü ‚ññ‚ñü ‚ññ <dodo.the.last@gmail.com>
Date:   Mon Apr 6 01:01:44 2015 +0200

    Expose dbus signal sender
    
    Closes https://github.com/awesomeWM/awesome/pull/198.

commit 3fea174c5e5e956d5912c7be6810a2ecc9f862e9
Author: actionless <actionless.loveless@gmail.com>
Date:   Tue Sep 22 00:19:20 2015 +0200

    test(benchmark): add for tag switch
    
    Closes https://github.com/awesomeWM/awesome/pull/465.

commit dfcbf20d81cb01903a63cbff85473c9ccdd0bdd8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Sep 19 13:57:18 2015 +0200

    Add and use wibox.hierarchy:update()
    
    This function updates a hierarchy if the layout of some widgets changed. It does
    nothing on the parts that did not change. This should be more efficient than
    recomputing the whole hierarchy whenever something changes.
    
    Once again, this has some positive results on the "benchmark test":
    
    Before:
            create wibox: 0.083016   sec/iter ( 13 iters, 1.161 sec for benchmark)
        update textclock: 0.00391091 sec/iter (271 iters, 3.219 sec for benchmark)
      relayout textclock: 0.00273234 sec/iter (397 iters, 1.087 sec for benchmark)
        redraw textclock: 0.0010191  sec/iter (989 iters, 1.745 sec for benchmark)
    
    After:
            create wibox: 0.083146   sec/iter ( 13 iters, 1.163 sec for benchmark)
        update textclock: 0.00170519 sec/iter (647 iters, 2.201 sec for benchmark)
      relayout textclock: 0.000581637 sec/iter (1880 iters, 1.094 sec for benchmark)
        redraw textclock: 0.0010167  sec/iter (997 iters, 1.773 sec for benchmark)
    
    So again no difference for creating wiboxes (100.16% compared to before). This
    time we also have no real difference for creating wiboxes (99.76%). Update (44%)
    and relayout (21%) are improved a lot.
    
    Closes https://github.com/awesomeWM/awesome/pull/463.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f7f8420d241d662a3af41f4aee451115d7fe271b
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Sep 23 10:37:02 2015 +0200

    naughty.notify: improve doc for args.run
    
    Closes https://github.com/awesomeWM/awesome/pull/469.

commit 7cbf3e8beea159ef7b482ba9c447f58978deeb73
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Sep 22 13:13:08 2015 +0200

    Fix tooltip.set_geometry: provide textbox context
    
    Closes https://github.com/awesomeWM/awesome/pull/467.

commit f2e554de91d0c275292e418de59784141a9780e1
Author: actionless <actionless.loveless@gmail.com>
Date:   Mon Sep 21 23:59:35 2015 +0200

    fix(lib: naughty: core): make it work with textbox per-screen dpi
    
    Closes https://github.com/awesomeWM/awesome/pull/464.

commit 8d6030819b0aed14bbfc28cf7d9536051571633a
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 17 14:35:09 2015 +0200

    textbox: Honor per-screen DPI
    
    This makes the textbox' :draw() and :fit() callbacks use the DPI that is
    specified in the given drawing context. With this, the textbox now scales
    correctly if different screens have different DPI values.
    
    Idea originally from Daniel.
    
    Closes https://github.com/awesomeWM/awesome/pull/457.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b134318f1986d43777150a84e4379b1feb831c9b
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Sep 16 13:57:38 2015 +0200

    Use gears.matrix instead of cairo.Matrix everywhere
    
    This has some positive results on the "benchmark test". Each single number is
    the best one out of three runs.
    
    Before:
            create wibox: 0.0826502  sec/iter ( 13 iters, 1.157 sec for benchmark)
        update textclock: 0.0186952  sec/iter ( 57 iters, 2.473 sec for benchmark)
      relayout textclock: 0.0158112  sec/iter ( 64 iters, 1.028 sec for benchmark)
        redraw textclock: 0.0015197  sec/iter (662 iters, 1.861 sec for benchmark)
    
    After:
            create wibox: 0.0825672  sec/iter ( 13 iters, 1.154 sec for benchmark)
        update textclock: 0.00378412 sec/iter (277 iters, 4.216 sec for benchmark)
      relayout textclock: 0.00259056 sec/iter (420 iters, 1.09 sec for benchmark)
        redraw textclock: 0.00105128 sec/iter (958 iters, 1.79 sec for benchmark)
    
    We see no significant change in the creation of wiboxes (99.9% compared to
    before). Update (20% of the previous run time), relayout (16%) and redraw (69%)
    are all sped up by this change.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 34927b187d118e47012b6684434f39dcde88d834
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Sep 16 13:48:33 2015 +0200

    gears.matrix: Implement matrices in Lua
    
    Instead of going through LGI to call cairo, this now implements the various
    matrix operations directly in Lua. The plan is to avoid the overhead that we hit
    due to LGI.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b7669161a0524fc1c7ddb2d9c0f3e31de9a903a5
Author: Alastair Robertson <alastair@ajor.co.uk>
Date:   Wed Sep 9 22:44:10 2015 +0100

    Add optional limit for nmaster/ncol based on number of tiled windows
    
    Closes https://github.com/awesomeWM/awesome/pull/430.

commit 8abce1ff68de8375292a00f0759066bc2e79a373
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Sep 15 14:09:18 2015 +0200

    Add a benchmark to the test suite
    
    This (ab)uses the integration tests to run a benchmark. This currently only
    measures wibox drawing performance. To avoid wasting CPU-cycles, this does only
    a quick run under travis while on "normal" runs the function under test is
    executed in a loop to improve the precision of the measurement.
    
    This benchmarks hopefully allow to optimize things in a clear fashion instead of
    things like "it feels faster to me".
    
    Results when run against the previous commit:
    
    == Running test-benchmark.lua ==
            create wibox: 0.0788958  sec/iter ( 13 iters, 1.103 sec for benchmark)
        update textclock: 0.019493   sec/iter ( 56 iters, 2.507 sec for benchmark)
      relayout textclock: 0.0160725  sec/iter ( 63 iters, 1.029 sec for benchmark)
        redraw textclock: 0.0015601  sec/iter (647 iters, 1.875 sec for benchmark)
    W: awesome: a_glib_poll:291: Last main loop iteration took 6.593912 seconds! Increasing limit for this warning to that value.
    
    Results right before the new widget layouts were merged (commit 52154d0f15b99b):
    
    == Running test-benchmark.lua ==
            create wibox: 0.0782874  sec/iter ( 13 iters, 1.095 sec for benchmark)
        update textclock: 0.00736755 sec/iter (136 iters, 1.346 sec for benchmark)
    W: awesome: luaA_dofunction:77: error while running function
    [...]
    error: /home/psychon/projects/awesome/build/lib/gears/object.lua:30: Trying to emit non-existent signal 'widget::layout_changed'
    
    Closes https://github.com/awesomeWM/awesome/pull/451.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 998a20514a129c77f6ac6cb404c982591ca7ff32
Author: Kazunobu Kuriyama <kazunobu.kuriyama@gmail.com>
Date:   Tue Sep 15 11:34:58 2015 +0900

    Modify CFLAGS handling
    
     - Remove `-rdynamic` from "CFLAGS" and count on CMake to pass it to
       the compiler at the link phase (Issue #450).
     - Move the definition of "CFLAGS" from `awesomeConfig.cmake` to
       `CMakeLists.txt` and give it a name, `AWESOME_C_FLAGS`, so that the
       relation between the target and the flags is made clearer and
       manageable.
     - Make `AWESOME_C_FLAGS` a cached variable so that the developers can
       tweak the flags promptly in accordance with their necessities without
       changing the prescribed value.
     - Add a logic to cope with the case where CMake fails to set
       `-rdynamic`.
    
    Closes https://github.com/awesomeWM/awesome/pull/453.

commit d96c4d61a9a50b205f8b2e01635775cd4bc90fb5
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 17 17:03:36 2015 +0200

    Handle enter/leave events with detail=Inferior correctly
    
    There is a client window C. Around this window, awesome adds a frame window F.
    When the pointer is inside of C and then moves inside of F, we get a LeaveNotify
    with detail=Inferior, but from our point of view, the pointer is still inside of
    C, because F is contained in C.
    
    Similarly, if the pointer is in F and moves to C, we get an EnterNotify with
    detail=Inferior that we should ignore. However, for an EnterNotify the pointer
    can now be inside of a titlebar, so this case has to be handled now.
    
    The above explains the enter/leave behavior for clients. Let's now think about
    titlebars: When the pointer moves from C to F, it cannot be in any titlebar any
    more, so we must generate a leave event on that titlebar. Similar when the
    pointer moves from F to C, but in this case we also have to figure out which
    titlebar now contains the pointer.
    
    This patch makes the code handle these events with detail=Inferior correctly.
    
    Closes https://github.com/awesomeWM/awesome/pull/461.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 42e00819584c9cdb6f79fca317ebdb0d36902f10
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 17 16:32:56 2015 +0200

    Fix enter/leave events on titlebars
    
    This adds a global variable that tracks the drawable that is currently under the
    mouse cursor. This new variable is then used so that we get consistent behavior
    for enter/leave signals. Such signals are now also generated when a MotionNotify
    event tells us that the pointer is now in a different titlebar.
    
    Before this, it was possible that we did not generate a leave event on a
    titlebar since the LeaveNotify contains the cursor position after the leave and
    we did not manage to figure out which titlebar was left.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 41a8fabf4c64bf62e48290f07b1bc0f897cb61ad
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 17 15:01:50 2015 +0200

    Explicitly track dependencies between widgets
    
    Before this, dependencies between widgets where implicitly discovered by
    recursive calls to base.fit_widget() and base.layout_widget(). However, it is
    too easy to get this wrong (just call one of these functions from outside of a
    widget's :fit() / :layout() function) and the resulting mess would be hard to
    debug.
    
    Thus, this commit changes the API so that callers have to identify themselves
    and we can explicitly record the dependency between the widgets involved.
    
    This also fixes a bug where no dependencies were tracked for widgets after
    :set_visible(false). Whoops...
    
    Sorry for breaking the API for adding this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 14be909206bc9ee16d2caecce2d77a08cb97bf81
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 6 13:23:05 2015 +0200

    Remove gears.debug.assert
    
    Lua provides an assert() function already, so let's just use that.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 42aea011d273fb4269f17d7c438954abf2e2ceb6
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Sep 16 10:39:12 2015 +0200

    placement.no_offscreen: add optional screen argument
    
    This is used by `tooltip.place` then to tie the tooltip to the screen of
    the mouse.  Without this, a tooltip from the tasklist might get moved to
    the screen above the tasklist, if it gets considered to be on that
    screen given its coordinates.
    
    Closes https://github.com/awesomeWM/awesome/pull/437.

commit 2330040eb54f94d588e1287dca595eb9b8cfea25
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Sep 15 12:49:20 2015 +0200

    wibox.drawable: Fix complete repaints
    
    When a complete repaint is scheduled, also do a relayout, because this is also
    the case that we go through when the underlying cairo surface is resized. For
    example, resizing a client with a titlebar would trigger this.
    
    Also, going through this code path is necessary since this is the only place
    where the dirty area is updated so that it includes "everything". Before this
    change, nothing was actually redrawn, because the dirty area was empty.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/449
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 702fa1967c26cdd7c372c94d53e9b53c1cb730a6
Author: Clemens Kirchgatterer <clemens@1541.org>
Date:   Sun Sep 13 14:47:16 2015 +0200

    Improved fix for #240 by makeing instance local to client_menu_toggle_fn

commit 5e4318c15d742cb0fda26f441643409925d8ed34
Author: Kazunobu Kuriyama <kazunobu.kuriyama@nifty.com>
Date:   Mon Sep 7 23:13:36 2015 +0900

    Fix Mac OS X iconv library linking failure
    
    Add a path to awesomeConfig.cmake for searching an iconv library and the
    corresponding header file automatically if the build system is on Mac OS
    X which needs to pass the header and library paths explicitly to the
    compiler to build Awesome successfully.
    
    Closes https://github.com/awesomeWM/awesome/pull/440.

commit b3136c1329cbc290891a384f88fef9282633474d
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Aug 6 21:39:09 2015 +0200

    feat(themes: default): add icons for minimize button
    
    Closes https://github.com/awesomeWM/awesome/pull/394.

commit 09de5c8f53f498d50eac0d3473376a10db754330
Author: Clemens Kirchgatterer <clemens@1541.org>
Date:   Sun Sep 13 10:58:44 2015 +0200

    fix #420 (clients menu does not reopen instantly after closewith ESC)

commit a005ad22b1a1fecdbbafa99472e48b61333f3456
Author: Kazunobu Kuriyama <kazunobu.kuriyama@gmail.com>
Date:   Sun Sep 13 00:51:00 2015 +0900

    Correct indentation of keyboardlayout.lua
    
    Correct the indentation of keyboardlayout.lua, so that it complies with
    the vim modeline at the bottom of the file.

commit 205fae2aab2dd98721b2829a93406fd6aaa98854
Author: Kazunobu Kuriyama <kazunobu.kuriyama@nifty.com>
Date:   Fri Sep 4 16:08:18 2015 +0900

    Add new file spec/awful/keyboardlayout_spec.lua
    
    Add the new file spec/awful/keyboardlayout_spec.lua for the unit tests
    for improved keyboardlayout_sepc.lua.

commit 81e667feab00fb38d5a29bf738f1320aec812250
Author: Kazunobu Kuriyama <kazunobu.kuriyama@nifty.com>
Date:   Wed Sep 2 17:23:48 2015 +0900

    keyboardlayout: Extend allowable 'group_names' pattern range
    
    Extend the range of the 'group_names' patterns which is currently
    restricted to typical ones like
    
        pc+us+ru:2+de:3+ba:4+inet
    
    to more general ones such as
    
        macintosh_vndr/apple(alukbd)+macintosh_vndr/jp(usmac)+macintosh_vndr/jp(mac):2
    
    so that the keyboardlayout widget can handles all possible patterns
    returned by awesome.xkb_get_layout_group().

commit 475358050a8d51c49476c1873e117fab65d1854f
Author: Yauhen Kirylau <actionless.loveless@gmail.com>
Date:   Fri Sep 11 23:52:43 2015 +0200

    fix(lib: wibox: layout: constraint): s/base_widget/base/
    
    Closes https://github.com/awesomeWM/awesome/pull/446.

commit 57755b3db2013738fdfe9fc9aaed8d990d2da0aa
Author: Abdo Roig-Maranges <abdo.roig@gmail.com>
Date:   Thu Sep 10 00:32:02 2015 +0200

    Add missing hints argument in `awful.movetoscreen`
    
    Closes https://github.com/awesomeWM/awesome/pull/441.

commit 6d8347df906490804002e271486b157b4dc17f91
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Sep 10 20:45:29 2015 +0200

    ewmh.activate: make hints optional
    
    Ref: https://github.com/awesomeWM/awesome/pull/441.
    
    Closes https://github.com/awesomeWM/awesome/pull/444.

commit 5e577a10abebfb4280ff2497139b603b76ce67c1
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Sep 11 17:14:03 2015 +0200

    Fix wibox.hierarchy:draw()
    
    This accidentally called the draw callbacks with a nil argument instead of the
    context. This was introduced in some badly done rebase, sorry! :-(
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 52154d0f15b99b148c73934d27a49350803d02e5
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Sep 10 20:16:53 2015 +0200

    Fix client.cycle's screen param handling
    
    Broken since fc950f6.
    
    Closes https://github.com/awesomeWM/awesome/pull/443.

commit fbc72624d7cd8bc7a96d4a261e0f281be5614375
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Feb 3 12:45:30 2015 +0100

    Activate focused client with `awful.client.movetoscreen`
    
    The default config has this:
    
        awful.key({ modkey, }, "o", awful.client.movetoscreen                        ),
    
    This moves the client to the next screen and focuses that screen.
    
    But it does not ensure that the client is raised above any existing
    windows, e.g. when moving a floating client.
    
    This patch emits the `request::activate` signal if the client is
    currently focused, but only if the screen property actually has changed.
    
    Closes https://github.com/awesomeWM/awesome/pull/98.

commit 7ae58b3208f26ae8fa177de32190861d4fbdc4b6
Author: actionless <actionless.loveless@gmail.com>
Date:   Sat Sep 5 21:12:09 2015 +0200

    doc(lib: gears: surface): more verbose docstring
    
    Closes https://github.com/awesomeWM/awesome/pull/436.

commit ee001ce2f0cbc01d6eeaebde50467482af7b578a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 6 13:18:59 2015 +0200

    imagebox: Don't emit signals if same image is set again
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6b6b448b56cf738c1cdf2134487b16dc0d1a7760
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 6 10:33:51 2015 +0200

    wibox.hierarchy: Remove _parent member
    
    The parent was needed for :get_matrix_to_device() which recursively walked
    parents and multiplied together their transformation matrices. This is now
    replaced by calculating all these matrices while constructing the hierarchy.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dc73a4586a8cdd203af434d04cc127b6fc56c95b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 6 10:24:02 2015 +0200

    wibox.hierarchy: Stop recording _root
    
    There once was a function :get_root() on hierarchies, but that wasn't needed any
    more and thus was removed. This commit also removes the internal code that was
    used to record the root element of the hierarchy.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c62d323d093ded23ae65b3f3da21cb566107fdc0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 6 10:16:52 2015 +0200

    wibox.widget.base: Add caches for :layout and :fit
    
    These caches, well, cache the result of the :layout and :fit callbacks on
    widgets.
    
    Clearing caches is done by recording dependencies between a widget. When a call
    to base.fit_widget() or base.layout_widget() recursively causes another call to
    such a function, this means that the earlier widget depends on the later widget.
    This dependency is recorded and when the later widget emits
    widget::layout_changed, the caches of all the widgets involved are cleared.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 447492e986c97bfd12c77edae6114a32113efacc
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 6 10:00:27 2015 +0200

    Tests: Have only one place for stubbing widgets
    
    This makes the tests for wibox.hierarchy use test_utils.widget_stub() instead of
    having its own implementation of "fake widgets".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 45323f28012206b140b8062a437a1428597cf0bc
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Sep 6 09:57:52 2015 +0200

    Remove wibox.hierarchy:get_parent()
    
    It's unused.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5406ac6fe1a646ceab1025414ac7ce0fc7223d1e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 21 15:46:19 2015 +0200

    Add some tests for the textbox
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 958603410c4aa7c8751ca4694593e99b813b26f5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 21 15:04:14 2015 +0200

    flex layout: Test signal emission
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dcd4db69e6a12c06263a02bc8fa546457f82c102
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 21 14:58:13 2015 +0200

    fixed layout: Test signal emission
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0e7ae1cb25f19415688e5712faf09ddf36894911
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 21 14:53:16 2015 +0200

    align layout: Test signal emission
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7acb30de712e3a7f2f9b564bc8acc67c85656fac
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 21 14:27:44 2015 +0200

    Documentation overhaul for wibox.widget.base
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 26699d5ad70676479d05d6c733d17df0f0919f85
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 21 13:24:37 2015 +0200

    graph and progressbar: Convert to new system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0aa4304bda4069e3ad0dd0e99b7532342d362d6f
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 12 13:12:45 2015 +0200

    wibox.drawable: Convert to new widget API
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a430f6bc4c233c6a9c7d53f7752bd52677a4d006
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 3 21:08:54 2015 +0200

    Remove now-unused stuff from test_utils
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3338718b9324e463e3ed87f9eeba1d07fc8c4114
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 15:57:33 2015 +0200

    Merge wibox.layout.base and wibox.widget.base
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9b8cbf7539c7731e8cc38a95c366ee40ddc43cd7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:37:28 2015 +0200

    Convert the textbox to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 99ac1900908d3506ce255b1cafe7959ce2c61585
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:37:07 2015 +0200

    Convert the systray widget to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 121a5050b1bf6f25064e61d1c4484055fd751adb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:36:00 2015 +0200

    Convert the imagebox to the new layout system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 091ca697e6a7c2237302767807ac950abe082027
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:35:19 2015 +0200

    Convert the background layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b83eaf591544dd2dc5636aebf98e57afad7b5d1d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:35:01 2015 +0200

    Conver the rotate layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 85ab3f045b0b2ab06779aa84fe9f32915c5be382
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:32:58 2015 +0200

    Convert the mirror layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f2b1071875f2e6ea4a36cb2a8d2d69f6b11fb7b7
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:32:35 2015 +0200

    Convert the margin layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 746cc2340234444217b1514ef1c6a5d4cbdf2173
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:31:17 2015 +0200

    Convert the constraint layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 496fbde9b4f6288497af6d20c47786ab855642df
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:17:05 2015 +0200

    Convert the flex layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 199b5538953c92db1cdf01cce3350584751a34ec
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:12:44 2015 +0200

    Convert the fixed layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e67e2813e91cfbdcab99c1ff8977b796a3a80d24
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:03:29 2015 +0200

    Convert the align layout to the new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 02f67b61b47482306865e6307ad33c902c1efa01
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 12 11:53:01 2015 +0200

    Add a widget hierarchy implementation
    
    A widget hierarchy describes the position of widgets. The hierarchy is a
    recursive tree of widget hierarchy instances. This functionality depends on a
    :layout function that is not yet implemented on widgets, but will be added
    later.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4785b63755c2b180ff636f1f0f5cb85dd9052c0f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 16:01:56 2015 +0200

    Prepare wibox.widget.base for new widget system
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 32a4a0e26167ee297588770087c701edaac9d26d
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Sep 3 00:42:51 2015 +0200

    fix(themes: xresources): reduce useless gap size and increase border width
    
    Closes: https://github.com/awesomeWM/awesome/pull/386.

commit e023fd064074bc9b98632503b0bd7e042dfe1171
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Aug 6 18:54:06 2015 +0200

    fix(lib: gears: color): use surface for recolor

commit 9c750ede63bd14ea84c23f385711490b0eb3a54f
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Aug 2 20:50:31 2015 +0200

    refactor(themes: xresources): move recoloring to theme assets

commit d1f13975dd8618fbafb8fb5d05761fcb254f731b
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Aug 2 12:56:57 2015 +0200

    feat(themes: xresources): recolor titlebar icons; improve comments

commit 2f340f05ffcdf109340507617c22974f1e65733d
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Aug 2 12:46:44 2015 +0200

    feat(themes: xresources): recolor layout icons

commit 47ba4729a42ea4dfb89fe2f55bc2c3c0bb8c7295
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Aug 2 12:38:42 2015 +0200

    refactor(themes: xresources): inherit theme from default one

commit a3c550804ccc830c3939fc200f422302e8781854
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Aug 2 12:34:54 2015 +0200

    refactor(themes: xresources): move assets to a separate file

commit a251331683f040be0154f1319b9a9bf5d3aa2a92
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Aug 30 13:01:59 2015 +0200

    awful.rules: factor out `matches`
    
    This factors out `matches` and uses it in `matches_list` (renamed
    from `does_match`) to short-circuit the successful case - where not all
    rules have to get checked.
    
    Closes https://github.com/awesomeWM/awesome/pull/431.

commit 285f24d234c26a2dfa9e4ac4924ba093ddfc95cc
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Aug 28 19:56:12 2015 +0200

    Fix awful.rules.does_match: use _rules as arg

commit ad9e57d0c16b8020ab5275f5430a6f13e5919715
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Sep 3 19:57:57 2015 +0200

    spawn_with_line_callback: Add missing return
    
    Whoops.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3c4a80ca7e9500a57ebdac9bb0cf84ff8a363e12
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Aug 13 11:00:12 2015 +0200

    Add a test for awful.util.spawn_with_line_callback
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0e20fef2bde2ee5d0a40d3466d83bf4aef866807
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Sep 2 22:18:33 2015 +0200

    Add awful.util.spawn_with_line_callback
    
    This new function spawns a program, similarly to awful.spawn, but captures its
    output. On each line of output on stdout / stderr, a Lua function is called with
    this line. There are different callbacks for stdout and stderr. When both stdout
    and stderr are closed, another callback function is called. The intention for
    this last callback is "the program is done", because most programs should only
    close their output when they exit.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c7d375790d10afd05fdc09961c39dc33265fdb92
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 23:47:37 2015 +0200

    awful.widget.common.list_update: expose textbox to label callback
    
    This allows the "label" callback to adjust the textbox itself.
    `tasklist_label` is changed to make use of it and supports new style
    arguments: `font_focus`, `font_urgent` and `font_minimized`.
    
    Closes https://github.com/awesomeWM/awesome/pull/313.

commit 62622f79358c9037f33b0c592b7a9b4ea29371ab
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Aug 18 22:54:29 2015 +0200

    Do not unset max/fullscreen when setting the other
    
    From http://standards.freedesktop.org/wm-spec/latest/ar01s05.html:
    
    > _NET_WM_STATE_FULLSCREEN indicates that the window should fill the
    > entire screen and have no window decorations. Additionally the Window
    > Manager is responsible for restoring the original geometry after a
    > switch from fullscreen back to normal window. For example, a
    > presentation program would use this hint.
    
    awesome prefers fullscreen internally already.  With this patch, the
    previous maximized state will be restored after leaving fullscreen mode.
    
    Fixes https://github.com/awesomeWM/awesome/issues/245.
    Closes https://github.com/awesomeWM/awesome/pull/418.

commit 1beda989e589469a84f6bce085ff94c33cb87020
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Aug 13 10:57:29 2015 +0200

    tests/_runner.lua: Load all dependencies
    
    This tried to use awful, but didn't load awful itself. Kids, this is why you
    should make your variables local!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a0f8948c719c9b81f458b9ace2b531b9bce7452e
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Aug 29 20:47:10 2015 +0200

    menubar: fix height to be rounded
    
    Fixes https://github.com/awesomeWM/awesome/issues/414.
    Closes https://github.com/awesomeWM/awesome/pull/432.

commit bcc1751fca11736fcf9b7b183ecaba8f9596ad71
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Aug 13 15:48:56 2015 +0200

    fit_widget(): Sanitize the result of :fit()
    
    After this change, fit_widget() enforces that a widget cannot ask for more space
    than was offered to it. This also fixes a rounding issue in the flex layout
    where its fit function would return too small numbers.
    
    Thanks to this, lots of "XXX" comments in spec/ disappear.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3fbd16d9a3458b39dc762a45a89f01d2c04aa60e
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Aug 13 15:42:39 2015 +0200

    wibox.layout.align: Correctly size second widget
    
    In expand nodes "none" and "outside", the variable size_remains describes how
    much space is available for the first/third widget. Everything else is used by
    the second widget. Thus, fitting the second widget to anything involving
    size_remains is wrong. Instead, this commit uses the correct value.
    
    This also fixes a messed up argument order for horizontal align layouts.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9408b61a974bc351e285592f36b2e325c66d5cf2
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Aug 14 14:39:43 2015 +0200

    drawin: lazily configure drawin windows
    
    Ref: https://github.com/awesomeWM/awesome/issues/411.
    Source: https://github.com/awesomeWM/awesome/pull/174#commitcomment-12708326.
    (With some minor changes)

commit 462055cb36ffabb022333509a6eaadfe7bf50e35
Author: Tim Roes <mail@timroes.de>
Date:   Sat Aug 22 14:50:42 2015 +0200

    Add finish callback to awful.mouse.client.move

commit 05da320c28cfc0c887ce068d0ca5f732694ff536
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Aug 14 15:34:54 2015 +0200

    tooltips: re-place them on width/height changes
    
    If the dimensions of a tooltip change, e.g. after the text has been
    changed, they are now placed again.

commit 66c4ff7f2cf32bdfb79d92ac5f5eb38333a9178b
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Aug 14 03:02:52 2015 +0200

    doc: awful.placement.no_offscreen

commit b600b143b6c18ed00028a25ebb196fec28dcaa66
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Aug 14 03:00:43 2015 +0200

    tooltip: re-add `no_offscreen` back to `place`
    
    The tooltip might be partly outside of the screen, and especially the
    workarea, e.g. for tooltips on the tasklist.
    
    Calling `awful.placement.no_offscreen` makes sure that it is fully
    inside, and will even restrict it to the workarea, not only to the screen.
    
    Closes https://github.com/awesomeWM/awesome/pull/409.

commit b33cffd851014f171c8c638e01e7cafb372e21dc
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Aug 13 16:12:29 2015 +0200

    doc: textbox:set_markup: link to Pango markup documentation

commit 4bfddbb3f87e93c6fc27d44304afa79fbaf540df
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Aug 13 12:59:57 2015 +0200

    tests/run.sh: Start Xvfb with -noreset
    
    When using Xephyr, this already starts the server with -noreset, but for Xvfb we
    also need this flag. Without this flag, the DPI value that is set via xrdb gets
    lost at server reset.
    
    This wasn't a problem before commit 6d4837a53abb. That commit moved the launch
    of the dbus session after the setting of the DPI. So previously, waiting for
    server startup was half broken (the dbus session already tried to connect to the
    server to check for when it shuts down), but due to this no server reset
    occurred and thus the DPI was correctly applied. After this commit, the server
    immediately resets after xrdb is done setting the DPI and the value set is lost.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d2407c3de19cf26a75e82822c1da43acb86e1e7a
Author: Grigory Mischenko <g.mischenko@netrika.ru>
Date:   Thu Aug 13 12:26:43 2015 +0300

    Widget opacity: draw with alpha only if transparent

commit 953cdf416e3296f25c69bb7b1293b29ec39b66ba
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Aug 13 09:09:14 2015 +0200

    lgi-check.sh: Add dependencies to GLib and Gio
    
    GLib is already used in three part of awesome (awful.widget.textclock,
    gears.timer and menubar.utils). Gio will soon be added.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2d8bf89ff9e87fc05c52b6c05c3cbe0ff9bb8644
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Aug 13 09:05:52 2015 +0200

    awesome.spawn(): Add possibility to return pipes
    
    This adds three new arguments to awesome.spawn() that tell it to return pipes
    for stdin, stdout and stderr of the spawned process.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 03663fe778794c2e4229a4d03a0bd24060f3b6a0
Author: kindlycat <grishkokot@gmail.com>
Date:   Wed Aug 12 22:31:06 2015 +0000

    Add "opacity" property for widgets

commit f79b083e97aab2a2ba0bc5b10e93407a10ec8031
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 12 10:26:27 2015 +0200

    Force systray redraw on BG color change
    
    This commit makes awesome track the current background color of the systray
    window. When Lua applies another color, a redraw of all icons is forced.
    
    Fixes: https://github.com/awesomeWM/awesome/issues/359
    Closes: https://github.com/awesomeWM/awesome/pull/402
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 57ec268b8e0e3666a29a25305f68e6031a2d9e48
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 29 20:20:53 2015 +0200

    tasklist: handle transient_for with skip_taskbar clients
    
    Ref: https://github.com/awesomeWM/awesome/issues/182

commit 1aa1c8052db101744735d7f2d8788dd045bb7b28
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 29 20:18:29 2015 +0200

    Add client.get_transient_for_matching and .is_transient_for

commit 11473aa49071866c15da6f46dec82081182fa123
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Aug 12 14:18:57 2015 +0200

    Use awful.util.round in beautiful.xresources.apply_dpi

commit fe235b7fb71d0e080f03940402f2256995cbc656
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Aug 12 14:14:14 2015 +0200

    awful.wibox: round x/y/width/height wibox arguments
    
    Ref: https://github.com/awesomeWM/awesome/pull/320#issuecomment-130212116

commit f5ed8848e7bb37fa47c94556efe374f115a4ede7
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Aug 12 14:10:10 2015 +0200

    Use awful.util.round in wibox.layout.flex

commit 977bd9a60eb79ba45fe3c8059028dd00c8837d2f
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Aug 12 14:09:45 2015 +0200

    Add awful.util.round

commit 178f479d15640ed904f43267c24420223058902d
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 16 15:33:20 2015 +0200

    drawin.c: check for integer for x, y, width, height
    
    This adds luaA_getopt_integer, luaA_optinteger and luaA_checkinteger.
    
    Lua 5.2 does not have support for this, but it would be available in Lua
    5.3.
    
    Closes https://github.com/awesomeWM/awesome/pull/320.

commit 251673f8b23691af0fbc6b49f5c6a86b32080420
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Aug 2 19:38:26 2015 +0200

    tooltip: use new next_to_mouse placement
    
    This should take care of not placing the tooltip outside of the screen
    already, so the call to `awful.placement.no_offscreen` can be skipped.

commit 9803af1b1fb778ae723c0f2886a506dbd6fd8745
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Aug 2 19:36:56 2015 +0200

    Add awful.placement.next_to_mouse

commit 1ebc34b5e9c31b82013ed7ef2c59716d31333267
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 8 13:43:35 2015 +0200

    Widgets: Also add a context argument to :fit()
    
    Together with the context argument to :draw(), this even allows widgets to have
    DPI-dependant size.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 88b98789a055616aece6df5422dcbedf1dadd4e0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 8 13:18:54 2015 +0200

    Rename the first argument to :draw to "context"
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 31b69dbe1a48f60aff54808fc434accf227ad743
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 8 13:13:47 2015 +0200

    drawable: Use a context table as first argument to :draw()
    
    This table contains the drawable, wibox and titlebar that we are drawing on, but
    also includes the screen and the DPI of that screen. This allows widgets to
    depend on the DPI in their rendering.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e5a9eef1574a24074f7e05ead887b29ae2251be4
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 8 13:09:25 2015 +0200

    Widget drawing: Add a traceback on errors
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d122b825ee3ebdf66399998e13a234415ad58185
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 8 13:08:21 2015 +0200

    gears.timer: Fix the traceback on errors
    
    With the second argument being 2, the traceback will not include the error
    handling function, but instead end at the actual place of the error.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3685077291f48ef3149d33ea1b3a5c31aa52b78e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 25 15:59:41 2015 +0200

    rect_to_device_geometry: Use gears.matrix.transform_rectangle
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 19b9bfc46ee851e1d242ee19aebfbbee1d7cf855
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 25 15:52:53 2015 +0200

    Move wibox.layout.rect_to_device_geometry to wibox.widget
    
    Having two modules named "base" is confusing and "wibox.layout" doesn't contain
    much useful stuff. This is a first step for removing wibox.layout by moving a
    function which should only ever be used internally in awesome.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 16a1ef0f48d8ac3b3905f50de22fea9a76da2f24
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 13 16:58:22 2015 +0200

    Add gears.matrix for working with cairo matrices
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 74276b3a1171bbb819552e9394e4e5b9baff66cf
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Aug 11 13:29:49 2015 +0200

    gears.timer: Add a note about GC'ing timers
    
    Ref: https://github.com/awesomeWM/awesome/issues/216
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0367af2be9f773582df1e7fb53cf59498d1ceadd
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Aug 11 13:21:32 2015 +0200

    gears.timer: Add simpler ways to start timers
    
    This adds gears.timer.start(timeout, callback) that creates a timer object and
    connects a callback to it, all in one go.
    
    Additionally, this adds gears.timer.weak_start(timeout, callback). The weak
    version still allows the callback function to be garbage collected and will then
    stop the timer.
    
    This was tested with the following code:
    
      require("gears.timer").start(0.3, function()
        print("ping")
        if collectgarbage("step", 500) then
          print("collection done")
          error("err")
        end
        return true end)
      require("gears.timer").weak_start(0.1, function()
        io.stdout:write(".")
        return true
      end)
    
    After a full collection cycle, both timers are stopped. The first one is stopped
    because of the error() that it generated. The second one is stopped because the
    callback function was garbage collected.
    
    Ref: https://github.com/awesomeWM/awesome/issues/216
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit cbba6157487f27c28355027059396a73615e1b73
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 5 17:58:10 2015 +0200

    tests/run.sh: Show full error messages
    
    If an error occurs during startup, tail might not show the full error message.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0ee24317c740ef02427044bb49b0d932388d7d6f
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 5 17:57:50 2015 +0200

    tests/run.sh: Temporarily disable -x in wait_until_success
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 17e8827212614aacc345f5285813e5ef229317ac
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 5 17:48:09 2015 +0200

    tests/run.sh: Factor out a helper function
    
    This factors out a function wait_until_success that runs some command until it
    succeeds (with a timeout) and uses this function in the two places where this
    was already done before.
    
    Note that this removes the "kill -0" trick for early exit again and instead will
    use the timeout in case awesome dies during startup.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0688e8899e5b5c8f73282cf421b5f66b08db99c1
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 5 17:44:00 2015 +0200

    tests/run.sh: Allow execution without installing
    
    When this script is not run under Travis, it will prepare a temporary config
    file and a theme file that point to the files that were not yet installed.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d8a1b563e7beff2d8b736abb42d237979a3f8d3e
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 5 17:41:26 2015 +0200

    tests/run.sh: Use a temporary directory
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 41d81a4501f4f23d2a1dbd2f05adf3cea46662bd
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 5 17:36:21 2015 +0200

    tests/run.sh: Move definition of AWESOME_CLIENT up
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6d4837a53abb04bbceff99ec91c9fe8b26c6430d
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 5 17:10:56 2015 +0200

    tests/run.sh: Start dbus after X server startup
    
    The code does some dances with xrdb to ensure that the server finished starting
    up. However, before this it already tries to access the server via dbus-launch.
    
    Since nothing uses dbus in this part of the code, we can just move this down.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b47eabf4f042c16c72350b02bd22d51659bf29d3
Author: actionless <actionless.loveless@gmail.com>
Date:   Tue Aug 11 22:43:17 2015 +0200

    feat(lib: awful: layout: suit: tile): add 'resize_jump_to_corner'

commit e47773933c3a1905d5465e686f4a112b7e52bcab
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Aug 11 18:52:10 2015 +0200

    Bump required lgi version to 0.7.1
    
    Ref: https://github.com/pavouk/lgi/issues/41
    Ref: https://github.com/awesomeWM/awesome/pull/392

commit 85facc03919980d2225dbdfa50a2cb400688b284
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Aug 5 19:58:00 2015 +0200

    tests/run: handle 'expr 1 - 1' (exitcode 1); check for running awesome

commit 71f549ee79a0b86727a7f5b71e7791ac44b7fc05
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Aug 5 16:45:01 2015 +0200

    Travis: add lgi 0.7.0 to the build matrix
    
    This makes sure that the build and tests succeed with the minimal required
    version.

commit 008cae50b2c30c80f90da8f307de64d48077cea6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 17:59:25 2015 +0200

    awful.widget.keyboardlayout: Rename private members
    
    I'm working on something that adds :layout functions to widgets. This clashes
    with the keyboardlayout widget's use of an entry with this name. This change
    adds an underscore as a prefix to the private data members of the
    keyboardlayout.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 68b0fa243ff828abd0a766a18c87755730676f9d
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 17 18:23:55 2015 +0200

    Add "visible" property for widgets
    
    Widgets with `visible = false` will not be drawn.
    
    Closes https://github.com/awesomeWM/awesome/pull/326.

commit 5ad3f032834b75ecdefb9abaaca134e8fc0c5f7c
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 28 15:07:23 2015 +0200

    keygrabber: ignore modifiers for name of control keys
    
    `xkb_state_key_get_one_sym` returns `Meta_L` for a (release) event of
    `Alt_L` when Shift is pressed.
    
    This patch changes it to use `xcb_key_symbols_get_keysym` in the same
    way like normal key handling does it in `event_handle_key`.  This was
    changed in 372d12e, but apparently forgotten for the keygrabber.
    
    Closes https://github.com/awesomeWM/awesome/pull/364.

commit 2b224dd954ed292d6854709e605b0500728a4f72
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Aug 4 21:29:29 2015 +0200

    tests: use root.fake_input instead of xdotool
    
    Ref: https://github.com/awesomeWM/awesome/issues/328.
    Closes: https://github.com/awesomeWM/awesome/pull/391.

commit d5818d0e1a4ae5fcb5a8e3fa02d3e750addfd90a
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Aug 7 18:50:08 2015 +0200

    feat(lib: awful: layout: suit: floating): add 'resize_jump_to_corner'

commit ccaa8154bef56d5e08ae52f7dbd3e8ee1fc52250
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Aug 4 21:29:29 2015 +0200

    tests: use root.fake_input instead of xdotool
    
    Ref: https://github.com/awesomeWM/awesome/issues/328

commit baeb8fd2b59aa9bc769d5b4288f27b182e23765d
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Aug 2 18:03:50 2015 +0200

    client_resize_do: remove honor_hints argument
    
    This was only used by client_resize before, which now handles this
    itself.
    
    Ref: https://github.com/awesomeWM/awesome/pull/383#commitcomment-12483405.

commit 56d9e3b9dee53fca367ed7de95e461129afc867c
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Aug 1 16:44:20 2015 +0200

    client_resize: apply size hints before calling client_resize_do
    
    This will skip calling `client_resize_do` in case of honored size hints.
    
    This could be also done in `client_resize_do`, but it appears to be
    meant to force the resize.
    
    Closes https://github.com/awesomeWM/awesome/pull/383.

commit b028a0ba1d56a23de8ebd848570836226830a507
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Aug 2 21:51:06 2015 +0200

    xresources.apply_dpi: use "round" instead of "ceil"
    
    Given an outcome of e.g. 1.01 its more sane to use 1 than 2, especially
    for `border_width`.
    
    This uses the method from `wibox.layout.flex`.
    
    Closes https://github.com/awesomeWM/awesome/pull/389.

commit 88ba798ae3f995586d05592cd11c8e2ea8b040ea
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 27 15:57:11 2015 +0200

    Travis: apidoc: script, compare view, PR comment
    
    This moves the apidoc uploading to build-utils/travis-apidoc.sh, which
    makes it more pleasant to maintain/read.
    
    Additional enhancements:
     - handle all branches and PRs, and provide compare view links as a comment
       for the latter, via awesome-robot.  This gets skipped for PRs for
       forks, because then the Github secret is not available for security
       reasons.
     - use a merge commit to keep relevant changes and boilerplate together.
     - simplified/shorter AWESOME_VERSION override.
     - add last commit message of the repo to the apidoc's commit message.
    
    Closes https://github.com/awesomeWM/awesome/pull/358.

commit ecddee44cb72c2211e188b97886f0a2ca6925ab5
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Aug 1 19:16:41 2015 +0200

    Apply left/top titlebars in event_handle_configurerequest
    
    I have noticed that the HeidiSQL session manager window/dialog will be
    moved down by the height of the top titlebar when selecting an entry
    from the server list.
    
    Closes https://github.com/awesomeWM/awesome/pull/385.

commit 9883d3484dd8b335f589235103fab6fe4d80c81f
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 21:03:58 2015 +0200

    titlebar: add tooltips for icon buttons
    
    This uses the button name in the tooltip's text.

commit 14e63fbcd7bd444a9b6afa8ccaa3eb69a65c4fcd
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 20:59:43 2015 +0200

    awful.tooltip: do not hide when entering its wibox
    
    Because of `placement.under_mouse` (and without
    `placement.no_offscreen` fixing it), this will cause the tooltip to hide
    immediately again.
    
    There is no need for hooking into this signal, but this adds a click
    handler to close the tooltip when clicking into it.

commit a8d224ef5c53e9f9a7efe7fb539610f2e24f9584
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 19:02:01 2015 +0200

    doc: fix for set_markup

commit 6880835c2603d5b2d0a6ac89cf5909dc112df5dc
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 18:55:22 2015 +0200

    tooltip: delay_show: stop timer, handle (non-)stopped timers
    
    This splits the logic for `delay_show` out of `show`/`hide`, and handles
    an already stopped timer.  The timer gets also stopped after the tooltip
    has been displayed.
    
    Ref: https://github.com/awesomeWM/awesome/issues/371.

commit 9bcd87c727e84941c6fcb2db5e83b827b092f103
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 18:50:02 2015 +0200

    awful.tooltip: skip set_geometry if not visible
    
    `set_geometry` will be called in `show`, and is not necessary when the
    tooltip is not visible.

commit 87ee4808536b7e8b55c6874a0405d92878c08ea9
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 14:32:30 2015 +0200

    CMakeLists.txt: a_icon_convert: skip existing sources
    
    Fixes: https://github.com/awesomeWM/awesome/pull/215#issuecomment-103185810.

commit 95b932c4dbe418fc7809e566827de67649288458
Author: Hajime Branko Yamasaki Vukelic <branko@brankovukelic.com>
Date:   Mon May 4 12:33:53 2015 -0400

    Replace the default theme titlebar icons
    
    Closes https://github.com/awesomeWM/awesome/pull/369.

commit 5b60bc212a0d4105931f3de193d8d69ef8153ae7
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Aug 1 18:25:10 2015 +0200

    textbox.set_markup: handle `parsed.message` from Pango.parse_markup
    
    Ref: https://github.com/pavouk/lgi/issues/115
    Fixes: https://github.com/awesomeWM/awesome/issues/301

commit 5c446c9c09ef7f6c30de6a330e4cc652f2d5f024
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Aug 1 18:23:52 2015 +0200

    luaA_dofunction_on_error: call luaL_tolstring on error
    
    This prevents a follow-up error through lua_concat, in case the error is
    not a string.
    
    Ref: https://github.com/awesomeWM/awesome/issues/301

commit 0ea2bbb126374c34339c6e635ade289157691ba2
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 15 18:38:57 2015 +0200

    awful.menu: use beautiful.xresources.apply_dpi for margins

commit 5c78cf07fcc833a5f7b7f0dde8a857446732f34b
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 15 18:35:52 2015 +0200

    naughty: use beautiful.xresources.apply_dpi for margin and border

commit 4a3589aad426ee0d242e1da5048e1b76fdb6f250
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 23:27:24 2015 +0200

    widget.common.list_update: improve margins (dpi / imagebox)
    
    Use `beautiful.xresources.apply_dpi` for `common.list_update`'s textbox
    margins, and add a left margin for the imagebox, too.
    
    The latter is useful/nicer with the default behavior of an inverted
    style for the focused tasklist entry.

commit 1118ec44391b70e22dadcbc5f8b2397bdb79bafb
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 28 18:52:41 2015 +0200

    Do not call `xcb_ungrab_key` twice (before `xwindow_grabkeys`)
    
    It gets called in `xwindow_grabkeys` always:
    
        xwindow_grabkeys(xcb_window_t win, key_array_t *keys)
        {
            /* Ungrab everything first */
            xcb_ungrab_key(globalconf.connection, XCB_GRAB_ANY, win, XCB_BUTTON_MASK_ANY);
    
    Closes https://github.com/awesomeWM/awesome/pull/366.

commit 09dce08fd4d759bb76f5f646e55c83749b1cad14
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 18:44:18 2015 +0200

    gears.debug: add support for limited depth
    
    This is useful with big tables and might even be necessary to prevent
    infinite recursion.
    
    To prevent the latter, the default is 10.
    
    This adds an indicator when `depth` is reached for tables.
    
        awesome# return require("gears").debug.dump_return(t4, "", 2)
           string " : table: 0x1580130
          1 : table: 0x16951d0
            1 : wibox.widget.base (table) [‚Ä¶]
            2 : wibox.widget.base (table) [‚Ä¶]
            3 : 4 (number)
            4 : 5 (number)
            5 : foo (string)
          2 : table: 0x16ac790
            1 : table: 0x16951d0 (table) [‚Ä¶]
          3 : table: 0x16cc500
            1 : table: 0x16951d0 (table) [‚Ä¶]
            2 : table: 0x16ac790 (table) [‚Ä¶]"
    
        awesome# return require("gears").debug.dump_return(t4, "", 1)
           string " : table: 0x1580130
          1 : table: 0x16951d0 (table) [‚Ä¶]
          2 : table: 0x16ac790 (table) [‚Ä¶]
          3 : table: 0x16cc500 (table) [‚Ä¶]"
    
    Closes https://github.com/awesomeWM/awesome/pull/372.

commit d3b682f2b684316580f7a83027c3ea0741389d0a
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 21:14:40 2015 +0200

    wibox: add __tostring metamethod

commit 430e8664be753020d21a2396c9aee2fd7d2522b2
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 21:12:41 2015 +0200

    wibox.drawable: add __tostring meta method

commit fa6b7c390fbbb3afeca011d1722e45f0268aeda1
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 21:09:08 2015 +0200

    make_widget: keep original "tostring" value in parenthesis
    
    This provides the usual table ID, which can be useful during debugging.

commit 475b469f9620768e7470cb166716b29f740fbec4
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 30 20:29:07 2015 +0200

    doc: tooltip: add type/optional information
    
    Closes https://github.com/awesomeWM/awesome/pull/379.

commit 95743683fe24903868b9ff11ad1e63d6e14843b5
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Jul 30 09:21:59 2015 +0200

    style(lib: awful: tag): fix docs

commit 836aded9885f34bf74f35df00596b5c9d0fc3f41
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 30 01:18:52 2015 +0200

    Travis: build apidoc only once, for latest Lua

commit 4aa6c33951ac6a32ce4ae49fdff71b00773184cb
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 19:04:00 2015 +0200

    awesome_atexit: keep client order always
    
    This is not only useful for soft restarts, but also when TERMinating
    awesome during development/testing.
    
    The drawback appears to be that it would leak a property on the root
    window in case it is really meant to be quit.
    
    Closes https://github.com/awesomeWM/awesome/pull/374.

commit b75f374d9c301324b5894647deaa021e3eaaa782
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Jul 29 21:01:38 2015 +0200

    Fix sporadic test failure due to lgi
    
    With version 2.0rc5, Busted started cleaning up between tests more thoroughly.
    The result was that it managed to unload and reload lgi. However, the C part of
    lgi is not safe to be reloaded. This caused sporadic errors in the test suite
    runs.
    
    Work around this via a helper script that is run before Busted starts running
    tests. When we load lgi in this helper script, it is loaded before Busted starts
    saving and restoring everything and thus lgi won't ever be unloaded.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3942672d31a8cb0ce68c164d8ef48c2199d4cb88
Author: Abdo Roig-Maranges <abdo.roig@gmail.com>
Date:   Wed Jul 29 16:49:48 2015 +0200

    Fix missing parenthesis to a call of screen.focused
    
    Closes https://github.com/awesomeWM/awesome/pull/370.

commit d5eef64a5d12c2438323f881ab4984fff1432f70
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 29 04:16:57 2015 +0200

    Travis: remove cmake from apt-get install, we install a more recent one anyway

commit 861cfc591518624bd4cb8d338f47a4c7652085d6
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 22 03:03:53 2015 +0200

    wibox.widget.textbox: skip setting unchanged layout properties
    
    In case the text, markup or other layout properties have not changed, there's
    no need to update the widget.
    
    Based on https://github.com/psychon/awesome/blob/5a2a5d03d35456520980f50f05a90f8ea29cf5ec/lib/wibox/widget/textbox.lua.
    Closes https://github.com/awesomeWM/awesome/pull/335.

commit 0713e2e50d852347f3b464b39396c951e750ae5f
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Jul 28 21:29:05 2015 +0200

    Add a missing "_" in "__newindex"
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 481cd8f84380c4815a5f62ba43a3b2157e27b89c
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 28 18:47:37 2015 +0200

    minor: doc: fix typo in buffer_init

commit b08d3caba89cd5d65c668f3f44cb96a58b94f71f
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 15 19:00:21 2015 +0200

    awful.widget.layoutbox: add tooltip with the layout's name
    
    Closes https://github.com/awesomeWM/awesome/pull/322.

commit 355e4696ba496b0576486a089c13ddcad65a25b7
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 20:52:16 2015 +0200

    Preserve old mousegrabber behavior (additionally)
    
    18f6ab1 changed the behavior when resizing floating clients using the
    mouse (via modkey + RMB).
    
    Previously, you could initiate the mousegrabber using e.g. "modkey +
    RMB", release the key and button, and resize the window using the left
    mouse button.
    
    This restores this behavior by canceling the mousegrabbers only if the
    cursor was moved, without _any_ mouse button being pressed.
    
    Fixes https://github.com/awesomeWM/awesome/issues/309.
    Closes https://github.com/awesomeWM/awesome/pull/310.

commit 5e6f104e0e12d0e7322d3f21af5fd35b9a1b478c
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 28 04:06:10 2015 +0200

    Use luaL_traceback only with Lua 5.2+
    
    It has been added in Lua 5.2, and should not require us to bump the
    Lua dependency.  It is only meant to provide useful information, but is
    not required.
    
    This is a follow-up to 6e97b5f8.

commit bed8b26c6089d128f39045cf9d774906c9097bbb
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 28 03:58:52 2015 +0200

    Travis: add Lua 5.1 to the build matrix
    
    Closes https://github.com/awesomeWM/awesome/pull/362.

commit 904b7a88ee383a3cc2330f38a3c6315facd63850
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 27 15:54:47 2015 +0200

    doc: overhaul naughty documentation

commit f7e7d0504722feb6ec6d8a88c6c2df8f1e3da54c
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 27 15:32:11 2015 +0200

    doc: naughty: config.mapping moved to dbus.config.mapping

commit efe5358a0bdab0d62615a3580445d26529247138
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 27 14:35:46 2015 +0200

    naughty.notify: default to screen.focused()

commit fc950f6921c0940adf76c268e305218577f4b6fd
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 22 02:42:35 2015 +0200

    Fixes to awful.client's lazy-loading of awful.screen
    
    At least awful.client.getmaster was broken:
    
    > lib/awful/client.lua:450: attempt to index global 'awful' (a nil value)
    
    This uses a metatable to simplify handling the cyclic dependency to
    `awful.screen`.
    
    Follow-up to cbe684e (https://github.com/awesomeWM/awesome/pull/94).
    Closes https://github.com/awesomeWM/awesome/pull/334.

commit c94549217613281e86565946149bb9cf3b3c67b9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 26 17:03:10 2015 +0200

    Keep client order across restarts
    
    This saves the order of clients in a property called AWESOME_CLIENT_ORDER on the
    root window during shutdown. During startup, after managing all existing
    windows, we force the client list into the order described by this property
    (overwriting any changes that Lua possibly did).
    
    This code should safely handle cases where the property doesn't contain all
    existing clients or contains a client which doesn't exist anymore.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 86e242b9831a968285da0dce1fa65aef4bf206a2
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 26 15:59:34 2015 +0200

    Keep stacking order across restarts
    
    ReparentWindow puts the window at the top of the stacking order. Thus, we have
    to reparent clients back to the root window in the stacking order.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit af06a47ad02cdcfb52424c05b29b0829781a8e07
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 27 01:22:16 2015 +0200

    Travis: update docs only for relevant changes
    
    It uses "diff -I .." to check if there are relevant changes, and then adds
    them in two separate commits.  This allows to more easily see real changes to
    the documentation.

commit 68ad2529a4d6e61ef650e4ae51bec5124e6c28fa
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 23 21:42:54 2015 +0200

    wibox.widget.base: add __tostring method to widgets
    
    Fixes https://github.com/awesomeWM/awesome/issues/337.
    Closes https://github.com/awesomeWM/awesome/pull/341.

commit 705f965915e39f602bf577e9735826b81e1686f8
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Jul 26 03:09:07 2015 +0200

    fix(themes: xresources): add icons for corner layout
    
    Closes https://github.com/awesomeWM/awesome/pull/355.

commit d5e365804ca7823799fbfc85691d12d39e52cd70
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 21 15:31:18 2015 +0200

    screen_client_moveto: only emit property::screen if it changed
    
    While debugging #331, I have noticed that the call to `client_resize`
    might have changed the screen (and emitted the signal) already, via
    a call to `screen_client_moveto` with `doresize=False`.
    
    Closes https://github.com/awesomeWM/awesome/pull/332.

commit 6d323e7c045cda1d8495e1545d344a8282d14ff7
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 25 00:00:07 2015 +0200

    doc: distinguish between client.object and client.class
    
    Instead of `client.client`, the client object is now referred to as
    `client.object` and the client class as `client.class`.
    
    This moves the documentation of `client.focus` to the class.
    
    Closes https://github.com/awesomeWM/awesome/pull/349.

commit 4de435dd540f642734c02c61a8f714d559eec667
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 25 17:29:43 2015 +0200

    CMakeLists.txt: Add COMMENTs to both check targets
    
    These are printed by CMake when starting these targets.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c1ea77dab138268bf19da71dbeca00cbe6371b70
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 25 17:24:14 2015 +0200

    Add integration tests to 'make check'
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8a628bed7ee309259040d0d030c93c26770d5372
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 25 17:22:07 2015 +0200

    CMakeLists.txt: Remove "test" target
    
    This gets rid of the following CMake warning:
    
    CMake Warning (dev) at CMakeLists.txt:341 (add_custom_target):
      Policy CMP0037 is not set: Target names should not be reserved and should
      match a validity pattern.  Run "cmake --help-policy CMP0037" for policy
      details.  Use the cmake_policy command to set the policy and suppress this
      warning.
    
      The target name "test" is reserved or not valid for certain CMake features,
      such as generator expressions, and may result in undefined behavior.
    This warning is for project developers.  Use -Wno-dev to suppress it.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7b233f3d372a5174d59319eb7dca4468d93b62c5
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 25 23:33:40 2015 +0200

    awesome-client: do not send empty requests

commit 27fb1707444b7767e569bb43cad5ab6402b8224b
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 25 20:12:45 2015 +0200

    screen_getbycoord: fallback to nearest screen
    
    This removes the handling of negative x/y from `screen_coord_in_screen`,
    which was added in 0f840d2e and does not make sense in
    screen_coord_in_screen.
    
    Ref: https://github.com/blueyed/awesome/commit/50982fc0827a7a1868e23fc7124db1a38adfe275#commitcomment-12358053.
    Ref: https://github.com/awesomeWM/awesome/pull/331.

commit 0af7ce375a36ddce9435c1786ef4a64fbeae75f5
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 23 16:46:28 2015 +0200

    awful.client: add support for stacking order
    
    This adds a `stacked` boolean argument to `awful.client.visible`, and
    (relevant) callers of it.
    
    This can be used with e.g. `awful.client.swap.bydirection` to swap clients
    based on their stacking order.
    
    Fixes https://github.com/awesomeWM/awesome/issues/178.

commit 0c55b2edeca49257b47413c59098548559917411
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 23 16:41:16 2015 +0200

    client.get: add `stacked` argument
    
    Fixes https://github.com/awesomeWM/awesome/issues/178.

commit 08b78f537aa123f753866830baddd492cde34355
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 24 00:33:53 2015 +0200

    Travis: install lua-discount

commit fb4a709f77fb7adf301c3933ca9bbde3c34edda6
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 23 23:28:39 2015 +0200

    Travis: build and upload API doc on success for master
    
    Closes https://github.com/awesomeWM/awesome/pull/343.

commit fdc3f2cc172e1c1926f4febc1c4618189b6be3f3
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 24 01:01:38 2015 +0200

    build: add OVERRIDE_VERSION, used in Travis
    
    Fixes https://github.com/awesomeWM/awesome/issues/160.

commit 3cd0bb5783d3ef33483ba9a98859e9ce9deb2425
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 25 16:42:50 2015 +0200

    common/array.h: add macro `foreach_reverse`
    
    Ref: https://github.com/awesomeWM/awesome/pull/340

commit 292b95da01fba786f534152dd5373d01c9f9a0a3
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 23 21:51:42 2015 +0200

    awful.util.deprecate: add source function name to warning
    
    Closes https://github.com/awesomeWM/awesome/pull/342.

commit f12f9b3b97f2ab23406c3193901fbaf06bccf202
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 25 15:16:23 2015 +0200

    spawn: improve doc, and add `sn` for `awful.util.spawn_with_shell`
    
    Closes https://github.com/awesomeWM/awesome/pull/347.

commit 3fb83ba9b5cbe39afab146d1350fb5d723026021
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 24 02:25:39 2015 +0200

    README: add reference to online doc, small improvements
    
    Closes https://github.com/awesomeWM/awesome/pull/345.

commit a239b2cac792fc89d72cbff9e6a7bfa8d890adcf
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 13 16:55:10 2015 +0200

    Use gears.cache to replace some other caches
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 42c913332fb30049d628fd663e8127d7475f7374
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 13 16:43:05 2015 +0200

    Add a generic cache system as gears.cache
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9dad4f59a455bc0274d250f5040792b98e20904f
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 24 15:20:55 2015 +0200

    doc: remove references to Zaphod mode
    
    This has been removed a long time ago (in 32d9a5b).

commit 9835f73a01926f6b36c35f7befc4c2421af3b1e8
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 24 01:56:36 2015 +0200

    doc: fix invalid @see references to URLs

commit b28cda2ac69326d5abf0a06757c2b5f9b29bc88c
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 24 01:52:51 2015 +0200

    beautiful.xresources.apply_dpi: use `math.ceil`
    
    Closes https://github.com/awesomeWM/awesome/pull/330.

commit 1f3ad814c94f4f9880b721228a3a71674788b5e6
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 22 13:47:16 2015 +0200

    beautiful.xresources: allow to set/get DPI per screen
    
    This adds an optional screen argument to get_dpi/apply_dpi and set_dpi
    to store DPI values per screen.
    
    This can be used in your config to manage different DPI values for an
    internal and external display:
    
        beautiful.xresources.set_dpi(125, 1)
        beautiful.xresources.set_dpi(94, 2)
    
    This is meant to be the foundation for more evolved DPI handling in
    awesome.
    
    Closes https://github.com/awesomeWM/awesome/pull/336.

commit 62f5e59497a74c921e2ef1b93a07594d192ec450
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Jul 12 17:20:05 2015 +0200

    naughty: skip permanent notifications when there is no more room
    
    This skips permanent notifications (with timeout=0) in `get_offset` when
    there is not enough room for a new notification.  It will still fallback
    to removing the first/oldest one.
    
    Closes https://github.com/awesomeWM/awesome/pull/306.

commit 173545bc72a0a177cd6f644362247988c7ab7a46
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 19:27:38 2015 +0200

    Add beautiful.get_merged_font; fix doc / load_font
    
    This is meant to get a new font (copy) with adjusted attributes, e.g.
    
        font_focus = beautiful.get_font_copy(theme.font, "bold")
    
    Closes https://github.com/awesomeWM/awesome/pull/308.

commit 6e97b5f8c559b22d5de749ef680711bd578f418d
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 16 15:25:39 2015 +0200

    Use luaL_traceback with luaA_warn and luaA_typerror

commit ddb1f64acd21d865d6535d7945a2645c113d55ef
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 16 15:24:22 2015 +0200

    beautiful.init: use xpcall / debug.backtrace

commit f060fc055f4ea1bc443566f3f2aa44ec3bb0ab48
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 23:36:00 2015 +0200

    awful.widget.tasklist: reset queued_update before tasklist_update
    
    This will reset it properly in case of any error in the callback itself.

commit 22624284a2d10d537b27ca9ddba7bf36098e9f63
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 22:50:04 2015 +0200

    tests/_runner.lua: use xpcall+traceback with step error handler

commit dc9295d9817dbd75bbd2fa2427c116d99273bbe3
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 21:19:15 2015 +0200

    gears.timer: use xpcall with timeout and delayed calls
    
    This provides a traceback in case of errors.
    
    Ref: https://github.com/awesomeWM/awesome/issues/301

commit aca856b5d2eb95d1f708f34a2df42c491f332023
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 21:13:58 2015 +0200

    keygrabber.grabber: rename function name
    
    This makes it clearer / more explicit in the traceback in case of
    errors.

commit d08e82d4c87c5b6c70a95dbd1547a72d99091525
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jul 13 19:52:06 2015 +0200

    Use luaA_dofunction with key- and mousegrabber

commit 50982fc0827a7a1868e23fc7124db1a38adfe275
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 21 15:16:37 2015 +0200

    client_resize_do: prefer client's current screen
    
    In case of an overlapping screen configuration, prefer the client's
    current screen.
    
    Without this, clients would be moved to the first matching screen.

commit f070c4e060ae686adfc8c6fa78181d1d940a6184
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 21 13:09:07 2015 +0200

    tests: wait until DISPLAY is ready; xrdb might complain/abort

commit cbe684efd1b69d50dbac59f28c3a54acfa9b55bc
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jan 31 16:40:46 2015 +0100

    Add awful.screen.focused [FS#1029]
    
    This allows to configure / override what gets considered to be the
    "focused screen".
    
    Ref: https://awesome.naquadah.org/bugs/index.php?do=details&task_id=1029
    
    Closes https://github.com/awesomeWM/awesome/pull/94.

commit 34290433c27ea743449a909afbb27c68577aabb4
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Jul 16 12:22:14 2015 +0200

    feat(lib: awful: layout: suit: corner): add support for 'master_fill_policy'

commit fb4a3310149387c027de296bc252e151bf57eb9b
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Jul 16 11:48:18 2015 +0200

    feat(lib: awful: layout: suit: tile): add support for 'master_fill_policy'

commit 00283492268d8315f4b9c257517b93b620c3cb34
Author: actionless <actionless.loveless@gmail.com>
Date:   Wed Jul 15 15:24:08 2015 +0200

    feat(lib: awful: tag, layout): add 'master_fill_policy' property to tag

commit 2c3c6b5ca86b5f9d311b9ab9dee64d1b07f84571
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 18 15:03:43 2015 +0200

    tests: cleanup, remove sleep/print

commit f4ed41b39a7624ca74404d9ccd3c8e16832b8254
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 18 12:33:24 2015 +0200

    tests: Check if test file is readable before running it
    
    I tried calling this script with "tests/foo.lua" as an argument, but it actually
    expects "foo.lua" since it changes into the appropriate directory itself.
    Because this file does not exist, "cat $f | awesome-client" failed and thus this
    whole script just hung (the test runner was never actually started).
    
    Fix this by testing for the test-file to exist before trying to run it.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f2a079204d33f65bde36de56e23cd73a20626513
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 18 10:45:03 2015 +0200

    tests: Make dbus session automatically exit when X server dies
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 534084698b8865d12f22419268249bdd1489bfae
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jul 18 10:44:16 2015 +0200

    tests/run.sh: Use $! instead of pgrep
    
    And yes, $! is specified by POSIX and thus should be portable.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c6ede6e96ea992517bdb759db95729b5f4554080
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 17 17:06:43 2015 +0200

    tasklist: display symbols with "above" and "below" clients
    
    When windows are set as "above", they will basically behave as "ontop"
    (under normal circumstances) and therefore an indicator is useful to get
    displayed in that case, too.
    
    Closes https://github.com/awesomeWM/awesome/pull/325.

commit 3c1871b91ffa1c35ec4e1649d67c521ad1bba387
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jul 15 18:47:20 2015 +0200

    awful.tooltip: add margin around text
    
    Closes https://github.com/awesomeWM/awesome/pull/321.

commit 430fe7f7104140f0b32194e1ede6ccef75ab5370
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Jul 16 17:05:46 2015 +0200

    tests/run.sh: fix 'waiting for awesome' via pgrep

commit 1e9da0947e14cc98e1bd8b596fc6db1a04b05853
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 14 12:49:35 2015 +0200

    Improve tests/run.sh
    
     - `set -x` only for Travis/CI=true.
     - improve waiting for PID and awesome-client success.
     - kill childs via trap always.
    
    Closes https://github.com/awesomeWM/awesome/pull/316.

commit 18e9bfbcfa407df1a3c035a38272b80cc9e819c8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue Jul 14 01:39:03 2015 -0400

    client: Do not assume the wfact exist
    
    Since the call can now be delayed, "windowfact" may not exist yet.
    
    Regression from 74106462ac1f0877d4dd3791c9a983283c034169

commit d5cf6e0272650d8bb109357ec808f878946b7c14
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 14 00:27:26 2015 +0200

    Add client.first_tag, as a shortcut for `c:tags()[1]`
    
    This is meant to be a faster alternative in case only the first tag is
    relevant/used.
    
    Closes https://github.com/awesomeWM/awesome/pull/294.

commit 78abb4a54cf58db21396cedc34f0aa46827212ff
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 14 00:20:31 2015 +0200

    Improved awesome-client: exit code, bash, prompt
    
     - exit with a non-zero status code when dbus-send fails.
       If awesome does not respond to the D-Bus message, e.g. because it is not
       running (yet), awesome-client now returns with a non-zero return code.
       This can be used to check if awesome has finished starting up, which is
       meant to be used for the functional test runner.
     - changed the shebang to use bash directly, which simplifies the logic
       to detect/handle "bash as /bin/sh" and allows to use `set -o pipefail`
       (which makes handling the D-Bus error easier - without using a subshell).
     - fix the prompt: now with trailing space, and the prompt is actually used
       (which wasn't the case with /bin/sh not pointing at bash before).
    
    Closes https://github.com/awesomeWM/awesome/pull/304.

commit 94814c7512b2d5d1e6aaab4decc4881c49230b12
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Mar 20 16:58:33 2015 +0100

    screen_client_moveto: add comment/whitespace for 'emit signal'

commit 917965483de7a9bcd236b2aa957dbd3cf1010e54
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Jul 12 17:32:35 2015 +0200

    doc: improve docs/02-contributing.md

commit 1050237d04d5daab53a6bb7089f00fff60aac359
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 11 22:53:57 2015 +0200

    minor: fix/improve doc comments

commit 5c3734e583bfb71854dec97408a4c5aa282715a5
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 11 22:51:51 2015 +0200

    luaA_xrdb_get_value: add resource name/class to warning

commit a7b281294c390c555c373315ddabc3389e78f7e2
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 11 22:50:11 2015 +0200

    Makefile: add "tags" to .PHONY targets
    
    It could depend on $(shell git ls-files), but it's not worth the
    overhead to get this list then always.

commit d22a65a103e8f53ac7166dad11f280206dd7704f
Author: Max <silverhammermba@gmail.com>
Date:   Fri Jul 10 18:11:45 2015 -0400

    Replace uses of color_strip_alpha with ensure_pango_color, refactor
    
    This simplifies the logic a bit since all of the fg/bg colors are
    always set when it gets to checking the client state.

commit 2ba9c8667fa71a7cac3ccd9e456d3df17934c400
Author: Max <silverhammermba@gmail.com>
Date:   Fri Jul 10 18:09:45 2015 -0400

    Replace color_strip_alpha with ensure_pango_color
    
    color_strip_alpha was used to insert colors into Pango markup, but it
    did not correctly check for valid Pango colors. ensure_pango_color
    checks if the color is valid in Pango, and returns a placeholder if it
    is not.

commit d4c7a7ce04db22ff8444febe633a536f198b3056
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 10 18:17:48 2015 +0200

    Make sure "err" is a string in debug::error handler
    
    I've noticed that `Pango.parse_markup` returns "userdata" instead of a
    string in case of errors [1], which then causes the `debug::error`
    handler to not handle it correctly:
    
        W: awesome: luaA_dofunction:77: error while running function
        stack traceback:
         [C]: in ?
         [C]: in function 'error'
         /usr/local/share/awesome/lib/wibox/widget/textbox.lua:63: in function 'set_markup'
         [string "require("wibox").widget.textbox():set_markup(..."]:1: in function 'f'
         /usr/local/share/awesome/lib/awful/remote.lua:25: in function </usr/local/share/awesome/lib/awful/remote.lua:21>
        error: attempt to concatenate a userdata value
    
    This patch makes sure that `err` is a string when passing it to
    naughty.notify in the default `debug::error` handler.
    
    Closes #302.
    
    1: https://github.com/pavouk/lgi/issues/115

commit 0f3bf03cd279fb9acf95a04a24e67d77b8135652
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 10 15:52:45 2015 +0200

    travis: unpin luassert
    
    Closes #258.
    
    Build tested in https://travis-ci.org/blueyed/awesome/builds/70387485.

commit 4a845ced0fab4cca6f3122149756953a296b8667
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 10 13:35:46 2015 +0200

    awful.widget.graph: setters: emit widget::updated only on changes
    
    Ref: #284

commit 3be423fcb3c0b99d3886c57c237bde82b990cd98
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jul 4 20:10:39 2015 +0200

    awful.widget.graph: expose properties via getters
    
    This allows to see if a widget is stacked for example.
    
    It uses getters instead of exposing the properties directly, which
    should be made readonly then probably (which has drawbacks according to [1]).
    
    1: http://lua-users.org/wiki/ReadOnlyTables
    
    Closes https://github.com/awesomeWM/awesome/pull/284.

commit 611438a8920299e5bae3098e0719921893384c2c
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 10 13:17:50 2015 +0200

    Add functional tests via Xephyr/Xvfb/xdotool
    
    Closes https://github.com/awesomeWM/awesome/pull/133

commit ae6a1efe65b7a2113c5dcfc52ad665cdb1905dd2
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 10 15:11:52 2015 +0200

    Fix ewmh.activate to use the hints argument
    
    This was missed in cb7f4b06, where the `raise` argument was changed to
    `hints`.

commit 9eb4661cde58b12a6ba9520e161087e51b01f7d5
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jul 10 15:07:53 2015 +0200

    Fix raising clients with focus=true via awful.rules
    
    In ed09d8e this was changed accidentally, while only `request::focus`
    should have been changed:
    
        -        c:emit_signal('request::activate',"rules")
        +        c:emit_signal('request::activate', "rules", false)

commit bd885f59f52c2c97b4f796ab1f4f56a35924da90
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 7 13:01:53 2015 +0200

    awful.client.property.set: emit property:: signals only on change
    
    Emit "propery::" signals and call `c:set_xproperty` only if the
    properties new value has changed.

commit ae7c7ff3820d60d906ca5a656560384b76837bbb
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 7 13:01:53 2015 +0200

    awful.tag: emit property:: signals only on change
    
    This can have a significant performance impact in case you listen to the
    property::hide signal to auto-hide tags for example.

commit 4f865e66ed701d675152eb5bb5c93d7114f7abe4
Author: bjp <benjamin.pettrenko@gmail.com>
Date:   Fri Jul 3 22:23:35 2015 +0300

    Add more keyboard shortcuts to the prompt
    
    This adds the following readline/emacs style shortcuts to the prompt:
    Ctrl+p, Ctrl+n, Alt+b, Alt+f, Alt+d, Alt+BackSpace.
    
    Closes https://github.com/awesomeWM/awesome/pull/282.

commit 5630ad1bb2fc8094e2670591cac48daedd0225d7
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 7 18:07:59 2015 +0200

    taglist: call taglist_update only once per main loop
    
    Currently `taglist_update` gets triggered often, because it listens to
    a lot of signals.
    This patch makes it only call the last one through `timer.delayed_call`.

commit 1924e044f7d941c738b260f462c122c930d44cf5
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 7 18:07:59 2015 +0200

    tasklist: call tasklist_update only once per main loop
    
    Currently `tasklist_update` gets triggered often, because it listens to
    a lot of signals.
    This patch makes it only call the last one through `timer.delayed_call`.

commit 367ad2d9a64f0a7726da3225725700becc298ba5
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 7 18:42:24 2015 +0200

    awful.tag.delete: single call to #c:tags()
    
    This is a minor performance optimisation I came across.

commit 63b19efef8011eb67968c726255630acefc6ccc0
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jul 7 17:19:41 2015 +0200

    doc: signals: minor improvements, mainly for "tagged"

commit d361eeab34bea0dba49df6e1a1f5f93ced2c4a1e
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Mar 17 17:11:40 2015 +0100

    Make use of the new `oldscreen` argument with property::screen handlers
    
    Closes #285

commit 34c059bf23ffd2b7bef110a39937b3f85228c4e4
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 5 16:21:30 2015 +0200

    Document mouse.coords().buttons
    
    This fixes issue #280 as well, just as the previous commit does, because it was
    decided that that issue should be about two different things.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 18f6ab107f1b57dda947386c8c074a604ce08244
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 5 16:14:41 2015 +0200

    Mousegrabber: Correctly handle press/release events
    
    When you run a mousegrabber, the C code calls this callback when the pointer is
    moved or when a button is pressed/released. However, the button state is totally
    bogus on press/release events, always claiming that the button that was
    pressed/released is the only button that is pressed (even for release events!).
    
    This commit fixes up the code so that the button state after the press/release
    event is passed to the mousegrabber callback function.
    
    Fixes: #280
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 55bffbcc459a780f3d8b8d6756783fb97145d481
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 5 15:34:23 2015 +0200

    Fix for previous commit
    
    Forgot to commit the change that adds _NET_FRAME_EXTENTS to the list of atoms
    that we actually query for and export to the C code.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4a094fa4824836ee5a029a6c0e147b5b3e2bee12
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 5 14:45:51 2015 +0200

    Add support for _NET_FRAME_EXTENTS
    
    Support for this property is required since EWMH version 1.3.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c961622fc053c0c52ac369b804aeef1a0a9e3b9d
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Jul 3 02:15:52 2015 +0200

    fix(lib: awful: layout): equal useless gaps

commit 1a32ba6ecb05469ee1318d11d969029286b779c9
Author: actionless <actionless.loveless@gmail.com>
Date:   Fri Jul 3 00:20:28 2015 +0200

    feat(themes): add 'useless_gap' prop to all themes

commit 82549c04cd5b3df34cf81e563115b3d5720f8ed2
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Jul 2 23:24:04 2015 +0200

    feat(lib: awful: tag): get useless_gap from beautiful if no any

commit 01ac50c5edab1c2dbb4dc6040c07b91cd5b91ff3
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Jul 2 22:06:06 2015 +0200

    feat(lib: awful: layout): set useless gap

commit a7f2600a38050bdff34d6e8d25e3f6ac966c57fe
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Feb 22 19:51:10 2015 +0000

    layout: attached_connect_signal is deprecated

commit 056dee0426f4c0d791329fc3cf56bc88e648a076
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Feb 22 19:44:37 2015 +0000

    layout: Remove dead code

commit 1aacf1efc474d74f7aa0cf3f4e3fb8c0d383de6a
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Feb 22 19:29:18 2015 +0000

    Add useless gap utility functions

commit cb7f4b06eb80f6e6ac6c54df50d1f6ded50b53ce
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jun 19 22:24:12 2015 +0200

    Use `hints` table argument with `request::activate` signal

commit b7e2508144d48bd9a9ea0d7e458fc64207ae2824
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jun 19 22:19:04 2015 +0200

    docs: include lib/awful/ewmh.lua

commit 2e2d60a1f994b6c701b23c72b4e10ad139a352a4
Author: Daniel Hahler <git@thequod.de>
Date:   Wed May 13 22:39:38 2015 +0200

    client.focus.byidx: handle raising in the function itself

commit ed09d8ed4ff73bd70b05802d52864d5ccacb7d13
Author: Daniel Hahler <git@thequod.de>
Date:   Wed May 13 22:11:07 2015 +0200

    Use request::activate with raise=false instead
    
    Ref: https://github.com/awesomeWM/awesome/pull/224#issuecomment-101790416

commit 6dc355cf716beca1e545d6ef8ebe1d422b0064b5
Author: Daniel Hahler <git@thequod.de>
Date:   Wed May 13 13:06:53 2015 +0200

    autofocus: use request::focus instead of request::activate
    
    In #152 I've changed the autofocus handler to emit the request::activate
    signal, instead of setting client.focus only.
    
    This is wrong IMHO, and can be annoying:
    
    If you have two floating clients above a tiled / maximized one, and
    close one of the floating ones, with the tiled one being the one
    selected by autofocus, it will be raised above the other floating
    client.
    
    This is changed now to use the new `request::focus` signal instead.
    
    This basically reverts 20cdb5d (#152), but allows for customizing this
    behavior, by overriding the default `request::focus` handler
    (`ewmh.focus`).
    
    It would be nice if there was a helper to check if a window's content
    isn't visible at all (i.e. covered by other windows), and that could be
    used then by the (new) default handler for request::focus - raising the
    client only, if it's completely covered by another window.
    
    Fixes https://github.com/awesomeWM/awesome/issues/217

commit 401f21f8e216337a3e94e77db64e55aa7c86c803
Author: Daniel Hahler <git@thequod.de>
Date:   Wed May 13 13:36:28 2015 +0200

    Add request::focus signal, with ewmh.focus being the default handler
    
    This still does `client.focus = c` by default, but allows to customize
    it.
    
    This was initially suggested in #194, but by using `request::activate`
    instead, which would not be the same.  Therefore a new signal is being
    used instead.
    
    Helped-by: Samir Benmendil <samir.benmendil@gmail.com>

commit cec04b268440bd9cdcb571254983475df3bd1f94
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu May 14 22:57:22 2015 +0200

    Add DPI support and 'xresources' theme
    
    This makes awesome respect DPI settings, and adds a new theme based on
    xrdb and xsettingsd color settings ("xresources").
    
    Closes https://github.com/awesomeWM/awesome/pull/229

commit d990e7918fd6dcf6fea98a1ac528c8fd95a03955
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 14:27:43 2015 +0200

    Use :weak_connect_signal() for connecting to widget::updated
    
    This way "that other widget" doesn't prevent the current widget from being
    garbage collected.
    
    Please note that this in all of these cases the widget under consideration does
    have a strong reference to the callback function. This means that the callback
    cannot be garbage collected until "this widget" itself is collected. Thanks to
    this, this change is safe.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 089ed0e8dd63fca4b91a6b2d88801c8d45d6b85d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jun 14 14:21:23 2015 +0200

    gears.object: Add :weak_connect_signal()
    
    Connecting to a signal weakly has the same effect as connecting to it strongly,
    but it allows the garbage collector to disconnect the signal in case nothing
    else references this function.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 38840c911b37417949c69d4e788c458f20f9f2fa
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Jun 21 23:26:08 2015 +0200

    default config: raise with "maximize" and "fullscreen"
    
    After using sloppy mouse focus to select a client (which does not raise
    it already), maximizing/fullscreening it should then raise it.
    
    This also uses the new shortcut `c.maximized = not c.maximized`.
    
    Closes https://github.com/awesomeWM/awesome/pull/270

commit 1992e1e42939f6ae25d74bc5e262ed4326aae1a9
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jun 22 13:29:42 2015 +0200

    awesomeConfig.cmake: do not use GLOB_RECURSE with *.c/*.h
    
    This fixes "make (cmake)" picking up the files from the build dir itself
    (recursively), i.e. "make cmake" would also create
    `.build-HOST-x86_64-linux-gnu-4.9.2/.build-HOST-x86_64-linux-gnu-4.9.2/`.
    
    It could also use `${AWE_SRCS}` etc here probably.

commit ccb6843144487cef33babaa7f934b63b3a3ecb53
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jun 22 14:01:16 2015 +0200

    Call `warn` in case of errors in luaA_spawn
    
    This is useful to have, as it might indicate a missing program etc.

commit 32b584258bb2fc3dfc744071a3b73461bb64eacf
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Jun 22 12:09:54 2015 +0200

    CMakeLists.txt: fix installation of themes
    
    Install *.lua from ${BUILD_DIR}/themes.

commit 89beaf12e5dfe7f0df21ea2904f504a7b8d8fea9
Author: actionless <actionless.loveless@gmail.com>
Date:   Sun Jun 21 23:53:43 2015 +0200

    fix: rename the rest of *.lua.in files

commit 3b366f993c0e66e179a8482b2adb974a533374d3
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jun 20 02:08:04 2015 +0200

    Make stdout/stderr line buffered
    
    This improves the behaviour with print()ing for debugging, when the
    output is redirected to a file.
    
    I was using `setbuf(‚Ä¶, 0)` initially, but it makes sense to buffer it
    per line.  This uses `setvbuf` instead of `setlinebuf`, which might not
    be available everywhere.
    
    Closes https://github.com/awesomeWM/awesome/pull/267

commit 1408e8b9522186746137e90c672595c546323176
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 20 12:21:52 2015 +0200

    Unset object's metatable in __gc
    
    Run the following code:
    
      do
          local d
          local f = function() d.visible = true end
          if _VERSION >= "Lua 5.2" then
              setmetatable({}, { __gc = f })
          else
              getmetatable(newproxy(true)).__gc = f
          end
          d = drawin({})
      end
      collectgarbage("collect")
    
    Awesome will segfault.
    
    The reason for this is that after the above code ran, all variables in it are
    unreferenced and will be garbage-collected at the next sweep phase. Lua runs
    garbage collectors in the inverse order that their corresponding objects were
    "marked" which means for the above code that the drawin's garbage collector will
    run before function f runs. So the code will access the drawin after its
    destructor already ran. Obviously, awesome's C code does not expect nor
    correctly deal with this situation and was dereferencing a NULL pointer.
    
    To fix this, this commit "unsets" the metatable of a userdata object when it is
    being garbage collected. Since the type of a userdata is inferred via its
    metatable, the object will no longer be accepted by luaA_toudata().
    
    For the above code this will result in an unhelpful error message saying that
    something tried to index a userdata, but userdata cannot be indexed. At least we
    no longer crash and the traceback of the error will hopefully point at some __gc
    metamethod which should be enough of a hint to figure out the problem.
    
    Thanks-to: http://blog.reverberate.org/2014/06/beware-of-lua-finalizers-in-c-modules.html
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d2e25c3594df451b20bea195e3057d8221f2ce07
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jun 20 01:56:05 2015 +0200

    cmake: s/ESCAPE_QUOTE/ESCAPE_QUOTES
    
    This appears to be the correct name for 2.8.12 [1] already, but CMake
    3.2.3 complains loud(er) now.
    
    1: http://www.cmake.org/cmake/help/v2.8.12/cmake.html#command:configure_file

commit 7989096cc22ac0edd8ec77cb6a3e2e88744c1eb8
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jun 20 01:17:44 2015 +0200

    Travis: install CMake 3+ (for newer FindLua)

commit ba62665fd6f6b965221478088493444f7a1b958d
Author: Julian Wollrath <jwollrath@web.de>
Date:   Sun Mar 29 17:50:11 2015 +0200

    Remove some trailing whitespaces.

commit 26f15a13f3c78babf1d448ac5608e8affcf4f6d8
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Feb 27 00:24:23 2015 +0100

    Document C API directly in the C source code
    
    v2: Add available signals to the docs.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 6cc7be512c629ba2008c918a0778ea7eb27df158
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Mar 27 17:45:59 2015 +0100

    Remove the *.in from all files.
    
    Signed-off-b: Julian Wollrath <jwollrath@web.de>

commit 130504a3d07cbb77f2e0c83c114e9c71edac78b4
Author: Julian Wollrath <jwollrath@web.de>
Date:   Mon Mar 23 17:44:34 2015 +0100

    Rip out useless Doxygen support
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit b0d4f4eb0e375b61b347a9ba1a0a99a459fad9ba
Author: Heiko Becker <heirecka@exherbo.org>
Date:   Sun Sep 7 19:33:18 2014 +0200

    Use version agnostic FindLua from cmake-3.0.0

commit e25bc558c42cba1304fa6d67e089d6f0e8452171
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jun 19 21:03:27 2015 +0200

    doc: fix typos with root.c and beautiful

commit c2ee98b69c09a6123bc5a6009e08cca9095d078e
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Jun 19 20:49:53 2015 +0200

    doc: improve doc for key.key and awful.key

commit 3fe663fc60bbc52cc99950a7bb6367fdfa4708a8
Author: jaysonwillson <jaysonwillson245@gmail.com>
Date:   Sat Jun 13 18:33:24 2015 +0300

    Fix interactive notifications: use uint32 instead of int32
    
    Fixes https://github.com/awesomeWM/awesome/issues/259.
    Closes https://github.com/awesomeWM/awesome/pull/261.

commit 76fc6b33063e67a9864becd2603514b1cc9e9218
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Jun 14 02:35:10 2015 +0200

    doc: LDoc config (version in desc); improve 02-contributing.md
    
    Adding @AWESOME_VERSION@ to the LDoc description is useful to have on
    the index page.  While at it, it makes the description more
    verbose/correct.
    
    For docs/02-contributing.md, it lists the current aliases for typed
    parameters, prefers/mentions `@tparam` and `@treturn` only, and fixes
    some minor wording.
    
    Closes #262.

commit e4c547d36b0d7d1821a0a014c3a250ba267027b0
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jun 13 00:47:58 2015 +0200

    Travis: 'make build' for luarocks
    
    I am not sure if this is required, but documented like that.

commit d2f583d839d5e52e7f4fbb3261fe00472b99b585
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jun 13 11:18:47 2015 +0200

    Screen __index: Don't turn argument into a string
    
    Calling lua_tostring() on a number/integer, turns that stack slot into a string.
    This patch changes the code to only call lua_tostring() if the function argument
    really is a string.
    
    This partly also caused https://github.com/awesomeWM/awesome/issues/238.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5cf13dba6bd41fc0fbea66984e894b5d02fe0675
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jun 12 19:07:31 2015 +0200

    awful.layout.inc: Hide API breakage
    
    In commit 3cbdc2a79ff72, the argument order for awful.layout.inc was changed
    from (layouts, i, s) to (i, s, layouts), so that layouts can become an optional
    parameter. However, this change (obviously) breaks user configs.
    
    To hide this breakage, we assume the old argument order if the number i is a
    table. This cannot break anything, since the operator "+" will error out on
    tables anyway. :-)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9555c2d4a6d58bd78fbdb8d06c057815a993709c
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jun 12 11:00:19 2015 +0200

    Emit property::focusable where needed
    
    Before this, doing c.focusable = nil didn't emit this signal.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 31fcc11272e6fb6a8336555044a2a31faab1bea2
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jun 12 10:57:42 2015 +0200

    textclock: Load GLib.DateTime only once
    
    I doubt that this makes much of a difference since lgi surely caches things, but
    this still seems nicer to me.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fe0a96d7f1e13161b5fbd16bf83706afb1b7f578
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jun 12 10:57:22 2015 +0200

    keyboardlayout: Don't mess with undefined variables
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 75f2f6bf869c32f811f7919f3aa40126f7437f82
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jun 12 10:54:59 2015 +0200

    corner layout: Don't set geometries directly
    
    Since commit 52ec0ebd937, layouts should return the geometries to their caller
    instead of setting them directly. The caller will also fix up the geometries for
    border width.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a64cd26f6276a5efb2a9ec61583a522cae54173c
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jun 12 10:52:44 2015 +0200

    corner layout: Properly "local"ize variables
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f2e74994f2ac3b93c878ad37c09bb84fd24c9db5
Author: Ganesh Ajjanagadde <gajjanagadde@gmail.com>
Date:   Sat May 30 10:30:48 2015 -0700

    awful.textclock: fix timezone handling
    
    This fixes issue #249.

commit c30fe5b166039fe8ddd0d76d75c433b96af640f8
Author: Salorium <salorium@hotmail.fr>
Date:   Thu May 28 15:50:36 2015 +0200

    wibox.widget.systray: fix error while drawing widget
    
    > bad argument #2 to 'systray' (number has no integer representation)
    
    Closes https://github.com/awesomeWM/awesome/pull/247

commit c2842fe8f3513a0243c920db1f0d9f2f54727872
Author: Alexis BRENON <brenon.alexis@gmail.com>
Date:   Mon May 25 17:09:43 2015 +0200

    Add a new tag layout: corner
    
    Closes https://github.com/awesomeWM/awesome/pull/251

commit 3d8db91602a5af48ba98694125fa25975485d20c
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jun 10 21:39:50 2015 +0200

    doc: fix ldoc for client.focus.history.get

commit bf389e4cce4bc08e35f905e374e040ffd3fc33e9
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jun 10 21:29:39 2015 +0200

    Travis: workaround: actually install/pin busted 2.0.rc8
    
    This fixes the previous commit (6733cff).

commit 6733cff8429db9fa95d7448a0f328b1a17b147c6
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jun 10 20:16:37 2015 +0200

    Travis: workaround: use luassert 1.7.6 / busted 2.0.rc8
    
    Temporarily fix infinite loop with luassert 1.7.7 (required by busted
    2.0.rc9).  Ref: https://github.com/awesomeWM/awesome/issues/258

commit 6d5973cb8ce6207fcc8488e352196d4a7ef223e6
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jun 10 19:22:31 2015 +0200

    Travis: update luarocks to 2.2.2

commit 256ecd4d8ee319b509da0059886e8c87aad1464c
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jun 10 18:25:20 2015 +0200

    Improve git-version-stamp's error messages

commit f9a3b97b50dbf34b29ace628c1a4a3c6675a9ff9
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jun 10 18:06:02 2015 +0200

    Travis: use tarballs instead of git-clone
    
    This should improve performance and make it more reliable in general
    (also in terms of timeouts when cloning).

commit 594c01dc361d17d88dacae61efaef28c1705e8ef
Author: Peter Junos <petoju@gmail.com>
Date:   Wed May 27 02:09:34 2015 +0200

    Xkb setup by calling xkbcommon function

commit 835c13bd8054ce11fcc84b94537b0f9da6726aad
Author: Peter Junos <petoju@gmail.com>
Date:   Wed May 27 02:08:34 2015 +0200

    NamesNotify should never come; moved under MapNotify

commit f50ed9a1e8a665868e4c2cfb5cc9b65c36866a14
Author: Peter Junos <petoju@gmail.com>
Date:   Wed May 27 02:08:07 2015 +0200

    Fix - get correct type and unbind finally

commit 7d88aebbf912d449402458d0563497f6f73087fb
Author: Peter Junos <petoju@gmail.com>
Date:   Wed May 27 01:59:34 2015 +0200

    Respect remapped keys

commit e2562227ab8f123a526cf0a1478c2d37d25d1e02
Author: Peter Junos <petoju@gmail.com>
Date:   Thu May 21 21:21:34 2015 +0200

    Less reloading of keymap, fixes from psychon comments
    
    Response to psychon comments in PR#227 -
    https://github.com/awesomeWM/awesome/pull/227
    
    With this commit, we don't reload keymap, when we are not
    notified about its change.

commit 9be4a0368babf75dd967835416a109f50187af2c
Author: Daniel Hahler <git@thequod.de>
Date:   Thu May 14 23:30:02 2015 +0200

    travis: install libxkbcommon-dev libxkbcommon-x11-dev

commit 372d12ee316e665107b335b850e93e93e9094b33
Author: Peter Junos <petoju@gmail.com>
Date:   Wed May 20 22:00:06 2015 +0200

    Fix incorrect behavior when modkey is pressed

commit 19137a55c3c2c80d77f7d9993292acc3784cbe35
Author: Peter Junos <petoju@gmail.com>
Date:   Thu May 14 12:12:06 2015 +0200

    Support for XKB - changing keyboard layouts
    
    This commit adds support for writing in prompt (<Super>+R by default)
    while different keymap is selected
    
    Signed-off-by: Peter J√∫no≈° <petoju@gmail.com>

commit 9c443adc612a5bc880087cedf110324e4b3549cf
Author: Daniel Hahler <git@thequod.de>
Date:   Tue May 26 16:05:07 2015 +0200

    Travis: output cmake version in before_install

commit e8fb93d2b6ed26e8456309991e6688de83cf22ca
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Tue May 26 01:09:12 2015 -0400

    lua: Use pushinteger for int type
    
    Attempt to fix #238

commit eb7fba2657c836fefa9766572d0f4f5442cff3ac
Author: Rastislav Barlik <barlik@zoho.com>
Date:   Tue May 19 01:21:03 2015 +0100

    Give focus to restored clients
    
    When you are restoring previously minimized windows, you definetely want
    focus on them.
    
    Closes: https://github.com/awesomeWM/awesome/pull/234.
    
    Signed-off-by: Rastislav Barlik <barlik@zoho.com>

commit 496fce0f90e8c79898fd4baa563b414a98822571
Author: Daniel Hahler <git@thequod.de>
Date:   Mon May 25 15:23:30 2015 +0200

    autofocus: use focus.filter, via new arg to focus.history.get
    
    This adds an optional `filter` arg to awful.client.focus.history.get,
    and uses `awful.client.focus.filter` from the autofocus module.
    
    This improves the behaviour when manually setting clients as
    non-focusable (#237), and is considered to be the desired behaviour in
    general.
    
    Closes https://github.com/awesomeWM/awesome/pull/242.

commit fd6ffb1458b4cfb9658746db2341ff908e9db09a
Author: Daniel Hahler <git@thequod.de>
Date:   Thu May 21 17:30:51 2015 +0200

    Make client.focusable writable from Lua
    
    It uses an extra boolean to track if `c.focusable` has been set.
    
    It's possible to unset the overriding by setting it to `nil`, i.e.
    `client.focus.focusable = nil`.
    
    Fixes https://github.com/awesomeWM/awesome/issues/237.
    Closes https://github.com/awesomeWM/awesome/pull/239.

commit 82e62a0fad7cf73e4c31854aad348bb5d6735f1c
Author: Alex Kir <4k1r4.rulez@gmail.com>
Date:   Wed May 13 11:36:05 2015 +0800

    Added function to check state of notifications
    
    Sometimes is a good idea to check if notifications are suspended,
    for example, for changing the icon. This function just returns the value
    of suspended.
    
    Closes https://github.com/awesomeWM/awesome/pull/222.

commit 3618d95b11e4b01c95eae87d1c2f0137eb9059af
Author: Daniel Hahler <git@thequod.de>
Date:   Wed May 13 12:52:22 2015 +0200

    minor: doc fix for awful.widget.keyboardlayout

commit 3b146b834c6b78104d5e75f50ef84255766951f9
Author: Anatol Pomozov <anatol.pomozov@gmail.com>
Date:   Tue May 12 10:23:27 2015 -0700

    Use table.unpack() with Lua5.2 instead of deprecated unpack()

commit 1542722055e2d822731267c8de9c4a564393cc02
Author: Daniel Hahler <git@thequod.de>
Date:   Mon May 4 18:59:55 2015 +0200

    travis: only install and run if make succeeded

commit 9b9334976acb93639182c0a0d8975e7620ac0a1e
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Apr 26 04:00:50 2015 +0200

    Add config for Travis CI
    
    This builds and installs awesome (which runs its checks) and displays
    --version.
    
     - Build libxcb-cursor-dev and lua-lgi manually.
     - A lot of dependencies are installed manually from Git or luarocks.
     - Include Travis status in README.
    
    Closes https://github.com/awesomeWM/awesome/pull/208.

commit 4845a73df234f0310102b5d5294516cc365db734
Author: bew78 - lesell_b <Bew78LesellB@users.noreply.github.com>
Date:   Fri Apr 24 22:47:06 2015 +0200

    Update finder.lua.in

commit d2ddb3370830241c8ec3b5a23e3055a6b7f9f299
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Apr 19 03:30:35 2015 +0200

    awesomeConfig.cmake: remove version requirement for xcb-xkb

commit dd13d8e12209c3bb1b18cf57eb52f4dd9c571cc4
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Apr 19 02:16:46 2015 +0200

    Default config: fix folding from last commit

commit 98c4ae8573a1ce828f02622e141ce02dc48a4c57
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Apr 19 00:31:11 2015 +0200

    Fix ldoc target for awful.widget.keyboardlayout
    
    Define @classmod wibox.widget.keyboardlayout, otherwise ldoc fails to
    find the base class:
    
    > module(...) name deduction failed: base .../src/build/docs/capi/ .../src/build/lib/awful/widget/keyboardlayout.lua
    
    Fixes https://github.com/awesomeWM/awesome/pull/149#issuecomment-94014438

commit fc39db377f4c7dfe860fdf5b9287653713f56cdd
Author: ‚ñü ‚ññ‚ñü ‚ññ <dodo.the.last@gmail.com>
Date:   Sat Apr 18 08:57:15 2015 +0200

    awful.menu: resize menu when item count changes
    
    When the number of items of a menu change by menu:add or menu:delete
    and the menu is shown, its wibox has to resize.

commit 40b4387e6dde3488f47fbd4b8f72ce26a27442ce
Author: ‚ñü ‚ññ‚ñü ‚ññ <dodo.the.last@gmail.com>
Date:   Sat Apr 18 08:53:57 2015 +0200

    awful.menu: update t new layout api
    
    Apparently the style to get the direction of a wibox.layout.* changed
    from calling get_dir to just accessing the attribute dir.

commit c24862bd45467b8d48a62e484c170a18bd9a940f
Author: Julien Danjou <julien@danjou.info>
Date:   Sat Apr 11 17:54:19 2015 +0200

    Update default icons
    
    This is a set of icon designed by
    Hajime Branko Yamasaki Vukelic <branko@brankovukelic.com>
    the original author of the awesome logo.
    
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit a899a46664d1267b488cf361aa10345d1735776e
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Mar 31 01:17:45 2015 +0200

    Set &error in parse_command, return it from luaA_spawn
    
    In case of parse errors from `g_shell_parse_argv`, this now gets
    returned by `luaA_spawn`.

commit 594825c929f8ac37939e9f056525143a234d6fde
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Mar 31 00:11:20 2015 +0200

    Fix awful.completion for zsh
    
    This fixes 704cf21.

commit d9b1d5490cd0ef18578d969153ecab1f9e1f53a5
Author: Aleksey Fedotov <lexa@cfotr.com>
Date:   Mon Feb 23 22:30:02 2015 +0300

    xkb: Added widget to display current keyboard layout
    
    Widget shows current keyboard layout short name (usually two letters,
    for example 'us', 'de'). Indicator will be hidden if only one layout
    configured.  Layout can be switched either by clicking on widget or by
    function keyboardlayout.next_layout()

commit 418b7cf45937607ae0c6ece2eedd81bb97e37fe2
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Mar 28 22:17:45 2015 +0100

    minor: formatting

commit 0dcbf1265a261fd56c76d7556ed890cb2c05fcc7
Author: Heiko Becker <heirecka@exherbo.org>
Date:   Fri Mar 27 09:40:42 2015 +0100

    awesomeConfig.cmake: Allow setting AWESOME_DATA_DIR
    
    The motivation behind this patch is my distro moving to a multiarch
    layout. While binaries, libraries, etc. are are installed into
    /usr/{host}/{bin,lib,...} architecture-independent data should still
    go to /usr/share.

commit e1fa04a15d6301bbcd9cc1915c214fcd1e562c44
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Mar 21 05:46:56 2015 +0100

    ewmh: screen_change: fix off-screen geometries
    
    When moving a fullscreen/maximized client to a smaller screen or with
    different Y offset etc, its offset was not handled properly.
    
    This moves it first into the new area, and then makes sure that its not
    off-screen.  The latter should not happen, because the width/height is
    adjusted before.

commit 07486f7ead25cae4ba1a301ce2af809fab070dbf
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Mar 17 16:23:40 2015 +0100

    tag.lua: add "property::icon_only" signal
    
    Thanks @NormalRa for the patch.
    
    Fixes #138.

commit df173f7ddd27d4500558148ad2d3a93ab1737985
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 14 09:06:12 2015 +0100

    Make client.focus = nil work (Closes #164)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4636b111b444c874f1f5f41427f8f5d2a9bae556
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 7 14:08:39 2015 +0100

    cmake: Really add '--dirty' flag to 'git describe' for version
    
    This fixes commit 2dc14b10de9.
    
    That commit added the '--dirty' argument the first time we generate the version
    stamp file, which is when CMake produces the Makefiles (called from
    awesomeConfig.cmake). Later on, we use build-utils/git-version-stamp.sh to
    update this file. That file was missing this new argument to 'dit describe'
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 996f6785a885349855a1233113ba092816175843
Author: Aleksey Fedotov <lexa@cfotr.com>
Date:   Mon Feb 23 19:08:24 2015 +0300

    xkb: implementation of keyboard layout switched
    
    This patch provides functions to get/set current keyboard layout.
    
    Current implementation doesn't support any configuration of layout,
    it's a merely a layout indicator and switcher, however layout
    configuration can be set by tools like setxkbmap or by any third-party
    tools.

commit 5b81a0db6079f5087bf5cf6290ce5973bd7d3b6d
Author: taptap <alexey.e.egorov@gmail.com>
Date:   Fri Feb 27 23:45:03 2015 +0300

    Add reset_timer and replace_text functions
    
    Enables users to replace text and reset expiration timeouts of existing
    notifications, which is necessary for OSD creation by means of naughty.
    
    Signed-off-by: taptap <alexey.e.egorov@gmail.com>

commit ca89f0f3114b9ef9686ff0cb35a74cd4fc3a57e5
Author: Julian Wollrath <jwollrath@web.de>
Date:   Thu Feb 26 22:06:34 2015 +0100

    Use LDoc commands to mark parameters as optional in the docs.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 781f0be520440e23609e7fe43f35ac260148c775
Author: Julian Wollrath <jwollrath@web.de>
Date:   Thu Feb 26 17:48:10 2015 +0100

    Drop empty module descriptions from the docs.

commit fcadebb8ae5d23b8563ea0b7cf6ad925266b05a0
Author: Julian Wollrath <jwollrath@web.de>
Date:   Thu Feb 26 17:05:54 2015 +0100

    Fix Markdown issues with contributing guide.
    
    Inline code blocks (`code`) apparently can not be extended about
    multiple lines.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit ffa535ca29d2bea33527f6bc29d81985fbd3b9f7
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 26 16:08:21 2015 +0100

    doc: fix markup with wibox.widget.textbox:set_markup

commit 1b6564f20995a268d455ff149e6aaff26a07ee0c
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 26 16:06:19 2015 +0100

    docs: fix HTML / table param with awful/widget/tasklist.lua

commit 65ad83ac30841a73cdd5129b02540ff9872c0e0e
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 26 16:05:47 2015 +0100

    docs: ignore awful/widget/init.lua, not common

commit 2930c0ab4a733a0918e4d902c47c9c2d9e5aa3a4
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 26 15:40:00 2015 +0100

    doc: fix for awful.util.geticonpath

commit f66b52463d39af4182edb93fb81e6c9f3422bc0f
Author: Julian Wollrath <jwollrath@web.de>
Date:   Thu Feb 26 15:15:25 2015 +0100

    Convert HTML to Markdown.

commit 12f8be18241bc256396d6136ce2d72973746a9b4
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 26 14:52:45 2015 +0100

    docs/02-contributing.md: fix/improve Patches section

commit 74f2596ae7cb3a1e8736f2b3d1e61de9d8321d44
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 26 14:52:21 2015 +0100

    docs/02-contributing.md: fix whitespace / formatting

commit a65affe9d04935207e3b52fdaa410367d2bd643e
Author: Julian Wollrath <jwollrath@web.de>
Date:   Thu Feb 26 12:09:17 2015 +0100

    Add section about LDoc in the contributing guide.

commit 5b69d8c5ddcef17316e7cf1dbbf1270673b851da
Author: Julian Wollrath <jwollrath@web.de>
Date:   Thu Feb 26 12:08:53 2015 +0100

    Fix spelling in the contributing guide.

commit 3a34b49179a1b6f4e99745f61e651d5c4c18cb90
Author: Julian Wollrath <jwollrath@web.de>
Date:   Thu Feb 26 12:05:59 2015 +0100

    Fix LDoc warning.

commit faa1c74f034302dfcb3812f554de986e768144a8
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Feb 25 23:41:52 2015 +0100

    doc: refer to gears.color.create_pattern from set_color

commit 4d7bd190146bf269a763bfadb0dcabc7e7ea221a
Author: Julian Wollrath <jwollrath@web.de>
Date:   Wed Feb 25 11:18:53 2015 +0100

    Make everything wibox related a class in the docs.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 0b65459e14fd29388f41c6a7694a61a432b2652a
Author: Julian Wollrath <jwollrath@web.de>
Date:   Wed Feb 25 11:16:05 2015 +0100

    Make screen a class in the docs.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit a533097cfd94dfd51435d8349690f8304686ec43
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 22 23:57:11 2015 +0100

    doc: fix typos and add type information to screen module

commit f8a3209707fce01f634bb820cd86c5a5f663ab82
Author: Julian Wollrath <jwollrath@web.de>
Date:   Sun Feb 22 22:26:39 2015 +0100

    Fix ldoc warning.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 6de9d1e1d587db8781c5f15aac20a1af5e394387
Author: Julian Wollrath <jwollrath@web.de>
Date:   Sun Feb 22 22:26:25 2015 +0100

    Make description of awful.mouse.finder readable.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit b16944a65484152a22b20fe3fa8c282a519ae8d8
Author: Julian Wollrath <jwollrath@web.de>
Date:   Sun Feb 22 22:25:09 2015 +0100

    Fix generation of the docs.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit fd63993b092604e69800c4fb8a7f987a542576f5
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 22 21:49:16 2015 +0100

    Add README.md symlink
    
    Ref: https://github.com/awesomeWM/awesome/pull/146#issuecomment-75389767

commit c7709e39d2bfcf08088751d69d71ba00739bc88e
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Feb 20 16:57:34 2015 +0100

    Fixup display of e-mail adresses in the docs.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 939dab8ba988d562f3cebbb39d81e4d7afc6e625
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Feb 20 15:45:53 2015 +0100

    Some more doc fixes all over the place.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 668055479e37b4ba9b986aa69848a0ac94cf56fa
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Feb 20 15:41:19 2015 +0100

    Convert usage of HTML to markdown.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 4d76967397aa9a80867c0d335b365659cb06342b
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Feb 20 15:24:26 2015 +0100

    Beautify docs a little bit.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit ce0a2d4749def6cc2c1ea627e297226d3f49e562
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Feb 20 15:22:44 2015 +0100

    Add missing changes due to docs-overhaul.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit 38e2a471578f93b4b5c6bfdbf7a67ca2335f5b2b
Author: Julian Wollrath <jwollrath@web.de>
Date:   Fri Feb 20 15:21:51 2015 +0100

    Fixup newly introduced whitespace issues.
    
    Signed-off-by: Julian Wollrath <jwollrath@web.de>

commit b96b3ef31c05c0c978bc9e71648583846878c81c
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 26 20:26:52 2014 +0100

    Docs: Move all docs to a `docs` folder.
    
    This moves all of the documentation into a separate folder, which keeps
    everything in one place and avoids unnecessary clutter.
    
    This will pay off when proper guides are written for various aspects of
    using awesome or contributing to it.
    
    This also updates the building system, so that the docs are properly
    generated with new directories.
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 6ab86b5d03959827fb8bf8f3d53d8cc6751752a4
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 26 20:43:39 2014 +0100

    Docs: Add local functions to beautiful and naughty
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit ac7377aa3ed4f7cb5206153c0695bc9596e8cc4b
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Sun May 25 13:35:44 2014 +0100

    Docs: change the style of documentation
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 4b94f05799be8d59b84eadb3036020c68f97cc08
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Sun May 25 13:25:01 2014 +0100

    Docs: Naughty - mostly done
    
    Reorganise the config table, so that we have a single table and the
    fields are nested.
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 734cc2f59cc51420731f7f621e69a834383f2c10
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Sun May 25 13:24:52 2014 +0100

    Docs Finish beautiful
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit f12feb0e7de0894c844d51d3f5b59ff407e8f657
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Sat May 24 22:25:12 2014 +0100

    Docs: update config.ld.in
    
    Include more files in order to generate the docs.
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 654b1103220d0526f9919d3ec1b18317206a88d7
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Sat May 24 22:18:19 2014 +0100

    Docs: Fix the header for beautiful
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit d4a4913fd879cfbab0cb7028984555c9ec542f43
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Sat May 24 21:14:06 2014 +0100

    Docs: Minor fixes to the README
    
    Fix some syntax, so that we have the sections separated by empty lines
    (my pandoc syntax plugin was not working correctly without it). Also,
    add a sentence on the CONTRIBUTING guide.
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 1f948db685a582154bcdcc8cd49ebe4c4e0d4c2b
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Sat May 24 21:13:42 2014 +0100

    Docs: merge PATCHES, STYLE, BUGS into CONTRIBUTING.md
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 31bda9e88d8db5108a8cb2badbb61a597636809f
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Tue May 20 22:52:08 2014 +0100

    Docs: Ignore awful.widget.common
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit ed0bf91122d6ed16a0e326ca3d9c41515619bbb5
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Tue May 20 22:39:31 2014 +0100

    Docs: Work on naughty
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 7f8a0787b84ebef5736c35cfcce5e8cf85b3e708
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Tue May 20 12:02:39 2014 +0100

    Docs: General work on the awful module.
    
    This is basically an initial stab for some modules and some
    experimenting with the `@classmod` directive.
    
    For most of the docs only basic transforming was done.
    
    At the moment the tooltip module looks the best.
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit e4fa6effe222ab833246208afa9b8f16fb02d954
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Tue May 20 12:02:13 2014 +0100

    Docs: Fix headers for the wibox module
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 00f558ff92a7fe0d3aea3ba5193c382d7e7d7a4b
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 19 14:15:39 2014 +0100

    Docs: General work on gears module.
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit de10f5e4f088252d2d3ee78b75c81026c37d834c
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Tue May 20 11:44:21 2014 +0100

    Docs: awful.layouts fixup
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 9f8e2b1336cc1fd3b6af8451d14d98f0a7905e82
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Tue May 20 10:47:20 2014 +0100

    Docs: Begin work on awful.client
    
    This fixes usage and some and client parameter types.

commit 0f27de8393717a0616ee1b81747dd9c23956523c
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 19 23:22:35 2014 +0100

    Docs: general C API fixes
    
    This contains general C API fixes:
    
        1) Remove module declarations in LUA and use the @module directives
    
        2) Fix indentation/usage where necessary
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit a0051c7dc490b17096a4862baa7d134608a4032d
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 19 12:37:13 2014 +0100

    Docs: Start menubar refactoring
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 20eeb66541c5666bfebe51f97420e86f97009b4a
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 19 12:36:38 2014 +0100

    Docs: Start gears.color refactoring
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit f726dcee61de7e739414453b03bc2f4a66d5135b
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 19 12:28:57 2014 +0100

    Fix LDoc errors on generating the documentation.
    
    This also at the same time ports the documentation to the new `Markdown`
    format.

commit 12185a5aae50073743095a3cf42c10e7d0c1c8f3
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 19 11:27:10 2014 +0100

    Docs: Port awful.rules into the new doc format.
    
    This converts the old documentation style into the new one to use
    markdown instead of HTML in bigger doc blocks. Also, we can use block
    comments, which means that writting documentation (and indenting code
    blocks) easier.
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 400ba86ead0b8c3217ea8b92d1412b2bcc4d07aa
Author: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>
Date:   Mon May 19 10:48:23 2014 +0100

    Docs: Use LDoc markdown support, exclude files.
    
    Use markdown support, which is bundled together with LDoc.
    
    Also, add a macro for the client type, which will simplify parameter
    definitions. With this we can write `@client` instead of `@tparam
    client` in order to denote that the parameter needs to be a client
    structure. This simplifies `awful.client` module.
    
    This also excludes some of the `.lua` files from generating the
    documentation, because some of the files do not contain useful
    information or any public functions at all. This make the docs easier to
    navigate.
    
    Remove layouts from documentation
    
    Signed-off-by: Ignas Anikevicius (gns_ank) <anikevicius@gmail.com>

commit 20ca989333a3edc581a6c873f0303e2d032ae249
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Feb 25 21:52:03 2015 +0100

    Ignore more events while minimizing a client
    
    When minimizing a client, we temporarily ignore events for the client window (so
    that we don't get the UnmapNotify event that we are causing for the unmap) and
    for the root window (I don't actually know why, no "harmful" events should be
    caused...).
    
    However, we weren't ignoring events on the frame window itself. This commit
    fixes that oversight.
    
    The problem here is that the pointer could be inside the window that is being
    minimized. When we then unmap said window, the pointer will now be inside of the
    frame window and the X11 server will thus generate an EnterNotify. When we
    handle this event later on, we emit mouse::enter on the client and e.g. the
    default config then focuses this client, which undoes the minimization.
    
    This fixes a regression introduced in commit 3aeac3870ca4855 and fixes #92.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 025b2841da655eeaed353c0dd880557d2c5e2c23
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Feb 24 15:33:49 2015 +0100

    autofocus: emit `request::activate` signal
    
    After a client gets unmanaged, the newly focused client might not be
    visible / raised above other windows.
    
    Using the `request::activate` signal makes the autofocus handler more
    flexible, and will raise the focused client by default.

commit 2a9b1d00e1e127380dd5c51463b30db1584b9fe6
Author: actionless <actionless.loveless@gmail.com>
Date:   Thu Feb 19 22:11:38 2015 +0100

    feat(lib: menubar): add paginated scrolling
    also fixes some local/global issues and adds saving current geometry to the instance table

commit c88c51f74dd1781a38be0d366bbc85e5124917b0
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Feb 22 22:32:16 2015 +0000

    layout: Fix delayed arrange regression

commit 517d6049c871488a12134d8f53983d4052ce7874
Author: Kenton <kmiller13@users.noreply.github.com>
Date:   Sat Feb 21 17:37:30 2015 -0500

    added middle anchors for naughty notifications
    
    top_middle and bottom_middle can be used as position arguments for new naughty.notifications

commit 5d0fc566e996c59ebf917daf16afcec4ec31f41e
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 20:37:30 2015 +0100

    awful.tooltip: add "delay_show" arg
    
    This will wrap the show and hide methods using gears.timeout.

commit c26a96177da1904f65c44f4eddc88fa9e82c6a37
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Feb 18 12:49:21 2015 +0100

    spec: fix "require" statements for busted 2.0.rc6
    
    Busted now only provides the magic modules `assert`, `spy` etc for
    the busted context.  The helper module `spec/wibox/test_utils.lua`
    therefore needs to explicitly require them.
    
    Ref: https://github.com/awesomeWM/awesome/pull/139

commit 6adeafdec3cc5f5d44e2ac8eeb370d9eaf9be7d6
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Feb 18 21:23:47 2015 +0100

    Test if cairo-xcb is usable during startup
    
    Create a pixmap of size 1x1 and a cairo-xcb surface for this pixmap. If the
    surface ends up in an error state, awesome will refuse to start.
    
    This turns a "awesome is unusable and prints lots of errors on X11 servers where
    the root window has a depth of 8bpp and no one knows where exactly the problem
    is" into "awesome refuses to start on such X11 servers and prints an error that
    helps Uli to say immediately what the problem is".
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8b6acb830f5f46acea8bc2297e38cffb42341017
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Feb 17 18:55:26 2015 +0100

    minor: code style fixes

commit f05ebc5d982d1ea31cb2ece1a9bbc720cc3622ce
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Feb 17 18:38:24 2015 +0100

    awful.tag: fix call to update_urgent from client_untagged
    
    Ref: #130

commit c9f08fb7f8baafc63bfc6559ff6a56e76401e55e
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Feb 17 15:23:42 2015 +0100

    doc: link to github in README for bugs

commit 289bc26a3c7b8902d3745f1dd8e3a86c08933cab
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 15 22:33:23 2015 +0100

    doc: config.ld: setup @client alias, and use it
    
    It also adds the "@tab" alias, which did not work for me, but should be
    the default?!

commit 47ffb1610c19d2c8cfd7d074d7739033fc345324
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 15 22:26:47 2015 +0100

    doc: improve meta info / structure for gears.timer

commit 302e698ba8187a203078a610f53930582fe75b40
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 2 11:19:38 2015 +0100

    minor

commit 29d1b473f8703ec83a953c6b5376b190319a54fa
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Mar 24 01:01:41 2014 +0100

    Fix doc for textbox:set_markup

commit 52ec0ebd9378f815e1a6d6b8e0aed14521d887f2
Author: Max <silverhammermba@gmail.com>
Date:   Sun Feb 15 11:25:11 2015 -0500

    Don't create borders/set client geometry in layouts
    
    Instead, layouts simply store client geometries in a table.
    awful.layout.arrange corrects these for border widths and applies them.

commit 246de56aad177d78c9595f61de774354ab62d4d6
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Feb 13 02:35:24 2015 +0100

    Use delayed calls for autofocus signal handlers
    
    This avoids awful.autofocus to kick in, focusing some other client in
    between (where a focused signal would get emitted for, although the
    intermediate client was never meant to have focus).
    
    This is the traceback:
    
        stack traceback:
          /home/user/.config/awesome/cyclefocus/init.lua:199: in function 'add'
          /home/user/.config/awesome/cyclefocus/init.lua:309: in function </home/user/.config/awesome/cyclefocus/init.lua:304>
          [C]: ?
          /usr/local/share/awesome/lib/awful/autofocus.lua:22: in function 'check_focus'
          /usr/local/share/awesome/lib/awful/autofocus.lua:31: in function </usr/local/share/awesome/lib/awful/autofocus.lua:28>
          [C]: ?
          /usr/local/share/awesome/lib/awful/tag.lua:517: in function 'viewonly'
          /usr/local/share/awesome/lib/awful/client.lua:69: in function 'jumpto'
          /home/user/.config/awesome/rc.lua:1188: in function 'client_run_or_raise'
          /home/user/.config/awesome/rc.lua:1217: in function 'run_or_raise'
          /home/user/.config/awesome/rc.lua:1243: in function 'press'
          /usr/local/share/awesome/lib/awful/key.lua:42: in function </usr/local/share/awesome/lib/awful/key.lua:42>
    
    Ref: https://github.com/awesomeWM/awesome/pull/19
    
    This supersedes https://github.com/awesomeWM/awesome/pull/107.

commit 5140ef1764c35237bd445bb9c573db9e6ca69652
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jan 31 22:34:43 2015 +0100

    Send old_screen with "property::screen" client signal
    
    This should improve layout re-arranging with 2+ screens.

commit f5610fa9203c609f0761e75c1a66707e4e2b7d39
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Feb 15 12:16:03 2015 +0100

    objects: Add .valid property (Fixes #110)
    
    This property is especially useful for client objects which are unusable after
    unmanage. "Unusuable" here means that pretty much everything you do with the
    client object results in a lua error.
    
    Syntax is c.valid.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 17776051ec2d8522a85219eef6027eb75206dc01
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 15 00:46:38 2015 +0100

    layout.arrange: delay a call per screen
    
    This is a followup / fix for 7410646, which did not handle multiple
    arrange calls to different screens per main lopp.

commit 0d17ac0d0cdb0f6528ed0e7d137e17b20d4817dd
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 20:31:53 2015 +0100

    doc: fix/improve markup for awful.tooltip

commit 3ad76159079daa6075b07f394c8c8fa1ffc30641
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 15 11:28:07 2015 +0100

    doc: BUGS: link to Github issues, the old tracker is readonly

commit 62346a75a91a25ce355811659e638b84160050e6
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 15 10:52:35 2015 +0100

    awful.util.deprecate: do not use glib.String() for the hash
    
    This works around a crash and is not really required.
    
    Fixes https://github.com/awesomeWM/awesome/issues/127.

commit 9f8dff8a14e5423ff4dafc250623f4207efaaf8b
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 21:55:23 2015 +0100

    awful.placement.no_offscreen: no negative x/y
    
    If a client's width/height is larger than the screen's geometry, align
    it at the screen's x/y offset.
    
    Test case with gvim, from a maximized terminal on a floating tag:
    
        % gvim -u NONE -N --cmd "set lines=$((LINES + 5))"
    
    Without this patch the top of the window is off-screen, but the bottom
    should be.  Fixing it using a number of lines that fit the screen should
    display the window completely.

commit 2dc14b10de9d2467a019b8e03efa6a596bf180cf
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 21:30:29 2015 +0100

    cmake: add '--dirty' flag to 'git describe' for version

commit 8919faa7b3eb7616d6e55933da518eb93b8ab4f0
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 18:55:42 2015 +0100

    doc: fix warnings from doxygen

commit d94539340500a6c69853d5bef71ba98957a07eb1
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 18:54:36 2015 +0100

    doc: remove obsolete doxygen settings

commit f453863794d41bb0d30313c2624e75bb8cf07266
Author: Samir Benmendil <samir.benmendil@gmail.com>
Date:   Mon Jan 26 16:50:15 2015 +0000

    Don't add margin when icon_only = true
    
    Avoid adding an unnecessary margin to the taglist if it has the
    `icon_only` property.
    
    Fixes FS#1199 - widgets add an unnecessary margin if icon_only= true
    https://awesome.naquadah.org/bugs/index.php?do=details&task_id=1199

commit e510799a7c33bd58513abf7478ca6652883a2ca3
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 2 09:26:19 2015 +0100

    Add support for setting client.name
    
    Fixes: https://awesome.naquadah.org/bugs/index.php?do=details&task_id=921

commit fd1b6b15cc8911ad94bd438bc4fcf2d8e4bf8bf9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 14 15:42:02 2015 +0100

    Remove superflous xcb_flush() call (Issue #108)
    
    Some lines down we are calling awesome_refresh(). That function already calls
    xcb_flush() for us.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 006b43cb6fd140ded636ff36e43753700c8aa8d6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 14 15:41:11 2015 +0100

    awesome: Add startup signal
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0a76e41cb850e67c34085a4e3aa87b11424588d7
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Feb 10 00:59:15 2015 +0100

    Use lgi.GLib.String():append(tb):hash()

commit 5d7d3fa6ce8d06bd993e54783375b08ab4a07567
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 14 15:12:46 2015 +0100

    Add c:apply_size_hints() to client objects
    
    This function gets a width and height of a client, applies the client's size
    hints to these numbers and returns the result.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 74106462ac1f0877d4dd3791c9a983283c034169
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Feb 12 23:09:27 2015 +0100

    Do layout.arrange only once per main loop
    
    This uses timer.delayed_call to arrange the layouts only once per main
    loop.

commit 2174b80c3fbb4ad6d380069dd02f7883f1258333
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 14:09:10 2015 +0100

    client_focus_update: allow "invisible" clients
    
    This removes the check for `client_maybevisible`, which now allows for
    `client.focus = c` from Lua for clients that do not are assigned to a
    tag yet.

commit 76ede0ef45228535a78146f30883b13b7d741d61
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 14:29:29 2015 +0100

    Revert "awful.rules.execute: use delayed_call for emitting request::activate"
    
    The 'request::activate' signal should be sent and handled immediately,
    and not delayed.  It was too much of a hack to work around the client
    not being visible.
    
    Instead, the "is visible" constraint on `capi.client.focus` will be
    removed.
    
    This reverts commit 6963ede3dca9d45e6813b4a099ffe8f8fa2dd46e.

commit 055ad392ee5dbfed0ea38b70f9c9855c884b0eb6
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Feb 14 14:29:16 2015 +0100

    Revert "Revert "Partly revert commit 90fde1393f""
    
    This reverts commit 1c6463822e590508d40862a47ecd86a9a0b8c776.

commit b4d677797a952efd213969b9cb31f5278f2e61e3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Feb 14 13:38:01 2015 +0100

    awful.util.unittest: Move into spec/
    
    This gets rid of awful.util.unittest and instead creates an automatic test for
    it under spec/awful/util_spec.lua. In the process, it also fixes the test to
    actually test the right thing and I took the liberty to add some more tests.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1306a543c287cf8e8cbe5c9f26e313a6bc9c2112
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sun Apr 20 02:25:54 2014 -0400

    Use tag urgent::property instead of looping every clients in awful.widgets.taglist

commit b292b09328137a8e8822ea6bc370ebf7d83a64ae
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Nov 1 18:19:12 2014 -0400

    Add 'urgent' property to tags

commit d688ebe6cdc869e9e175c5cbb824f88a24ad356f
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Apr 16 00:32:44 2014 -0400

    Add new request::urgent signal
    
    This fix two things:
    
    (1) Clients asking to be urgent while focussed, this have been reported
    a few time for urxvt and I usually link a patch that fix this. This may
    not be considered a bug by some, but I think it is.
    
    (2) Add the ability to stop noisy clients from setting the urgent state
    themselves.

commit 627f8ea20f2706d69fe58c3a9f767b35fd1359f3
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 22:54:54 2015 +0100

    Remove 'enc=utf-8' from Vim modelines
    
    This is not allowed, and results in:
    
    > E520: Not allowed in a modeline: enc=utf-8

commit f562b4a64bfb870bd5a475c0a52f181eae6b1eeb
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Feb 10 14:52:47 2015 +0100

    luaA_object_emit_signal: check for valid object
    
    By the time a signal gets emitted the object might be invalid already,
    e.g. when it is very short-lived and unmanaged by the time the delayed
    call to emit_signal is being invoked.
    
    Ref: https://github.com/awesomeWM/awesome/pull/87#issuecomment-70901168

commit 1c6463822e590508d40862a47ecd86a9a0b8c776
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jan 31 11:07:35 2015 +0100

    Revert "Partly revert commit 90fde1393f"
    
    This reverts commit 254e50d88c5f58cb8b736dbb4681d020ddb88919.

commit 6963ede3dca9d45e6813b4a099ffe8f8fa2dd46e
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jan 21 12:38:49 2015 +0100

    awful.rules.execute: use delayed_call for emitting request::activate
    
    This is a followup to commit 90fde13, which caused the client not to be
    visible during the request::activate callback.
    
    This requires an initial call to `awesome_refresh` before the main loop
    to get `awesome.startup` right.
    
    Ref: https://github.com/awesomeWM/awesome/commit/90fde139#commitcomment-9308225

commit 60e04d3ae3606e815c7e8599ba4485fe4891ac04
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 20:06:19 2015 +0100

    menubar: get_icon_lookup_path: only look in apps/ with icon_themes
    
    Ref: https://github.com/awesomeWM/awesome/pull/100#issuecomment-73559676

commit dc41e62f9a58faf723c3eefba729b1e2362f2b2f
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 19:49:01 2015 +0100

    menubar: icon_formats: svg is supported

commit d25e15001fa2bb68d32a6b8bb8f587ec4f4b03b3
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 19:23:42 2015 +0100

    Move building of icon lookup path into get_icon_lookup_path

commit c315687dadaddd6573bc2701908cb52e2f1c6157
Author: salorium <salorium@hotmail.fr>
Date:   Thu Feb 5 19:42:49 2015 +0100

    menubar: improve path icon behavior
    
    This adds $XDG_DATA_DIRS and HOME/.icons for icon lookups.

commit 8df51d0b8c5be8fc67bd55e34c17686006da1e2f
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 20:23:03 2015 +0100

    awful.util.deprecate: display deprecations only once
    
    This remembers displayed tracebacks and skips them if they were
    displayed already.

commit a6718a4a0da1cc90e44ee753665674ceb9450f95
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 20:20:18 2015 +0100

    Print debug.traceback() with imagebox:set_image, when reading image failed
    
    This made it easier to figure out where a file causing an error was
    coming from, but I could imagine that this could become too noisy, and
    that there is/should probably be a more streamlined way to enable more
    verbose logging / error output.

commit a0e7f88b00fc2feba904478d16821c26940f6b84
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Feb 9 20:17:40 2015 +0100

    awful.util.file_readable: return false for dirs
    
    This is currently only used for icon lookups / where files are expected.

commit 3a160c9363e186b803b9db73fd568543ded346f0
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Feb 8 02:46:40 2015 +0100

    awful.client.property.get: fix loading multiple persistent properties
    
    When loading persistent properties for a client, the loop value wasn't used,
    but the original/requested property.  This would only get triggered when
    using more than one persistent client property (the default is one,
    "floating").

commit 516dd91027159d7434a5769abd9eb97d39e83290
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Feb 6 23:08:07 2015 +0100

    Re-apply naughty: Fix builds without dbus (d5088c5)
    
    This got lost in 355f106 (naughty: Split up into core and dbus).

commit 02bfd06038a61d14a4c31576c62105aa174e2181
Author: Roy Crihfield <rscrihf@gmail.com>
Date:   Wed Jan 21 19:30:13 2015 -0500

    menubar: quote special chars
    
     - Simplified & renamed nocase function
     - Add pattern-quoting functions to awful.util:
       - awful.util.query_to_pattern
       - awful.util.quote_pattern
     - awful.util: Add basic unit tests for menubar query
    
    Fixes https://github.com/awesomeWM/awesome/issues/84.

commit 4557b59a3ed50ab2a375622e31fc0e3c69015b95
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Jan 31 11:58:49 2015 +0100

    awful.ewmh: Enforce client geometry (FS#764, FS#1216)
    
    This reverts "Revert "awful.ewmh: Enforce client geometry
    (FS#764,FS#1216)"", but adds a fix to ignore property::geometry signals
    coming from geometry_change itself.
    
    FS#764: https://awesome.naquadah.org/bugs/index.php?do=details&task_id=764
    FS#1216: https://awesome.naquadah.org/bugs/index.php?do=details&task_id=1216
    
    This reverts commit 8cf48d1fe84177ae9a3448379691ca0fc4bc9b90.

commit 704cf21b68ffca384afb5d1beda105a46c288bd8
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jan 21 09:23:47 2015 +0100

    completion: quote strings passed to the shell
    
    The strings passed to the shell completion machinery need to be quoted.

commit 254e50d88c5f58cb8b736dbb4681d020ddb88919
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Jan 23 20:43:40 2015 +0100

    Partly revert commit 90fde1393f
    
    That commit made awful.tag use timer.delayed_call() to call withcurrent() during
    the manage signal. The idea was "if nothing else assigns any tags until the end,
    apply some default ones".
    
    However, the C core refuses to set the input focus to an unviewable client and
    thus this means that setting the input focus during manage failed. So, instead
    of using the delayed_call(), just call withcurrent() directly, like we did
    before.
    
    However, some part of that commit is still left: Awful.rules no longer
    disconnects the withcurrent() callback from the "manage" signal. This was
    originally added in commit 5e7ddd1efa, because it clients flickered otherwise if
    they were moved to some unselected tag during "manage". This happened because
    the C code unbanned the client when it got assigned the input focus and only
    later did some other code move it to some unselected tag.
    
    However, this flickering will no longer occur, because commit 3dbf89c990 added
    lazy focus setting. Thanks to this, setting the focus no longer unbans a client
    as a side-effect. Thus, if you focus a client and then remove it from all
    selected tags, nothing will be visible on-screen.
    
    To make a long story short: This commit reverts the part of commit 90fde1393f
    which caused side effects. The part that wasn't necessary any more is left in.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d268dba0758b34a3dbb0658080d91508e05b2f52
Author: Roy Crihfield <rscrihf@gmail.com>
Date:   Tue Jan 20 13:28:46 2015 -0500

    menubar: handle nil Name in .desktop files

commit 532c113e1f3d22aa2a6213fa56dab53767d2a80c
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Jan 21 08:33:03 2015 +0100

    minor: doc fixes for keygrabber.lua

commit 0c06d37899e150da68e84e1c8d23fb584aedfc3e
Author: Alexis BRENON <brenon.alexis@gmail.com>
Date:   Tue Jan 20 15:37:35 2015 +0100

    [beautiful] Beautiful initialization handle path or table
    Allow beautiful to be initialized either with a path to the theme file or directly with a table

commit 3bccb0ab738d7065c03390f2d0fa5f5b4305a5d9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 17 19:44:04 2015 +0100

    a_dbus_message_iter: Handle DBUS_TYPE_DOUBLE
    
    Fixes #78 on GitHub.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 90fde1393f697ca0d7201e385293a5ac4778d136
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 11 11:14:45 2015 +0100

    awful.tag: Use delayed_call to call withcurrent on manage
    
    This way this function runs after everything else did its job. The client will
    only get assigned a tag after everything else had a chance to do so.
    
    Thanks to this, awful.rules no longer has to disconnect the call to withcurrent.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7bc4ab0bf7e059365ad22bfcb521e102f8054a74
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 11 11:04:33 2015 +0100

    gears.object: Assert that arguments have the correct type
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6fc15f4afdbb49cddb986fe35c61996875e5ca46
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 11 10:58:49 2015 +0100

    Add and use gears.timer.delayed_call
    
    This function calls a callback at the end of the current main loop iteration.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 27988ecdde1e19b91adc1dbb308440541bfc246e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jan 11 10:42:45 2015 +0100

    Remove titlebars from clients during shutdown (FS#1159)
    
    This reparents all clients back to their proper position during shutdown, so
    that their top-left corner is now where their titlebar's top-left corner was.
    Hopefully, this fixes floating clients moving around across a restart.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 26ffd2c6f2e1d8278536bb0252946bef9a781900
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 21:06:30 2015 +0100

    naughty.dbus: Fix the CloseNotification method
    
    It was broken when naughty was split up.
    
    Thanks to trollixx for reporting this on IRC.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dea5a23eac7e54c60df5771caa0ee28b3f1fc8e8
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Nov 6 19:48:35 2014 +0100

    Remove urgent state for already focused client
    
    - Remove urgent state in `client_focus_update` always.
    - Make `client_focus_update` indicate if focus changed and use this from
    `client_focus` to update `globalconf.focus.need_update`.
    
    Fixes: https://awesome.naquadah.org/bugs/index.php?do=details&task_id=1310

commit 2e286a45d876ea7fc26d0464d6e51c29ac86d332
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 20:28:26 2015 +0100

    awful.mouse.finder: Remove rounded_corners call
    
    Let's just quote a mail I received from Rastislav Barlik:
    
    I tried to make use of awful.mouse.finder but I found out that it's not working
    as supporting functions rounded_corners were removed with commit
    03e0ee53d2b1f2e7bac40255758dfd2a99c5ab6a.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6afb5f28a2ed66a3f168aa3473252b2c2439e99d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 20:27:26 2015 +0100

    naughty.dbus: Make this actually work
    
    Apparently I still had an old naughty.lua laying around in build/lib and thus
    this new code wasn't actually tested. It's a miracle that it works so well
    besides this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 223a8c87423a5679b24a96d658fd1cc3df79b9ba
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 18:57:38 2015 +0100

    naughty.dbus: Factor out a helper function
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 355f10609c4a7902edf5c8c9691bf9d7f32be8ae
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 18:44:30 2015 +0100

    naughty: Split up into core and dbus
    
    No changes in functionality intended.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 239bc02d835c1bdc849d50ac7936702bfc01493b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 17:48:32 2015 +0100

    naughty: Make the actions API more useful to lua code
    
    Previously it was just tailored for the dbus interface's needs.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 509bbe7230c935aa0fae250fca2685f0b8b7b941
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 17:32:27 2015 +0100

    naughty: Add a destroy callback argument to naughty.notify
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d5088c5f6f7831d19dbacf83b2e8294d6bd48a56
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 16:56:03 2015 +0100

    naughty: Fix builds without dbus
    
    The new notification action code tried to emit dbus signals even if awesome was
    build without notification support. Fix this by adding the necessary "if".
    
    (This also removes an unused return value which wasn't marked as "local" and
    thus triggered my "complain if something messes with the global env"-script)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a36ddb68e12b3f8d99f8525e16a3b5be637a0001
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 16:53:59 2015 +0100

    gears.timer: Don't assert() that no error occured
    
    The whole point of this pcall() is that we do not have unprotected Lua errors,
    because those kill awesome. So instead of assert()ing, let's just print a
    message.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3aeac3870ca48550a165af3e8f0a81b2b01376b3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Jan 10 00:04:11 2015 +0100

    Unmap minimized clients
    
    Because ICCCM pretty much mandates that minimized (aka "iconic") clients are
    unmapped. In detail: To go back to normal state, the client should map its
    window and for this to work, the window needs to be unmapped.
    
    Thanks to Oleg Shparber for reporting some issue he had with a self-written Qt
    program and for providing a simple and short test case.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8261e02a0b7cd2cca1da9ec6fdbd577c3bcbed3a
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Jan 6 16:41:56 2015 +0100

    Simplify `calc_timeout` with textclock
    
    Ref: https://github.com/awesomeWM/awesome/commit/8dc6fa866628605083a26a70357f762eb51644ff#commitcomment-8867170

commit ac5f8c69a7a0a5892d2e15f0312502e7ca6c3b44
Author: Rastislav Barlik <barlik@users.noreply.github.com>
Date:   Tue Jan 6 12:49:19 2015 +0100

    Displaying only selected tags in taglist
    
    Add taglist.filter.selected() for displaying only currently selected tags

commit 28a6468f37dc6d909e1f5d065c4a47f17d2a741a
Author: Da Risk <da_risk@geekorum.com>
Date:   Fri Jan 2 21:02:12 2015 +0100

    naughty: make sendNotificationClosed() and sendActionInvoked() local

commit 0ccda0eb9e6000b175205a82d65e47d257f71b0b
Author: Da Risk <da_risk@geekorum.com>
Date:   Fri Jan 2 20:07:22 2015 +0100

    Add luadoc for dbus.emit_signal()

commit e664a74710a4637b7abd97c410b532268d051a8c
Author: Da Risk <da_risk@geekorum.com>
Date:   Wed Dec 31 14:28:46 2014 +0100

    Add support for notification actions
    
    The desktop notification specification says that a notification can have
    different actions. These actions allow the user to interact with the client
    application and should be displayed by the notification server.
    * Add function to emit a DBus signal
    * Notifications : emit NotificationClosed signal when closing notification
    * Notifications: use constant for notification closed reasons
    * notifications: Implement notifications actions
    
    This is just a basic implementation to display the actions send with the
    notifications. The actions should be displayed differently
    * Notifications: add support for default action

commit 30b313f77a4a3986e36e2a22d5ce65eaab3b7a0f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 7 14:09:35 2014 +0100

    Implement icon_pixmap and icon_mask from WM_HINTS (FS#1297)
    
    Fun fact: ICCCM specifies that icon_pixmap must have depth 1. Xterm uses a
    pixmap with depth 24. Yay... As such, I don't have any test for the depth == 1
    case and will just assume that it does the right thing. If it doesn't, I bet no
    one will notice anyway.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b9ea9255e9adfdfca4b7dc24e938b9add0488db1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Dec 7 09:44:58 2014 +0100

    timer: Add a backwards-compatibility hack to awful
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8eed5e7bcf44d598814992536547d707767062df
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 18:16:05 2014 +0100

    client: Include c.name in the result of tostring(c)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 8dc6fa866628605083a26a70357f762eb51644ff
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 17:15:24 2014 +0100

    textclock: Round timeout so that displayed time is more accurate
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 94e61ec94ba97963d55103df98c98105c2629575
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 16:44:04 2014 +0100

    timer: Move from C to lua as gears.timer
    
    No API-change (besides the obvious no-longer-a-global-object) intended.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e5120e1beca98b56b526d3196089dd26259bb3df
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 11:56:58 2014 +0100

    Hide globalconf.L
    
    Everything that needs the lua_State should create a local variable like this:
    
      lua_State *L = globalconf_get_lua_State();
    
    This ensures that the compiler warns if there are two variables with name "L" in
    scope. The idea here is that it should become harder to accidentally use the
    global lua state instead of the state of the current state.
    
    While writing this commit, I found another place that gets its wrong: Reading
    client.focus from a coroutine was broken, since it was returning the result on
    the main thread instead of the current one.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit da15317ac2e299f3c1b3833b2c5b198d2d7df5ab
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 11:14:59 2014 +0100

    tag_client: Add explicit lua_State argument
    
    tag_client() said that it refers to the tag ontop of the lua stack. However, it
    implicitly used globalconf.L as its stack. So if you tagged a client with a tag
    from a coroutine, thinks would Go Wrong (tm). Fix this by adding an explicit
    lua_State* argument.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d668268591c9854184583fffe58b945f8a9398d9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 11:07:20 2014 +0100

    Fix some more dubious uses of globalconf.L
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4cfea189f04e3133c87b36ef26229abaa4ab7eb2
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 10:55:21 2014 +0100

    drawin: Use the correct lua_State for the stack index
    
    This just pushed the drawin onto the stack L, but then tries to access it via
    globalconf.L. This just calls for problems...
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f957764e522253007dbb7ecf5abf869bd38b70e2
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Dec 6 10:46:45 2014 +0100

    drawable/drawin: Pass both lua_State and stack index around
    
    A stack index without the corresponding lua_State pointer is useless, because it
    could reference another coroutine than the main thread and thus just assuming
    globalconf.L is wrong. Fix this by also passing around the corresponding
    lua_State pointer.
    
    This improves the result for the following test:
    
      coroutine.resume(coroutine.create(function()
          drawin({}).visible = true
      end))
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f0ab2aebebfaa391de3efdc9598e5fb23a52e483
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Dec 5 18:40:06 2014 +0100

    Don't move clients on ConfigureRequests (FS#1030)
    
    I never saw a single program that set a border on its own windows. However,
    awesome commonly sets borders on its clients and the position of a client is the
    part outside of the border. So when processing a position request from a client,
    we also have to include this border and fix things up correspondingly.
    
    However, the same isn't needed for the client size, because the size does not
    include the borders, but just the titlebar plus the "real" client content.
    
    Thanks to Daniel Hahler for providing a simple test case based on urxvt for
    debugging this!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6f5ec2abe7482b58fadc4c6de4fbe034978f95a7
Author: findkiko <findkiko@users.noreply.github.com>
Date:   Sun Nov 30 15:27:28 2014 -0800

    Vim style menu navigation in addition to arrow keys
    
    Is there a reason it shouldn't be on by default? I'm not familiar enough with the code-base to tell if it will clash with anything.

commit 7c4010eea341385f2ef32f1cad8f5e501ccc183b
Author: actionless <actionless.loveless@gmail.com>
Date:   Sat Nov 8 01:08:26 2014 +0100

    fix(lib: wibox: layout): fixed ldoc for set_spacing method

commit d2168a9889e57dab12345a166e3093a4945f8bab
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Nov 6 21:26:32 2014 +0100

    ewmh.activate: focus and especially raise clients during startup
    
    This fixes the focused client (possibly) not being raised after
    restarting awesome.

commit 0b33e4c9ff85b8653fee0d5503242322119f25ed
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Nov 1 18:53:03 2014 -0400

    rc.lua: Prevent clients from being lost on RANRD changes

commit 45ad4459f2e6bab737e4e93009fd4dff9f4a546b
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Nov 1 18:46:06 2014 -0400

    tag: Improve tag property::index support (FS#1229)
    
    * Move the "index" setting burden to individual functions
      instead of gettags().
    
    * Add some properties earlier so the signal hooks will be called
      with valid data.

commit 37684abe3342886a3bd5f6a9c65acd2d99d313e8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon May 5 23:12:21 2014 -0400

    Add context to request::activate signal

commit 8d7b0feedd9de3cb41bcbc2deff26c9a8ab34450
Author: Robert Siska <siska.robert@gmail.com>
Date:   Thu Oct 23 01:30:19 2014 +0200

    Layouts can define their own resizing handler (FS#1267)

commit daeb9aee19285e19784d7a221fef3caf3b51701d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 18 21:41:38 2014 +0200

    Add signals for titlebar resizes (FS#1233)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 848aadf95cd5a28674c7ee3b11ecfdcbe7aabbc8
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Oct 18 01:17:46 2014 -0400

    wibox.layout: Add fixed and flex layouts widget spacing property

commit cf9db056f957f26b9b63c67b61568e36bbd01c66
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Oct 15 23:42:24 2014 +0200

    gears.color spec: Don't depend on order of pairs() (FS#1301)
    
    The previous code assumed that pairs() iterates over the table in a specific
    order which is not a safe assumption.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 3ff24467b9c5067cf38e40db2b517e91588244fa
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Oct 13 21:36:11 2014 -0400

    tag.delete: Do not reset client tag when unnecessary

commit dfaef973c37c0fdb53ff2ca0d28ebf0ee4517ef5
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Oct 13 15:19:14 2014 -0400

    Add awful.tag.swap

commit 4120e00649da8449179d7cc63b1bf07cc09a24a3
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Oct 13 15:07:31 2014 -0400

    layouts: Allow layouts to be invoked with fake data
    
    This patch allows 2 things to be done:
    
    * Write unit test to validate layouts using fake clients and tags
    * Query the current layout geometry from another tag
    
    The advantages of the former are clear and simple. Those of the later include:
    
    * Creating a screenshot of another layout
    * Display the layout wireframe in the tag list (like KDE2-3, Gnome2)
    * Having and 'ALT-tab' like visual popup for tags

commit 6d20094c15069d59a5b84e8f2a79dd3f69dd1494
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Mon Oct 13 15:00:09 2014 -0400

    awful.tag.update: Fix identical tag set detection
    
    If the "current" table is empty, then identical always true.
    There is a lot of case where this can happen. Mostly when using
    dynamic tagging.

commit d76e20bbcefd28de17300f2766a28bffb6bcafe3
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 11 13:27:29 2014 +0200

    drawin_update_drawing: Remove optimization for invisible drawins
    
    This fixes the following code:
    
       local d = drawin({})
       d.visible = true
    
    The drawin now has a cairo surface assigned
    
       d.visible = false
       d.width = 1234
       d.visible = true
    
    The width change while the drawin was not visible would not get propagated to
    the drawable because of the code that this patch removes. The expectation was
    that drawin_map() would update the drawable later.
    
    However, because the drawin was already visible, its drawable also already has
    a surface assigned. Thus, drawin_map() wouldn't update the drawable either.
    
    Fix this by just removing this optimizations.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 70fef83e50336c5e0105d90cb14e83f6631214d0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Oct 11 13:12:57 2014 +0200

    drawin: Don't special-case moves
    
    The code in drawin_moveresize() tries to be clever and only updates the drawing
    state of the drawable when it is resized, not when it is moved around. This used
    to be necessary because once upon a time, drawin_update_drawing() threw away all
    of the drawing state and thus forcing a repaint. These days it just calls
    drawable_set_geometry() as well and that function special-cases moves.
    
    So this old code in drawin_moveresize() is no longer necessary and actually
    caused problems.
    
    These problems occurred because drawin_update_drawing() is being clever and
    doesn't do anything for .visible = false drawins, because their drawing state
    will be updated once they become visible. However, not skipping
    drawable_set_geometry() means that this broke, because drawin_map() thought that
    the drawing state was up to date while in reality it wasn't.
    
    References: http://article.gmane.org/gmane.comp.window-managers.awesome/10852
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 983d094c76c5ddb6fe7deeec2f977a981c057a8a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Oct 5 10:47:39 2014 +0200

    wibox.layout.base.rect_to_device_geometry: Fix for "weird" rotations
    
    The old code transformed the top-left and bottom-right corner of the rectangle
    to device space and calculated a rectangle based on these two points. However,
    if you rotate a rectangle by 45¬∞, these two points will be directly above each
    other and thus the old code would calculate a width of 0.
    
    Fix this by transforming all four corners of the rectangle into device space and
    calculating a rectangle based on this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit f2f6eb68214df6369486c55563b957c3572a1c9d
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Sep 25 02:47:40 2014 +0200

    menubar: skip comments in .desktop files

commit a113fe0f3c268f10e1a0264d0fbc2962d3c562a7
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Sep 15 13:55:21 2014 +0200

    awful.widget.button: Override :set_image() to do the right thing
    
    Reported-at: http://article.gmane.org/gmane.comp.window-managers.awesome/10778
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 305f148c4b747b7e28f679deaf6a6872ebbf6f8d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Sep 13 14:20:59 2014 +0200

    gears.color: Use proper references in the doc comments
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 5c387f3bd1d12b5665266d401831962d7c57a06d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Sep 13 14:16:54 2014 +0200

    gears.color: Add a way to bypass the pattern cache
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ae63b5a7586c0ec74f287ca79063555ca8400b22
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Sep 13 14:07:09 2014 +0200

    PATCHES: Mention the unit tests
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4ee144188eceeb2695a010c5f0c05a1e5028c592
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Sep 2 22:07:53 2014 +0200

    tasklist: add/use a single icon for "maximized"
    
    This provides more space in the tasklist, because it will typically only
    use a single icon for maximized clients, instead of three
    (maximized_vertical, maximized_horizontal and floating).
    
    Fixes https://awesome.naquadah.org/bugs/index.php?do=details&task_id=1252

commit b6d32b136e750af010c69b39d0e268c747f25ffa
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Aug 28 19:45:46 2014 +0200

    ldoc: fix usage of @usage, which is <code> automatically

commit 93905348cbd0859eb7f9268b5e581a1cadd221d6
Author: Ev≈æen <actionless.loveless@gmail.com>
Date:   Fri Jun 13 13:36:30 2014 +0200

    fix(lib.awful.taglist): multiple tag selection
    
    multiple tag selection wasn't highlighting properly when *_occupied is set in theme table

commit 0dc6b7f7246e7bab87c8a3065d482b85c2d31dd0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Aug 24 11:54:12 2014 +0200

    gears.wallpaper: Make code more readable
    
    by introducing some extra variables that server as some documentation.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6bc81f5a361e758e3cc0dbb367c16a9fce63d3e9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 23 22:09:17 2014 +0200

    Makefile: distclean is a phony target
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ba50e65b5b5752dce3b4e9e2cffbf83e0712458b
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 23 21:57:52 2014 +0200

    Add unit tests
    
    This uses busted (http://olivinelabs.com/busted/) to implement unit testing.
    This is wired up to "make check" and/or "make test".
    
    This commit also adds tests for the more complicated parts of the gears and
    wibox.layout libraries.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fa9c7c139bb9b7f136133ee8d3590704763bfe70
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Aug 23 17:23:03 2014 +0200

    Add a lost comment to CMakeLists.txt
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0face4fea7882e74791fae653dd7e1716373c1b7
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 20 11:47:47 2014 +0200

    systray: Only register/unregister when needed
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit df3e89ad5c952817db936691acde83b893dd4223
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 20 11:40:50 2014 +0200

    systray: Only intern the atom once
    
    Let's just save the systray atom and keep it around. Why should we redo this
    every time this atom is needed?
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e4f352f3904c00f36d62e04df3dba853c73948e2
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Aug 20 11:26:09 2014 +0200

    wbox: Make :find_widgets() easily accessible
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ac50f4b4121c84060bde9457d6cd3b02d6328271
Author: memeplex <carlosjosepita@gmail.com>
Date:   Mon Aug 18 02:32:11 2014 -0300

    Fix for FS#1293
    
    FS#1293 - Systray won't show with margin layout
    
    https://awesome.naquadah.org/bugs/index.php?do=details&task_id=1293&project=1&order=dateopened&sort=desc

commit 469294a98c191ed70214cd8af625238953e2b885
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Jul 13 16:18:01 2014 +0200

    cmake: Remove useless program checks
    
    We were looking for programs called cat, ln, grep and lua, but didn't ever use
    the result of any of these searches. So let's just not search at all.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1e6f9f22a5f926feee30e959437c4127b017c35d
Author: Sindre F√∏ring Devik <sindre.devik@gmail.com>
Date:   Mon Jun 30 15:08:43 2014 +0200

    FS#1278 - Menubar should check all standard directories
    Added local desktop directory to list of directories parsed by menubar
    by using the XDG specification

commit b6cdccda964aa826df65970e46ff06dcb16ef6ba
Author: SammysHP <sven@sammyshp.de>
Date:   Sun Jun 8 20:18:09 2014 +0200

    gears.wallpaper: Center maximized if no offset set
    
    maximized() used to align the image with (0,0) so that it is shifted to the right or bottom. Most wallpapers are designed from the center, so this behavior is not desired usually. With this commit the wallpaper is centered when no offset is set. To get the old behavior use {x=0, y=0} for the offset parameter.

commit 3dd0c442a031f174000950981154139879933ab0
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 11 17:24:01 2014 +0200

    wibox.widget.systray: Special case the empty systray
    
    Otherwise we could end up with negative size for the systray.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a250dcdbe12a3afa6ffa9fbb26f8c48c7e9cc049
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun May 11 17:21:57 2014 +0200

    systray: Small consistency fixes
    
    Use lua's *integer instead of *number functions, because we are dealing with
    integers. That is, "numbers which do not have a fractional part".
    
    Also some minor fixup for some comments.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 07595ca6179083e302ae3596806261b8a71ab98b
Author: Dario Russo <spyro.boy@gmail.com>
Date:   Sat May 10 00:08:42 2014 -0400

    systray: added definable icon spacing
    
    Default is 0. Customized by adding theme.systray_icon_spacing
    directive in theme.

commit aedcd90d4da41132303636ba15170b6a43cc231f
Author: Jason Yan <tailofthesun@gmail.com>
Date:   Fri May 9 00:18:46 2014 -0700

    Fix check against clients in taglist.

commit 9fce440078f4af300ee71b7b5cfca2b423f18622
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat May 3 11:15:14 2014 +0200

    awful.util.geticonpath: Correctly localize variables
    
    This function was accidentally setting the global variable "icontypes". Fix this
    by adding the needed "local" and also localize some more variables for
    consistency.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 92dc63fe027909ecf7572b6fe6bd64ab35ba12b3
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Apr 21 19:30:03 2014 +0200

    Remove unused argument to awful.client.property.persist
    
    This is a left-over from an old version of the patch which introduced this new
    function.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a90f0c977540fb01ca62bfb6a4361f0182abb9cd
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Apr 21 10:41:07 2014 +0200

    Call AllowEvents after grabbed events on a drawin
    
    When we get an event due to a previous GrabButtons call, we have to continue
    normal event processing again, because the server froze the input device for us.
    Without this, everything appears to freeze.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6d04528bd8179653cdeea38dafafa99103f486ed
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Apr 10 15:32:52 2014 +0200

    Add persistent client properties
    
    `client.property.persist` can be used to make properties persistent
    across restarts. This works by backing them up via X properties (using
    the `awful.client.property.` prefix).
    
    `client.property.persist(c, "floating", "boolean")` is used to make the
    floating property persistent by default.
    
    Based on a patch from Uli, source: https://gist.github.com/psychon/10320743
    
    doc, only set current prop in 'persist'
    
    Fix xprop/prop mixup in 'persist'
    
    Only call set for non-nil values

commit e998e3fe207e22050087ba93821294f80d3a52e2
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Apr 14 10:04:56 2014 +0200

    awful.client.shape: Import client shape handling (FS#1051)
    
    This new awful module reacts to shapes that a client sets on itself and sets the
    shape of awesome's frame window to match. This way, xeyes really gets
    transparent parts again.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c9ff826fbef2b9d4df84c1ef5ec5eba33661abee
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Apr 14 10:04:14 2014 +0200

    xwindow_shape_pixmap: Correctly handle invalid geometry
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dcc348d75e9263dd65934c3074161cf5776ee621
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 13 18:06:49 2014 +0200

    Fix some random ldoc warnings
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a7cdbf468bc6ccd41b87ad5420d3e21d16efb554
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 13 17:48:03 2014 +0200

    Only include awesome-version-internal.h in one place
    
    This means we have one less file which gets recompiled every time the result
    from "git describe" changes.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e65ecb853b25ea1e6a2e96efc21456c6e5aad820
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Apr 13 12:22:24 2014 +0200

    naughty: Support file:// URIs for icon paths
    
    From the Desktop Notification Specification:
    
    'The "app_icon" parameter and "image-path" hint should be either an URI (file://
    is the only URI schema supported right now) or [...]'
    https://developer.gnome.org/notification-spec/#icons-and-images-formats
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1090719d677c86e90a1394a34f0effb418728493
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Apr 12 12:18:34 2014 +0200

    remove awful.widget.taglist.gettag (FS#1256)
    
    It's been broken since ages.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b4b6e6c1fcc94814bed6587ba3e43be6baace3a5
Author: Gino! <grey@greygrease.nowhere.lan>
Date:   Fri Apr 11 17:09:10 2014 -0400

    Fix Icon Finding in awful.util
    
    This should also fix naughty failures to display the correct icons

commit 302aabea3afe952d3c957efde134e8728be5a77c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Thu Apr 10 01:56:18 2014 -0400

    Rename README -> README.md in CMakeLists.txt

commit ec8db18289073be8e327262b4615f379cf2b3221
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Apr 9 22:04:32 2014 +0200

    awful.tag.setscreen: Check if old_screen == new_screen (FS#1249)
    
    Setting a tag's screen to what it already is shouldn't have any bad effects.
    However, this code messed up the tag order and selection status.
    
    Fix this by returning early if the tag already has the right screen.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 27f483a601b00366b6e87f929fd942b148e1812a
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Apr 9 22:02:14 2014 +0200

    awful.tag.move: Fix tag index setting (FS#1249)
    
    Since commit 9c69e857edb6, awful.tag.setscreen() unsets a tag's index to make
    sure things end up in a sane order on the new screen. Thus, the call to
    setscreen() removed the "index" property that tag.move just set.
    
    Fix this by setting the index after the screen.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 96c49e6c6ae1beb17e6906d18e97b72b880965f8
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Apr 9 21:55:07 2014 +0200

    gears.surface: Handle the cache more intelligently
    
    It doesn't make sense for surface.load_uncached() to load a file without
    inserting into the cache. The next "cached" load will have to load it again.
    
    So move cache insertion into surface.load_uncached() and the only thing that
    surface.load() does differently is checking if we have a suitable cache entry
    before calling load_uncached().
    
    So load_uncached() does the cache insertion and load() reads from the cache.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 88643eb0cc754895a1ecc7e2b3430bdb6e8cb0f7
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Apr 9 21:49:27 2014 +0200

    naughty: Don't use the cache when loading icons (FS#1253)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7349f3b902cf8bc3dc425963e449ce3201dfc537
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 15 18:53:01 2014 -0400

    Make sure gears.color.create_png_pattern are being repeated

commit 5fdce4d845935c7cc8608213039d111abf2bff86
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 15 22:00:23 2014 -0400

    Move 'surface_size' to gears.surface and make it public

commit 8ceb821277ccc7428dae4904e33c6fd4182c3ebf
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 7 23:22:49 2014 +0200

    Move README to README.md
    
    This triggers proper syntax highlighting, also with Github.

commit 3ad78570d6bd92730ae91d15d57f82c9bce3b1c7
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Apr 7 23:21:25 2014 +0200

    README: add 'Reporting issues' section and formatting

commit d441030ba97682ccf48a6e7b709da90c33030ceb
Author: Tin Benjamin Matuka <mail@tbmatuka.com>
Date:   Wed Apr 2 15:25:03 2014 +0200

    Allow reversing the icon order in systray
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ed6d5e024627eff928789ea1f0554cc12c9111c4
Author: Uli Schlachter <psychon@znc.in>
Date:   Thu Apr 3 20:27:45 2014 +0200

    gears.color: Handle nil arguments correctly again
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7967d05915c95c8eba7709a46093cc1b6de55572
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Apr 2 22:48:06 2014 +0200

    imagebox: Don't try to scale by infinite (FS#1248)
    
    When an imagebox was drawn with width or height zero, it tried to calculate the
    needed scale factor for making the image fit. Sadly, this would be a division by
    zero aka infinite in this case.
    
    Fix this by just not drawing anything if there is no space available.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a7902f626049662e889230615b55fce0d295aa2d
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Apr 1 16:20:45 2014 +0200

    wibox.drawable: Assert that no cairo error occurred
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit eef20459540991d900ed0d6e8eb6e20cefcc36e1
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Apr 1 16:15:44 2014 +0200

    Revert "root: Make sure cairo doesn't cache our temporary connection" (FS#1245)
    
    This reverts commit c1cb7883b596cb49b3a4fc898b29cc251c1d72b8.
    
    The cairo surface used for uploading the wallpaper doesn't use a temporary
    connection but is on our main connection since commit 5024843e9. Thus, the above
    commit broke all of our cairo drawing instead of just making cairo not touch our
    temporary connection.

commit df23964b20926e63a128e1e507932c3e33c513d8
Author: Daniel Hahler <git@thequod.de>
Date:   Tue Apr 1 10:48:18 2014 +0200

    Make callbacks to rules.execute optional

commit 9f5ee6b86469f8c12a98d5506b13e056b2d66784
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 31 17:39:59 2014 +0200

    systray: Don't set WM_STATE on embedded windows (FS#1246)
    
    Apparently there is no spec which requires doing this and other systray
    implementations do not do this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 14c4dcc9690eb6959b66fceda181ed4fba19aa5f
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 31 13:17:34 2014 +0200

    screen: Fix output deletion
    
    The screen_output_t* that is passed to screen_output_wipe() points into the
    middle of the output array table and is a pointer that we never allocated.
    Instead, what we want to free here is the name of the output.
    
    Thanks to luzie for reporting this.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6dfe48690bc40f0891678ec1e6a836a2aa175fbb
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 23:35:35 2014 +0200

    awful.tooltip: Add (and use) :set_markup() function
    
    Since commit 5b4666432f60028bda51ed, we use set_text() instead of set_markup()
    on the tooltip's textbox. This means it is no longer possible to use pango
    markup in the tooltip which was not intended.
    
    Fix this (properly) by introducing a :set_markup() function on tooltips (and use
    it in the timer function to restore the old behavior).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 90226d0ccf1f47f1df691a85528013042522268f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 23:31:38 2014 +0200

    awful.tooltip: Small reorganization
    
    This inlines the set_defaults() function into its only caller and makes us less
    stupid with the font property.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d2b1e92f9ea5e6d2d8822bc43995c9a613b7942f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 20:07:48 2014 +0200

    Clean up header includes
    
    Every .c file has to include the corresponding .h file first to make sure the
    headers are self-contained. Additionally, this moves some unneeded includes
    around.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 76bbf61201a4b21bf02d651926dab5211d305a98
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 18:08:21 2014 +0200

    drawin: Remove dead code
    
    The only caller for drawin_unref_simplified() is in ARRAY_FUNCS() and here it is
    only used in the implementation of drawin_array_wipe(). However, this function
    is unused and thus we don't need drawin_unref_simplified() either.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fed199eee5f8eb84cbee2e01117bf181fa4c0494
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 17:55:42 2014 +0200

    Also allow screen objects were screen indices are expected
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 271f08473538122eaa2a6387ced9ae16e0643275
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 16:37:19 2014 +0200

    screen: Turn into proper lua object
    
    This makes the screen objects use our existing infrastructure for implementing
    classes and objects with lua instead of hand-rolling an own version.
    
    This results in some small API change: Screen objects no longer have an
    add_signal() function and instead this function exists on the parent screen
    class.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d8b73de7397bb3293637acbe64a84d8e0fbf9086
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 15:12:47 2014 +0200

    screen.[ch]: Move into objects/
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 03fec2b0f5a2a5302241639eea8867414033aec4
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 30 14:58:03 2014 +0200

    Don't set a background-pixel for our client frame windows
    
    Previously we would get a short black flicker when a client closes. This
    happened because first the client's window would get hidden and only a short
    moment later would awesome react to this and close its own window. In the mean
    time, the X server filled the frame window with its background-pixel which was
    black.
    
    Just removing the background-pixel means we get the default value which is None.
    This means that the content will be left untouched and the client's window will
    be visible for a moment longer.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b9361d54c6781b736064f4957febcf39b569bd39
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 29 22:52:04 2014 +0100

    gears.color: Add a pattern cache
    
    This makes gears.color() cache patterns in a weak table and returns that cached
    pattern when we get called with the same argument again.
    
    To benchmark this change, the following code was used:
    
    local time = require("socket").gettime
    
    function benchmark(func)
       local begin = time()
       local iter = 0
       while time() - begin < 1 do
          func()
          iter = iter + 1
       end
       return iter
    end
    
    for _, arg in pairs({
       "#00aa00",
       "solid:#00aa00",
       "radial:50,50,10:55,55,30:0,#ff0000:0.5,#00ff00:1,#0000ff",
       "linear:1,2:3,4:0,#000000:1,#ffffff",
       "png:/home/psychon/Wallpaper/Bars.png",
       { type = "solid", color = "#00aa00" },
       { type = "radial", from = { 50, 50, 10 }, to = { 55, 55, 30 }, stops = { { 0, "#ff0000" }, { 0.5, "#00ff00" }, { 1, "#0000ff" } } },
       { type = "linear", from = { 1, 2 }, to = { 3, 4 }, stops = { { 0, "#000000" }, { 1, "#ffffff" } } },
       { type = "png", file = "/home/psychon/Wallpaper/Bars.png" },
    }) do
       collectgarbage("collect")
       print(benchmark(function() gears.color.create_pattern(arg) end), arg)
    end
    
    Before this change (larger numbers are better, this measures how many times we
    can create the given pattern per second):
    
    29525   #00aa00
    29344   solid:#00aa00
    3446    radial:50,50,10:55,55,30:0,#ff0000:0.5,#00ff00:1,#0000ff
    4845    linear:1,2:3,4:0,#000000:1,#ffffff
    32855   png:/home/psychon/Wallpaper/Bars.png
    29883   table: 0x1bb67e0
    3868    table: 0x1bb6830
    5339    table: 0x1bb6c60
    32772   table: 0x1bb6fe0
    
    After this change:
    
    126188  #00aa00
    125962  solid:#00aa00
    125125  radial:50,50,10:55,55,30:0,#ff0000:0.5,#00ff00:1,#0000ff
    125213  linear:1,2:3,4:0,#000000:1,#ffffff
    113659  png:/home/psychon/Wallpaper/Bars.png
    125586  table: 0x1232680
    125249  table: 0x12326d0
    125468  table: 0x1232b00
    113711  table: 0x1232e80
    
    As you see, this makes some cases about 35 times faster (although I have to
    admit that something like this can be expected from such a synthetic benchmark).
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 79ad0d3e6e395375d84dfb45c168dc6b18cc99d8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 29 21:41:47 2014 +0100

    gears.surface: Cache files from disk
    
    Instead of loading files from disk every time we need them, add a cache to
    gears.surface as a weak table that maps strings to cairo surfaces.
    
    If this cache should be avoided, there is a new gears.surface.load_uncached()
    function which works just like gears.surface.load() worked before.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fac9b6659210d994986cb4f3fceb0ffd33add7cc
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Mar 28 15:17:41 2014 +0100

    Add and improve some comments to awesomerc.lua

commit 3cbdc2a79ff7230fe717ec71c0f7442043e93fd1
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Mar 28 13:29:16 2014 +0100

    Use awful.layout.layouts for implementing optional parameters
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bfc6065ad9d508c82189c73c7b61c9f658a5118c
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 26 18:56:10 2014 -0400

    Make 'layouts' global

commit 163fc18ab844385fe021d88599005490958b8397
Author: Uli Schlachter <psychon@znc.in>
Date:   Fri Mar 28 13:15:24 2014 +0100

    Ignore enter/leave events when unmanaging a window (FS#1239)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bc4a5f38c923ac0b04a233e8ed791e63b857b1a1
Author: Daniel Hahler <git@thequod.de>
Date:   Thu Mar 27 13:50:19 2014 +0100

    manage signal handler: use awesome.startup
    
    The `manage` arg is gone.

commit 8bddba170b415bb27e71978d5ece4ed820d5c532
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Wed Mar 26 17:59:33 2014 -0400

    Fix tag screen switching
    
    The bugs this fix are:
    
     * Invalid request using nil as screen
     * Stop messing indexes in the old screen
     * Prevent c.screen <-> t.screen mismatch
     * Prevent no tags being selected in the old screen

commit d91d36c69c36293be72ba53a61244ef8221ce1e5
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Mar 26 14:29:02 2014 +0100

    awful.tag.withcurrent: Try harder at finding a tag (FS#1196)
    
    When a screen doesn't have any tags selected, then just tag the new client with
    all of the screen's tags. That way, we don't lose clients.
    
    Also, if we failed at coming up with tags for a client, don't completely untag
    it. This means that it can keep its old tags if it had any.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit eed605bf7ff2b75ddcf2ca14798065b08a7656d8
Author: Uli Schlachter <psychon@znc.in>
Date:   Wed Mar 26 14:28:04 2014 +0100

    Revert "awful.client.movetoscreen: Don't untag clients completely (FS#1196)"
    
    This reverts commit bbe86e4e256d20c7aa94a28f7fdc838d5a0abd4e. That commit caused
    unintuitive, special behavior. Instead, when someone wants us to set a screen,
    we really should do so.

commit 981acad29d96582eab69ddaf08cff22e2a3aaf41
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 24 22:05:21 2014 +0100

    awful.tag: Don't tag clients before manage() (FS#1238)
    
    This commit partly reverts commit b4c83d0e702168c5bb.
    
    Because the C code emits property::screen before manage, this caused
    awful.tag.withcurrent() to run on a client before it really was being managed.
    This then tagged the client. Because of this tag changes, awful.layout reacted
    and ran the layout code. Because c.type wasn't set up at this point yet, the
    client wasn't considered to be floating yet. This caused the client's geometry
    to change and thus its floating geometry was messed up.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fc9284fc5339183265bc072c729ce2c5ea27d26a
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Mar 14 22:30:51 2014 +0100

    Drop focus:raise() in magnifier.arrange
    
    This is a useful fix in general, but especially after commit 620732a
    (Remove raise call from mouse.client.move).
    
    Ref: https://github.com/awesomeWM/awesome/pull/9#issuecomment-37736135

commit 8194d555ecc9f803da4796c7734732b276e25a09
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Mar 24 00:18:35 2014 +0100

    Set c.screen in ewmh.tag and before tags in rules.execute
    
    The current premise is that c.screen should be the same as
    awful.tag.getscreen(t).
    
    The addition in `ewmh.tag` appears to be the important part here,
    changing the order in awful.rules.execute is (maybe) only for
    consistency across the codebase.

commit df49d180dd5d5f63c01e8e3455f138a429851e88
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 24 09:49:30 2014 +0100

    Revert "Set c.screen in ewmh.tag and before tags in rules.execute"
    
    This reverts commit 3f9c439311a95fe6bdf083f09363ae196d8e1140.

commit c11153c6309a3cd03829dbca2e62d5b857ba92f2
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Mar 24 01:17:54 2014 +0100

    Fix the call to tag.history.restore from tag.delete
    
    By default, tag.history.restore switches between the previous history
    states, which is not what should get done when deleting a tag.
    
    Without this, deleting multiple tags in a row, will jump back to the
    first/fallback tag, instead of the older history entries.

commit 56c8e6fe1681f62d4e44ef813d46e7a0c444b712
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Mar 24 01:10:45 2014 +0100

    Expand '~' in the path for beautiful.init
    
    This expands the tilde in the path to beautiful.init and changes the
    expansion in theme values to only match '^~/': tilde expansion is only
    meant to be expanded at the beginning.
    
    The latter is not really tested.

commit 3f9c439311a95fe6bdf083f09363ae196d8e1140
Author: Daniel Hahler <git@thequod.de>
Date:   Mon Mar 24 00:18:35 2014 +0100

    Set c.screen in ewmh.tag and before tags in rules.execute
    
    The current premise is that c.screen should be the same as
    awful.tag.getscreen(t).
    
    The addition in `ewmh.tag` appears to be the important part here,
    changing the order in awful.rules.execute is (maybe) only for
    consistency across the codebase.

commit e13d848914097602922526f6f6771bc14095eac1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 22:41:49 2014 +0100

    drawin: Correctly add property::shape_* signals
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1847b0ae1f67c75b18afdee7b45a55535c79bc96
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 21:51:29 2014 +0100

    gears.color.create_opaque_pattern: Fix for SurfacePatterns (FS#1236)
    
    Sorry!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit b4c83d0e702168c5bbcf3becaad89897c3f06d70
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 19:48:07 2014 +0100

    Use signals on classes instead of instances where appropriate
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 23659817bcdc33eab97950154668a569ee6cc459
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 19:29:53 2014 +0100

    beautiful: Don't use non-existant API
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit e39ed59797e049c9e6ed2caf53cb33a159f26961
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 19:29:04 2014 +0100

    awesome.startup_errors: Never emit debug::index::miss
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 88facb7f57f6512bc39efdad3cfa0fe1300dae86
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 19:09:11 2014 +0100

    Make debug::index::miss and newindex work on classes and all objects
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit dd31b42ada1f64f37258ede3dac3f338c04dc77a
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 18:57:48 2014 +0100

    beautiful: Don't use a PangoLayout for getting font height
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit de46670c8ce339e7ddfaf5651e455d9d4c203536
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 18:34:38 2014 +0100

    rc.lua: Raise all clients by default (regression, FS#1234)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6fcfd45e9658f0a5a6624476601f87891f09dfc6
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 18:23:38 2014 +0100

    xproperty: Emit on "awesome" for root window properties
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a6fb932bbc779d921ccda5a8a146b00e3dfb9a6f
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 18:15:03 2014 +0100

    awesome: Add get_* and set_xproperty
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 2869cdc8602837a6ed5274444779c95fbf4631a1
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 18:09:32 2014 +0100

    window: Factor out helper functions for xproperties
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit db0014540691a11f98d7794ff4c22acc31e06d70
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 17:48:26 2014 +0100

    wibox.layout.base.fit_widget: Enforce sane width and height
    
    Previously, odd things could happen if a widget was getting fitted into a
    negative width or, even worse, width being NaN (not a number)!
    
    This can e.g. happen due to a margin layout which doesn't get enough space to
    even draw the margin that it is supposed to add.
    
    Fix this by enforcing a minimum value of 0 for the width and height that a
    widget gets fitted into.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 0ac80ddf30cf5fdee294df18e69fb632befc47d5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 17:39:42 2014 +0100

    imagebox: Avoid division by zero
    
    Given an imagebox i with i.resize_forbidden = false and a valid image set, the
    call t:fit(0, 0) would return two times "not a number".
    
    This is because the code first does some calculations to get the input image
    into the available space and then tried to do some calculations needed for
    scaling images up.
    
    The first calculation already gave us h == 0 == w, the second calculation would
    then calculate 0/0. This results in NaNs.
    
    This was only noticed because NaN is not a valid table index in lua.
    
    Fix this by returning 0,0 if we have an image of width or height 0 after the
    first calculation. Since 0x0 images are valid in cairo, this also fixes the same
    bug with such images.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 82efb1b69e237beb26ff6dd30360df4b88cef297
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 23 16:34:04 2014 +0100

    awful.client: Add marked and unmarked signals (FS#1227)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 02cb961edff60ccbe67d320876b864337015e7e1
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Mar 18 16:28:42 2014 +0100

    luaa: Remove lots of unused code
    
    Most of these are unused since the drawing code was moved to lua. For example,
    the old wibox code needed the metatable entries __next, __ipairs and __pairs so
    that w.widgets worked correctly and could pretend to be a regular lua table.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ae996ee8d6720acf20ea9cc97b8d7d038b3b6fda
Author: Uli Schlachter <psychon@znc.in>
Date:   Tue Mar 18 16:01:04 2014 +0100

    awful.rules: Emit request::activate on the client
    
    There is a strong hint that you are doing something wrong: You call
    client.emit_signal(some_signal, c). Chances are high that this signal is
    supposed to be emitted on the client object 'c' instead of the underlying client
    class.
    
    This applies to awful.rules' usage of this signal.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 41bc77d64c474d8f0df7aeabd40dbc74b63512af
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 17 17:52:09 2014 +0100

    Bump minimum lgi dependency to 0.7.0
    
    Before commit 1b2826 in lgi, the get_rgba() function on cairo SolidPatterns was
    specified like this:
    
        get_rgba = { ret = cairo.Status,
                     { ti.double, dir = 'out' },
                     { ti.double, dir = 'out' },
                     { ti.double, dir = 'out' } },
    
    The above commit fixed this (without saying so) and the code became:
    
        get_rgba = { ret = cairo.Status,
                     { ti.double, dir = 'out' },
                     { ti.double, dir = 'out' },
                     { ti.double, dir = 'out' },
                     { ti.double, dir = 'out' } },
    
    The prototype for the corresponding cairo function is:
    
    cairo_public cairo_status_t
    cairo_pattern_get_rgba (cairo_pattern_t *pattern,
                            double *red, double *green,
                            double *blue, double *alpha);
    
    As you see, this functions gets four double* as arguments and it will save its
    result via those pointers. Old versions of lgi call this function with too few
    arguments and this will cause a segmentation fault when cairo dereferences an
    invalid pointer.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 7c3702e60aabb8a135f0a3bd52bdb787cc599b0e
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 17 16:34:35 2014 +0100

    Fixup indentation
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 86f3b7f11fdde0df0a0d886046fd3d792c1239c5
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 17 16:27:10 2014 +0100

    Drawable: Ignore exposes when we have nothing to draw
    
    The X11 server tells us about things that need to be redrawn via expose events.
    When we get such an expose event before lua drew the drawable, we just fill the
    exposed area with old data (which is black for newly-created drawables).
    
    Fix this by tracking if we have any usable data in a drawable's double buffering
    pixmap. This flag is unset whenever we throw away the old content (e.g. due to a
    resize) and is set when lua gave us some new content to display.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 873358a0b8e5df3e020f953a304a4633a90b3710
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 17 16:15:20 2014 +0100

    EWMH: Handle _NET_WM_DESKTOP in lua
    
    We now handle all "important" EWMH messages in lua and lua can decide to do
    different things than the current obvious one.
    
    Consistency!
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 9e4270f2e7dc0e052323d993839adcaceef0e3ac
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 17 15:38:20 2014 +0100

    ewmh: Use client_set_sticky() for making clients sticky
    
    We can't just directly assign c->sticky directly, because we should emit the
    right signals and unban the client if it is currently ban. All of that gets
    handled by client_set_sticky().
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a9e0d258b79fc450d5d34e22bc7689e9e719a712
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 17 15:34:44 2014 +0100

    EWMH: Ignore invalid _NET_WM_DESKTOP
    
    Commit e291c0398 already made awesome ignore invalid values for _NET_WM_DESKTOP.
    That commit just made it tag clients with the first tag if they used an invalid
    value for this property.
    
    This commit reverts 90% of that change. What is still left is the range
    validation. Previously, awesome would untag a client completely when it got such
    a _NET_WM_DESKTOP property / message. Now, such messages are just silently
    ignored.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 61fdd8cd406c79595fedf0c439f96441238c46cf
Author: Uli Schlachter <psychon@znc.in>
Date:   Mon Mar 17 15:33:28 2014 +0100

    ewmh: Factor out common code into a helper function
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit bbe86e4e256d20c7aa94a28f7fdc838d5a0abd4e
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 21:53:58 2014 +0100

    awful.client.movetoscreen: Don't untag clients completely (FS#1196)
    
    If a client gets moved to a screen without any selected tags, that client
    disappears and it is non-trivial to get it back. Since this is unexpected and
    annoying, make movetoscreen do nothing if the target screen has no tags
    selected.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit edaca590f6825e3534b4f1460526214d225a083d
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 16 20:47:37 2014 +0100

    Only set client's urgent after startup
    
    This looks at awesome.startup in the default 'request::activate' signal
    handler.

commit 9a5a8dc6e8e084f089926c032941c74cd1132624
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 16 01:45:31 2014 +0100

    Factor `awful.rules.apply_do` out of `apply`
    
    This allows to apply properties and callbacks to a client like
    awful.rules.apply would do, without the matching part.
    
    This is useful with the new startup notifications, and lets you apply
    the same properties and callbacks from e.g. a manage signal handler.

commit fed803a6bc710301188fb0f8afd1ecb467bf45df
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 20:15:02 2014 +0100

    client manage signal: Remove startup argument
    
    We now have awesome.startup which does the same thing in better.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 4d35f430dc6341ab4bb67fd7390d7f62718e1752
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 20:09:43 2014 +0100

    Add awesome.startup
    
    This boolean describes if we are still in startup or if our main loop is already
    running.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c1cb7883b596cb49b3a4fc898b29cc251c1d72b8
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 17:22:27 2014 +0100

    root: Make sure cairo doesn't cache our temporary connection
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 794318c1a07125bf2cb3bba53133f2a9c514bf01
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 17:08:36 2014 +0100

    drawable: Add pixmap member
    
    Previously, ownership of the pixmaps that we are using for double buffering was
    a little weird. The pixmap belonged to the drawin/titlebar, but the
    corresponding cairo surface was owned by the drawable. Clean this up by moving
    the pixmap to the drawable.
    
    This cleans up lots of ugly code and also fixes a crash: When a drawable was
    garbage collected before its drawin, drawin_wipe() would crash accessing the
    drawable. This was needed to make it forget about the cairo surface we gave to
    it for the pixmap that is being destroyed.
    
    By moving the pixmap to the drawable, this whole issues goes away.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1da87eca3c5c56f487f397b3f7ddb0feb98ecaf9
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 16:05:09 2014 +0100

    Fix cairo surface memory leak
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6b8bd49c0b8493829252e860be8488b3ca4d0cbf
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 15:29:11 2014 +0100

    Redraw titlebars more intelligently
    
    Whenever a titlebar of a client needed to be refreshed, all (possibly) four
    titlebars would get completely refreshed. So if someone actually added more than
    one titlebar to a client, awesome would copy each titlebar's content to the
    window four times. Fix this by introducing more fine-grined functions for
    uploads.
    
    This also makes awesome only update the affected area when it gets an expose
    event for a titlebar instead of all four titlebars completely.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 1924ee9e6ec0f90e2fa9716555e947870661553d
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 14:58:14 2014 +0100

    drawin: Only redraw on move with translucent background
    
    If a drawable has an opaque background, we don't need pseudo transparency and
    thus its content don't change when it is moved. However, when we need pseudo
    transparency, then we have to redraw the drawable to apply the new background.
    
    Previously we just always did the redraw. This commit adds a helper function
    gears.color.create_opaque_pattern() that analyzes a cairo pattern for
    transparency. We use this new function to only redraw-on-move when there is
    actual pseudo transparency in effect. Otherwise, this redraw can be skipped.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 40e28be7002b766c888bb7baa40155809c23faf5
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 13:25:01 2014 +0100

    awful.tooltip: Work with all gears.colors as foreground
    
    This fixes awful.tooltip so that colors other than "#123456" can be used.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 346034c6b60a8ac4e59dbe86dfd69c30d3d25740
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 09:11:00 2014 +0100

    drawin: Don't unconditionally redraw when made visible
    
    Before this commit, we always threw away the drawin's cairo surface whenever it
    was made visible and thus forced a redraw.
    
    This commit changes this so that we only force a redraw if the drawin was
    resized why it wasn't visible. To remember when this happens, we free the
    drawin's cairo surface without allocating a new one when the drawin is resized
    while not being visible. Thus, we then only have to allocate a new surface if
    the drawin doesn't have one when it is being made visible.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a82b15d80502ad0c2ed1928975a1a6abaf949122
Author: Uli Schlachter <psychon@znc.in>
Date:   Sun Mar 16 08:56:55 2014 +0100

    drawin: Inline drawin_init() into its only caller
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d6e06450d39f9ee0995af916580936361b9a86b9
Author: Emmanuel Lepage Vallee <elv1313@gmail.com>
Date:   Sat Mar 15 18:09:33 2014 -0400

    Add end to end support for spawning tracking using startup notifications
    
    This allow to spawn something, then apply some properties or rules when
    the client show up ("manage").
    
    This commit add:
     * "startup_id" property for all clients object (immutable, can be nil)
     * Second return value to awful.util.spawn() with the startup_id
     * Update the documentation
    
    Example:
    
      local wait_for_it = {}
    
      local pid,snid = awful.util.spawn("urxvtc")
      wait_for_it[snid] = {ontop=true,sticky=false,
         tag = awful.tag.gettags(mouse.screen)[1] }
    
      client.connect_signal("manage", function (c, startup)
         if c.startup_id and wait_for_it[c.startup_id] then
            for k,v in pairs(wait_for_it[c.startup_id]) do
               c[k] = v
            end
            if wait_for_it[c.startup_id].tag then
               c:tags({wait_for_it[c.startup_id].tag})
            end
         end
      end)
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ef27189ffec5f50260c2c38241e8be265663e9df
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 15 11:56:57 2014 +0100

    Client: Add (and use) visualtype member to client_t objects
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 6c4668cb495c9ebc4804c89407b357ab544c6259
Author: Uli Schlachter <psychon@znc.in>
Date:   Sat Mar 15 11:48:32 2014 +0100

    scan(): Use less iterations for scanning for windows
    
    There isn't much of a point in doing all the GetGeometry requests in an extra
    run through the list. This commit merges it into the previous loop through all
    windows.
    
    This means that we now request some information during startup that we never
    actually need, but I can live with that just fine.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit d9aed1b21e3c530adb533ff06014759868507daf
Author: Daniel Hahler <git@thequod.de>
Date:   Sun Mar 9 22:03:32 2014 +0100

    awful.rules: add does_match and matching_rules functions (FS#1224)
    
    Signed-off-by: Daniel Hahler <git@thequod.de>
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit a15e53deec397cf6306f7ebd9432861dfead276f
Author: Daniel Hahler <git@thequod.de>
Date:   Sat Mar 15 02:56:58 2014 +0100

    Minor doc fixes

commit ac45dc9f59f3053586a396e3a724c3447ce3c76f
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Mar 14 04:14:03 2014 +0100

    Add client.maximized (a shortcut for ~_horizontal and ~_vertical)
    
    This also adds the signals `property::maximized`.
    
    Signed-off-by: Daniel Hahler <git@thequod.de>

commit 31e3399abeca0be72722819ddfc26840c2f9df5a
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Mar 14 17:21:11 2014 +0100

    Fallback to comparing layout names in awful.layout.inc
    
    This helps in cases where you have accidentally cloned an entry from
    `layouts`.
    
    Previously, no current index would be found and the function would
    silently fail.
    
    Signed-off-by: Daniel Hahler <git@thequod.de>

commit 11f7b5aa3d35a215209e4b59d60b174864e007e8
Author: Daniel Hahler <git@thequod.de>
Date:   Fri Mar 14 17:10:24 2014 +0100

    Add a "deep" option to awful.util.table.clone
    
    This allows for having clones of a table, where its entries are still
    references to the original values.
    
    This is useful for copying a "default props" table, where you want to
    keep the reference to entries like `awful.layout.suit.tile`.
    
    Signed-off-by: Daniel Hahler <git@thequod.de>

commit b1c14d56608624f7dd77affa3833b9dd963e9c95
Author: sirkha <sirkha@gmail.com>
Date:   Sat Jan 4 13:10:01 2014 -0600

    Added Comments
    
    Added some comments to explain the changed code and how it functions
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit fbba41ddaa3012720819e4c803542a73adf854e8
Author: sirkha <sirkha@gmail.com>
Date:   Thu Jan 2 02:09:08 2014 -0600

    Added Expand Modes
    
    Added set_expand function with options of "none" "outside" or "inside" modes.
    The "inside" mode is the default and will result in the original behavior. The
    main benefit is being able to actually center a widget in the available space
    with options of how to draw the outside widgets (expand to take the space,
    or not.) Further functionality can be had by ommiting one of the outside
    widgets. Set default layout mode in the constructor.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit 601dc232db6a812594ab0ba5ab1e524b1c438e83
Author: sirkha <sirkha@gmail.com>
Date:   Sat Jan 4 09:13:41 2014 -0600

    Fixed Flex Layout Fit Behavior
    
    Modified flex:fit so that it will not return more than its sub-widgets need.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit ceaeaedb5b1cd98b9ae1e04d6011219a3a11e228
Author: sirkha <sirkha@gmail.com>
Date:   Sat Jan 4 09:10:37 2014 -0600

    Fix Align Layout Fit Behavior
    
    This changes the align layout fit function so that align:fit will not return
    more space than is actually needed by its sub-widgets. Changes to align:draw
    were also required so that any widget assigned to the middle slot will expand
    to fill the remaining space.
    
    Signed-off-by: Uli Schlachter <psychon@znc.in>

commit c8cbada899e2fa307dbfe7368801a1ce9fc8176d
Author: Daniel Hahler <git@thequod.de>
Date:   Wed Mar 12 01:46:37 2014 +0100

    Emit tag::history::update signal from tag.history.restore
    
    Restoring a previous history entry changes the tag history (in the
    meaning of currently selected tags), and therefore should also emit the
    tag::history::update signal.
    
    A use case might be to automatically hide tags with no clients on them.
    
    Signed-off-by: Daniel Hahler <git@thequod.de>
